<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="robots" content="noindex, nofollow">
    
    <!-- Google Fonts - ÊÄùÊ∫êÂÆãÈ´î (Noto Serif) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+KR:wght@400;600&family=Noto+Serif+TC:wght@400;600&display=swap" rel="stylesheet">
    
    <!-- Favicon - Emoji Ê®£Âºè -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üçÄ</text></svg>">
    
    <title>Discourse dissemination Tracker</title>
    <style>
        :root {
            --primary-green: #43a047;
            --dark-green: #2e7d32;
            --light-green-bg: #f1f8e9;
            --border-color: #c5e1a5;
            --text-color: #333;
            --danger-red: #e53935;
        }

        * { box-sizing: border-box; }

        body {
            /* ‰øÆÊîπÈªûÔºöÊñ∞Â¢û Emoji Â≠óÈ´îÊîØÊè¥ 
               "Apple Color Emoji" -> iOS/macOS
               "Segoe UI Emoji", "Segoe UI Symbol" -> Windows
               "Noto Color Emoji" -> Android/Linux
            */
            font-family: "Malgun Gothic", "Apple SD Gothic Neo", "Segoe UI", 
                         "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", 
                         sans-serif;
            background: linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%);
            margin: 0;
            padding: 0;
            min-height: 100vh;
            color: var(--text-color);
        }

        /* --- Â∞éËà™Âàó --- */
        nav {
            background: white;
            padding: 0 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            display: flex;
            align-items: center;
            justify-content: space-between;
            height: 60px;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .nav-left { display: flex; align-items: center; position: relative; }

        .nav-title {
            font-weight: bold;
            color: var(--primary-green);
            font-size: 1.3rem;
            display: flex;
            align-items: center;
        }

        .menu-toggle {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px 15px;
            background: #f5f5f5;
            border-radius: 25px;
            cursor: pointer;
            margin-left: 15px;
            transition: all 0.3s;
        }
        .menu-toggle:hover {
            background: #e8f5e9;
        }
        .hamburger-icon {
            font-size: 1.2rem;
            color: var(--primary-green);
        }
        #current-page-title {
            font-size: 0.95rem;
            font-weight: 500;
            color: #333;
        }
        .dropdown-arrow {
            font-size: 0.7rem;
            color: #666;
            transition: transform 0.3s;
        }
        .menu-toggle.open .dropdown-arrow {
            transform: rotate(180deg);
        }

        .menu-dropdown {
            display: none;
            position: absolute;
            top: 50px;
            left: 40px;
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.15);
            padding: 10px;
            z-index: 200;
            min-width: 220px;
            animation: dropdownFadeIn 0.2s ease;
        }
        .menu-dropdown.show {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }
        @keyframes dropdownFadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* ÈÅ∏ÂñÆÂàÜÈ°ûÊ®ôÈ°å */
        .menu-category {
            border-bottom: 1px solid #eee;
            padding-bottom: 8px;
            margin-bottom: 5px;
        }
        .menu-category:last-child {
            border-bottom: none;
            padding-bottom: 0;
            margin-bottom: 0;
        }
        .menu-category-title {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 15px;
            font-weight: 600;
            color: var(--primary-green);
            cursor: pointer;
            border-radius: 8px;
            transition: background 0.2s;
        }
        .menu-category-title:hover {
            background: #e8f5e9;
        }
        .submenu-arrow {
            font-size: 0.7rem;
            transition: transform 0.3s;
        }
        .menu-category.open .submenu-arrow {
            transform: rotate(90deg);
        }
        
        /* Â≠êÈÅ∏ÂñÆ */
        .menu-submenu {
            display: none;
            flex-direction: column;
            gap: 3px;
            padding-left: 10px;
            margin-top: 5px;
        }
        .menu-category.open .menu-submenu {
            display: flex;
        }

        .menu-btn {
            background: transparent;
            border: none;
            padding: 10px 15px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1.15rem;
            color: #666;
            transition: all 0.3s;
            text-align: left;
        }
        .menu-btn:hover {
            background: #e8f5e9;
        }
        .menu-btn.active { background-color: var(--primary-green); color: white; font-weight: bold; }

        .lang-select {
            padding: 5px 10px;
            border-radius: 5px;
            border: 1px solid #ccc;
            background: white;
            font-size: 0.9rem;
            color: #555;
            outline: none;
        }

        /* --- ÂÆπÂô® --- */
        .container {
            width: 100%;
            max-width: 1280px;
            margin: 20px auto;
            background: rgba(255, 255, 255, 0.98);
            border-radius: 16px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            padding: 25px 25px;
            min-height: 600px;
        }
        
        /* Ëá™ÈÅ©ÊáâÂ≠óÈ´îÂ§ßÂ∞è */
        html {
            font-size: clamp(15px, 1.5vw, 17px);
        }

        .page-section { display: none; animation: fadeIn 0.3s ease; }
        .page-section.active-section { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: translateY(0); } }

        h2 {
            color: var(--dark-green);
            border-bottom: 3px solid #a8e063;
            padding-bottom: 10px;
            margin-top: 0;
        }

        /* --- Ë°®ÂñÆ --- */
        .form-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
        .form-full-width { grid-column: 1 / -1; }
        .form-group { margin-bottom: 5px; min-width: 0; }
        
        label { display: block; margin-bottom: 6px; font-weight: bold; color: var(--dark-green); font-size: 0.9rem; }
        
        input, select, textarea {
            width: 100%; 
            max-width: 100%; 
            padding: 10px; 
            border: 1px solid var(--border-color);
            border-radius: 6px; 
            font-size: 15px; 
            outline: none;
            box-sizing: border-box; 
            min-width: 0;
            /* Á¢∫‰øùËº∏ÂÖ•Ê°ÜÂÖß‰πüËÉΩÊ≠£Á¢∫È°ØÁ§∫ Emoji */
            font-family: inherit;
        }
        
        /* Êó•ÊúüËº∏ÂÖ•Ê°ÜÁâπÂà•ËôïÁêÜ - Èò≤Ê≠¢Ë∂ÖÂá∫ÂÆπÂô® */
        input[type="date"] {
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
            min-height: 44px;
        }
        input:focus, select:focus, textarea:focus { border-color: var(--primary-green); box-shadow: 0 0 0 2px rgba(67, 160, 71, 0.15); }
        
        /* Âú∞ÈªûËº∏ÂÖ•Ê°ÜÂåÖË£ùÂô® */
        .location-input-wrapper {
            display: flex;
            gap: 8px;
            align-items: center;
        }
        .location-input-wrapper input {
            flex: 1;
        }
        .maps-btn {
            background: #4285f4;
            color: white;
            border: none;
            border-radius: 6px;
            padding: 10px 12px;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            min-width: 44px;
            height: 44px;
        }
        .maps-btn:hover {
            background: #3367d6;
            transform: scale(1.05);
        }
        .maps-btn:active {
            transform: scale(0.95);
        }
        
        /* ÁîüÊó•/Âπ¥Á¥ÄËº∏ÂÖ•Ê°Ü */
        .birthday-input-wrapper {
            display: flex;
            align-items: center;
            gap: 5px;
        }
        .birthday-input-wrapper input {
            text-align: center;
        }
        #profileBirthYear {
            width: 70px;
        }
        #profileBirthMonth, #profileBirthDay {
            width: 50px;
        }
        .birthday-separator {
            color: #666;
            font-weight: bold;
        }
        .age-input {
            width: 55px;
        }
        .age-unit {
            color: #666;
            font-size: 0.9rem;
        }
        
        .status-bar {
            grid-column: 1 / -1; padding: 10px; border-radius: 6px; font-size: 0.9rem; margin-bottom: 10px; display: none;
        }
        .status-found { background: #e8f5e9; color: #2e7d32; }
        .status-new { background: #fff3e0; color: #ef6c00; }
        .status-loading { background: #e3f2fd; color: #1565c0; text-align: center; }

        button.submit-btn {
            width: 100%; padding: 14px; margin-top: 20px;
            background: var(--primary-green); color: white; border: none; border-radius: 8px;
            font-size: 1rem; font-weight: bold; cursor: pointer;
        }
        button.submit-btn:disabled { background: #ccc; cursor: not-allowed; }

        /* --- ÂæåÂè∞ÂàóË°® --- */
        .backend-toolbar {
            display: flex; justify-content: space-between; align-items: center;
            margin-bottom: 15px; padding: 10px; background: #fafafa; border-radius: 8px; flex-wrap: wrap; gap: 10px;
            min-height: 50px;
        }
        
        .toolbar-left { display: flex; align-items: center; gap: 10px; font-size: 0.95rem; font-weight: bold; color: #555; flex-wrap: wrap; }
        
        .stat-item { display: flex; align-items: center; white-space: nowrap; }
        .stat-divider { margin: 0 8px; color: #ccc; }
        .highlight-stat { color: #2e7d32; }

        .edit-controls { display: none; align-items: center; gap: 10px; }
        .show-edit .edit-controls { display: flex; } 
        
        .toggle-edit-btn {
            background: #2196f3; color: white; border: none; padding: 8px 16px; 
            border-radius: 6px; cursor: pointer; font-weight: bold; font-size: 0.9rem;
            transition: background 0.3s;
        }
        .toggle-edit-btn.editing { background: var(--primary-green); }

        .delete-btn {
            background: #ffebee; color: #c62828; border: 1px solid #ffcdd2;
            padding: 8px 15px; border-radius: 6px; cursor: pointer; font-weight: bold; font-size: 0.9rem;
        }

        /* È†≠ÂÉèÊ®£Âºè */
        .avatar-cell {
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .user-avatar {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background: linear-gradient(135deg, #a8e063 0%, #56ab2f 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 14px;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            position: relative;
        }
        .user-avatar:hover {
            transform: scale(1.1);
            box-shadow: 0 2px 8px rgba(0,0,0,0.2);
        }

        /* ÂÄã‰∫∫Ë≥áË®äÂΩàÂá∫Ê°Ü */
        .profile-popup {
            display: none;
            position: absolute;
            top: 45px;
            left: 0;
            background: white;
            border-radius: 10px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.15);
            padding: 15px;
            min-width: 200px;
            max-width: 280px;
            z-index: 50;
            animation: popupFadeIn 0.2s ease;
            word-break: break-all;
        }
        .profile-popup.show {
            display: block;
        }
        @keyframes popupFadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .profile-popup-item {
            display: flex;
            justify-content: space-between;
            padding: 6px 0;
            border-bottom: 1px solid #eee;
            font-size: 0.9rem;
        }
        .profile-popup-item:last-child {
            border-bottom: none;
        }
        .profile-popup-label {
            color: #888;
            font-weight: bold;
        }
        .profile-popup-value {
            color: #333;
        }

        /* Ê¥ªË∫çÂ∫¶Ê®ôÁ±§ */
        .activity-badge {
            padding: 3px 8px;
            border-radius: 10px;
            font-size: 0.75rem;
            font-weight: bold;
            color: white;
            display: inline-block;
        }
        .activity-high {
            background: #e53935;
        }
        .activity-normal {
            background: #43a047;
        }
        .activity-low {
            background: #1e88e5;
        }

        /* Grid System - Á∑ö‰∏äÂæåÂè∞ */
        .grid-row {
            display: grid;
            grid-template-columns: 0px 40px 0.6fr 0.5fr 0.8fr 1.2fr 1.5fr 0px; 
            align-items: center; padding: 15px; transition: all 0.3s ease;
        }
        .list-container.edit-mode .grid-row {
            grid-template-columns: 40px 40px 0.6fr 0.5fr 0.8fr 1.2fr 1.5fr 40px; 
        }

        /* Grid System - Á∑ö‰∏ãÂæåÂè∞ */
        .offline-grid-row {
            display: grid;
            grid-template-columns: 0px 40px 0.6fr 0.5fr 0.8fr 1fr 0.8fr 0.8fr 0px; 
            align-items: center; padding: 15px; transition: all 0.3s ease;
        }
        .list-container.edit-mode .offline-grid-row {
            grid-template-columns: 40px 40px 0.6fr 0.5fr 0.8fr 1fr 0.8fr 0.8fr 40px; 
        }

        .list-header-row {
            background: var(--primary-green); color: white; font-weight: bold;
            border-radius: 8px 8px 0 0; margin-top: 10px;
            padding: 10px 15px; 
        }
        
        .sortable { cursor: pointer; user-select: none; display: flex; align-items: center; gap: 5px; }

        .user-card { border: 1px solid #eee; border-top: none; background: white; }
        .user-card:last-child { border-radius: 0 0 8px 8px; }

        .user-summary { cursor: pointer; font-size: 1rem; }
        .user-summary:hover { background: #f9fbe7; }
        .user-summary.expanded { background: #f1f8e9; border-bottom: 1px solid #e0e0e0; }

        .user-details { display: none; background: #fafafa; }
        .user-details.show { display: block; }

        .detail-row { border-bottom: 1px solid #eee; background: #fff; color: #555; font-size: 1rem; }
        .detail-row:last-child { border-bottom: none; }

        .check-cell { overflow: hidden; white-space: nowrap; display: flex; justify-content: center; opacity: 0; transition: opacity 0.3s; }
        .list-container.edit-mode .check-cell { opacity: 1; }

        .action-cell { overflow: hidden; display: flex; justify-content: center; opacity: 0; transition: opacity 0.3s; }
        .list-container.edit-mode .action-cell { opacity: 1; }

        /* ÂÖßÂÆπÊèõË°åÈ°ØÁ§∫Ë®≠ÂÆö */
        .col-content, .detail-row .editable {
            white-space: pre-wrap; 
            word-break: break-word; 
        }

        .editable { cursor: default; }
        .list-container.edit-mode .editable { 
            cursor: pointer; border: 1px dashed #ccc; border-radius: 4px; padding: 2px 4px; background: #fff;
        }
        .list-container.edit-mode .editable:hover { border-color: #2196f3; background: #e3f2fd; }

        .btn-remove-log {
            background: #ffcdd2; color: #b71c1c; border: none; width: 24px; height: 24px;
            border-radius: 50%; cursor: pointer; font-weight: bold; display: flex; align-items: center; justify-content: center;
        }

        .tag { padding: 4px 10px; border-radius: 12px; font-size: 0.85rem; color: white; display: inline-block; }
        .tag-me { background: #26a69a; }
        .tag-other { background: #ef5350; }
        
        /* Ë§áË£ΩÊàêÂäüÊèêÁ§∫ */
        .copy-toast {
            position: fixed;
            bottom: 80px;
            left: 50%;
            transform: translateX(-50%) translateY(20px);
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 10px 20px;
            border-radius: 25px;
            font-size: 0.9rem;
            z-index: 9999;
            opacity: 0;
            transition: all 0.3s ease;
            pointer-events: none;
        }
        .copy-toast.show {
            opacity: 1;
            transform: translateX(-50%) translateY(0);
        }
        
        /* ÂèØË§áË£ΩÁöÑÂÖßÂÆπ */
        .copyable {
            cursor: pointer;
        }

        /* RWD ÈüøÊáâÂºèË™øÊï¥ */
        @media (max-width: 700px) {
            .container { padding: 20px 15px; margin: 10px auto; width: 95%; }
            .form-grid { grid-template-columns: 1fr; }
            .nav-title span { display: none; }
            .list-header-row { display: none; } 
            
            input, select, textarea {
                width: 100% !important;
                max-width: 100% !important;
            }
            
            /* ‰øÆÊ≠£Êó•ÊúüËº∏ÂÖ•Ê°ÜË∂ÖÂá∫ÈÇäÁïåÂïèÈ°å */
            input[type="date"] {
                width: 100% !important;
                max-width: 100% !important;
                -webkit-appearance: none;
                -moz-appearance: none;
                appearance: none;
            }

            .grid-row, .list-container.edit-mode .grid-row,
            .offline-grid-row, .list-container.edit-mode .offline-grid-row {
                display: flex; flex-direction: row; flex-wrap: wrap; align-items: center; gap: 8px; position: relative;
                padding-left: 15px; padding-right: 15px;
            }
            .list-container.edit-mode .grid-row,
            .list-container.edit-mode .offline-grid-row { padding-left: 45px; } 

            .user-summary.grid-row,
            .user-summary.offline-grid-row {
                padding-top: 12px;
                padding-bottom: 12px;
            }

            .menu-items {
                flex-wrap: wrap;
                gap: 3px;
            }
            .menu-btn {
                font-size: 0.8rem;
                padding: 4px 8px;
            }

            .avatar-cell {
                position: relative;
                flex-shrink: 0;
            }

            .user-avatar {
                width: 32px;
                height: 32px;
                font-size: 12px;
            }

            .profile-popup {
                left: 0;
                right: auto;
                min-width: 160px;
                max-width: calc(100vw - 40px);
                word-break: break-all;
            }

            .activity-badge {
                font-size: 0.7rem;
                padding: 2px 6px;
            }
            
            .check-cell { position: absolute; left: 10px; top: 15px; width: auto; opacity: 0; pointer-events: none;}
            .list-container.edit-mode .check-cell { opacity: 1; pointer-events: auto; }
            
            .action-cell { position: absolute; right: 10px; top: 10px; width: auto; opacity: 0; pointer-events: none;}
            .list-container.edit-mode .action-cell { opacity: 1; pointer-events: auto; }
            
            .col-date { font-size: 0.85rem; color: #666; }
            .col-content { width: 100%; white-space: pre-wrap; }
            
            /* ÊâãÊ©üÁâàÂæåÂè∞ÔºöËÆìÊó•ÊúüÊèõË°åÈ°ØÁ§∫ */
            .user-summary.grid-row .col-date,
            .user-summary.offline-grid-row .col-date {
                width: 100%;
                order: 10;
                margin-top: 5px;
            }

            .detail-row.grid-row,
            .detail-row.offline-grid-row {
                padding-left: 50px;
            }
        }
        
        /* ===== ËÅñÁ∂ìÈ†ÅÈù¢Ê®£Âºè ===== */
        .bible-container {
            padding: 10px;
        }
        
        .bible-section-title {
            font-size: 1.1rem;
            font-weight: bold;
            color: var(--primary-green);
            padding: 15px 0 10px;
            border-bottom: 2px solid var(--border-color);
            margin-bottom: 10px;
        }
        
        .bible-books-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(90px, 1fr));
            gap: 8px;
            margin-bottom: 20px;
        }
        
        .bible-book-btn {
            background: white;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 12px 8px;
            text-align: center;
            cursor: pointer;
            transition: all 0.2s;
            font-size: 0.85rem;
        }
        
        .bible-book-btn:hover {
            background: var(--light-green-bg);
            border-color: var(--primary-green);
        }
        
        .bible-book-btn.active {
            background: var(--primary-green);
            color: white;
            border-color: var(--primary-green);
        }
        
        .bible-book-btn .ko { display: block; font-weight: 600; }
        .bible-book-btn .zh { display: block; font-size: 0.75rem; color: #666; margin-top: 2px; }
        .bible-book-btn.active .zh { color: rgba(255,255,255,0.8); }
        
        /* Á´†ÁØÄÈÅ∏ÊìáÂçÄ */
        .bible-chapters-container {
            display: none;
            background: #f9f9f9;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 15px;
        }
        
        .bible-chapters-container.show {
            display: block;
        }
        
        .bible-chapters-title {
            font-weight: 600;
            margin-bottom: 10px;
            color: #333;
        }
        
        .bible-chapters-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(45px, 1fr));
            gap: 6px;
        }
        
        .bible-chapter-btn {
            background: white;
            border: 1px solid #ddd;
            border-radius: 6px;
            padding: 10px 5px;
            text-align: center;
            cursor: pointer;
            font-size: 0.9rem;
            transition: all 0.2s;
        }
        
        .bible-chapter-btn:hover {
            background: var(--light-green-bg);
            border-color: var(--primary-green);
        }
        
        /* ËÅñÁ∂ìÂÖßÂÆπÈ†Å */
        .bible-content-view {
            display: none;
        }
        
        .bible-content-view.show {
            display: block;
        }
        
        .bible-content-header {
            display: flex;
            align-items: center;
            padding: 10px 0;
            border-bottom: 1px solid var(--border-color);
            margin-bottom: 15px;
        }
        
        .bible-back-btn {
            background: var(--light-green-bg);
            border: none;
            border-radius: 8px;
            padding: 8px 15px;
            cursor: pointer;
            font-size: 0.9rem;
            color: var(--primary-green);
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .bible-back-btn:hover {
            background: var(--border-color);
        }
        
        .bible-content-title {
            flex: 1;
            text-align: center;
            font-size: 1.35rem;
            font-weight: 600;
            font-family: "Noto Serif TC", "Noto Serif KR", serif;
        }
        
        .bible-content-title .ko { display: block; font-family: "Noto Serif KR", "Noto Serif TC", serif; }
        .bible-content-title .zh { display: block; font-size: 1.15rem; color: #666; margin-top: 2px; font-family: "Noto Serif TC", "Noto Serif KR", serif; }
        
        .bible-verses {
            line-height: 2.1;
            font-size: 1.15rem;
            font-family: "Noto Serif TC", "Noto Serif KR", serif;
        }
        
        .bible-verse {
            margin-bottom: 15px;
        }
        
        .bible-verse .verse-num {
            color: var(--primary-green);
            font-weight: bold;
            font-size: 1.1rem;
            margin-right: 8px;
            font-family: "Noto Serif TC", "Noto Serif KR", serif;
        }
        
        .bible-verse .verse-text-ko {
            display: block;
            color: #555;
            font-size: 1.15rem;
            margin-left: 24px;
            margin-bottom: 8px;
            line-height: 1.8;
            font-family: "Noto Serif KR", "Noto Serif TC", serif;
        }
        
        .bible-verse .verse-text-zh {
            display: block;
            font-size: 1.2rem;
            line-height: 1.9;
            font-family: "Noto Serif TC", "Noto Serif KR", serif;
        }
        
        /* ÊÆµËêΩÊ®ôÈ°å - Âè™È°ØÁ§∫‰∏≠Êñá */
        .bible-section-heading {
            margin: 28px 0 18px;
            padding: 14px 0;
            border-bottom: 1px solid var(--border-color);
        }
        
        .bible-section-heading:first-child {
            margin-top: 0;
        }
        
        .bible-section-heading .heading-ko {
            display: none;
        }
        
        .bible-section-heading .heading-zh {
            display: block;
            font-size: 1.3rem;
            font-weight: 600;
            color: var(--dark-green);
            font-family: "Noto Serif TC", "Noto Serif KR", serif;
        }
        
        /* ËøîÂõûÈ†ÇÈÉ®ÊåâÈàï */
        .scroll-top-btn {
            position: fixed;
            bottom: 30px;
            right: 20px;
            width: 45px;
            height: 45px;
            background: var(--primary-green);
            color: white;
            border: none;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1.2rem;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 100;
            transition: all 0.3s;
        }
        
        .scroll-top-btn.show {
            display: flex;
        }
        
        .scroll-top-btn:hover {
            background: var(--dark-green);
            transform: scale(1.1);
        }
        
        .bible-copyright {
            text-align: center;
            font-size: 0.75rem;
            color: #999;
            padding: 20px 10px;
            border-top: 1px solid #eee;
            margin-top: 20px;
        }
        
        /* Èï∑ÊåâË§áË£ΩÈÅ∏ÂñÆ */
        .bible-copy-menu {
            display: none;
            position: fixed;
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.25);
            z-index: 1000;
            overflow: hidden;
            min-width: 140px;
        }
        
        .bible-copy-menu.show {
            display: block;
        }
        
        .bible-copy-menu-item {
            padding: 14px 18px;
            cursor: pointer;
            font-size: 0.95rem;
            border-bottom: 1px solid #eee;
            transition: background 0.2s;
        }
        
        .bible-copy-menu-item:last-child {
            border-bottom: none;
        }
        
        .bible-copy-menu-item:hover {
            background: var(--light-green-bg);
        }
        
        .bible-copy-menu-item:active {
            background: var(--border-color);
        }
        
        .bible-copy-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            z-index: 999;
        }
        
        .bible-copy-overlay.show {
            display: block;
        }
        
        /* ÈÉ®ÂàÜË§áË£ΩÂΩàÁ™ó */
        .bible-partial-copy-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            z-index: 1100;
            align-items: center;
            justify-content: center;
            background: rgba(0,0,0,0.5);
        }
        
        .bible-partial-copy-modal.show {
            display: flex;
        }
        
        .bible-partial-copy-bubble {
            background: white;
            border-radius: 16px;
            padding: 20px;
            width: 90%;
            max-width: 400px;
            max-height: 70vh;
            box-shadow: 0 4px 25px rgba(0,0,0,0.3);
            display: flex;
            flex-direction: column;
        }
        
        .bible-partial-copy-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid var(--border-color);
        }
        
        .bible-partial-copy-title {
            font-size: 1rem;
            font-weight: 600;
            color: var(--dark-green);
        }
        
        .bible-partial-copy-close {
            background: none;
            border: none;
            font-size: 1.3rem;
            cursor: pointer;
            color: #888;
            padding: 5px;
        }
        
        .bible-partial-copy-content {
            flex: 1;
            overflow-y: auto;
            margin-bottom: 15px;
            padding: 15px;
            background: #fafafa;
            border-radius: 10px;
            font-family: "Noto Serif TC", "Noto Serif KR", serif;
            font-size: 1.1rem;
            line-height: 1.9;
            -webkit-user-select: text;
            user-select: text;
        }
        
        .bible-partial-copy-content .verse-label {
            color: var(--primary-green);
            font-weight: bold;
            display: block;
            margin-bottom: 8px;
            font-size: 0.95rem;
        }
        
        .bible-partial-copy-content .verse-ko {
            color: #555;
            display: block;
            margin-bottom: 10px;
            font-family: "Noto Serif KR", "Noto Serif TC", serif;
        }
        
        .bible-partial-copy-content .verse-zh {
            display: block;
            font-family: "Noto Serif TC", "Noto Serif KR", serif;
        }
        
        .bible-partial-copy-hint {
            text-align: center;
            font-size: 0.85rem;
            color: #888;
            margin-bottom: 10px;
        }
        
        .bible-partial-copy-btn {
            width: 100%;
            padding: 12px;
            background: var(--primary-green);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 1rem;
            cursor: pointer;
            transition: background 0.2s;
        }
        
        .bible-partial-copy-btn:hover {
            background: var(--dark-green);
        }
        
        .bible-verse {
            cursor: pointer;
            padding: 8px 5px;
            margin: 0 -5px;
            border-radius: 8px;
            transition: background 0.2s;
            -webkit-user-select: none;
            user-select: none;
            -webkit-touch-callout: none;
            -webkit-tap-highlight-color: transparent;
        }
        
        .bible-verse:active {
            background: var(--light-green-bg);
        }
        
        /* Èï∑ÊåâÁ≠âÂæÖÁãÄÊÖã */
        .bible-verse.long-press {
            background: #e8f5e9;
        }
        
        /* Èï∑ÊåâÊàêÂäüÂèçÈ•ã */
        .bible-verse.long-press-success {
            background: var(--border-color);
        }
        
        /* Á¶ÅÁî®ËÅñÁ∂ìÂÖßÂÆπÂçÄÂüüÁöÑÁ≥ªÁµ±Âè≥ÈçµÈÅ∏ÂñÆÂíåÈï∑ÊåâÈÅ∏ÂñÆ */
        .bible-verses,
        .bible-search-preview-body {
            -webkit-touch-callout: none;
            -webkit-user-select: none;
            user-select: none;
        }
        
        /* ===== ËÅñÁ∂ìÂè≥ÂÅ¥ÂäüËÉΩÊåâÈàïÁæ§ÁµÑ ===== */
        .bible-fab-container {
            position: fixed;
            right: 15px;
            top: 70px;
            z-index: 90;
            display: none;
            flex-direction: column;
            align-items: center;
            gap: 10px;
        }
        
        .bible-fab-container.show {
            display: flex;
        }
        
        /* ‰∏ªÊåâÈàïÔºàÂ±ïÈñã/Êî∂Ëµ∑Ôºâ */
        .bible-fab-main {
            width: 46px;
            height: 46px;
            background: rgba(76, 175, 80, 0.85);
            color: white;
            border: none;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1.3rem;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
            backdrop-filter: blur(5px);
        }
        
        .bible-fab-main:hover {
            background: rgba(56, 142, 60, 0.9);
            transform: scale(1.05);
        }
        
        .bible-fab-main.active {
            background: rgba(56, 142, 60, 0.9);
            transform: rotate(45deg);
        }
        
        /* Â≠êÊåâÈàïÂÆπÂô® */
        .bible-fab-actions {
            display: flex;
            flex-direction: column;
            gap: 10px;
            opacity: 0;
            transform: translateY(-10px);
            pointer-events: none;
            transition: all 0.3s ease;
        }
        
        .bible-fab-actions.show {
            opacity: 1;
            transform: translateY(0);
            pointer-events: auto;
        }
        
        /* Â≠êÊåâÈàï */
        .bible-fab-btn {
            width: 42px;
            height: 42px;
            background: rgba(255, 255, 255, 0.9);
            color: var(--primary-green);
            border: 1px solid rgba(76, 175, 80, 0.3);
            border-radius: 50%;
            cursor: pointer;
            font-size: 1.1rem;
            box-shadow: 0 2px 8px rgba(0,0,0,0.15);
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
            backdrop-filter: blur(5px);
        }
        
        .bible-fab-btn:hover {
            background: rgba(232, 245, 233, 0.95);
            transform: scale(1.1);
            box-shadow: 0 3px 12px rgba(0,0,0,0.2);
        }
        
        .bible-fab-btn:active {
            transform: scale(0.95);
        }
        
        /* ËøîÂõûÈ†ÇÈÉ®ÊåâÈàï‰πüÈÄèÊòéÂåñ */
        .scroll-top-btn {
            background: rgba(76, 175, 80, 0.85) !important;
            backdrop-filter: blur(5px);
        }
        
        .scroll-top-btn:hover {
            background: rgba(56, 142, 60, 0.9) !important;
        }
        
        /* ÁØÑÂúçË§áË£ΩÂΩàÁ™ó */
        .bible-range-copy-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            z-index: 250;
            align-items: center;
            justify-content: center;
            background: rgba(0,0,0,0.5);
        }
        
        .bible-range-copy-modal.show {
            display: flex;
        }
        
        .bible-range-copy-box {
            background: white;
            border-radius: 16px;
            padding: 25px;
            width: 90%;
            max-width: 320px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.3);
        }
        
        .bible-range-copy-title {
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 8px;
            color: var(--dark-green);
        }
        
        .bible-range-copy-subtitle {
            font-size: 0.9rem;
            color: #666;
            margin-bottom: 20px;
        }
        
        .bible-range-copy-inputs {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 20px;
        }
        
        .bible-range-copy-input {
            flex: 1;
            padding: 12px;
            border: 1px solid var(--border-color);
            border-radius: 10px;
            font-size: 1.1rem;
            text-align: center;
            outline: none;
        }
        
        .bible-range-copy-input:focus {
            border-color: var(--primary-green);
        }
        
        .bible-range-copy-separator {
            font-size: 1.2rem;
            color: #888;
        }
        
        .bible-range-copy-buttons {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        
        .bible-range-copy-btn {
            padding: 12px;
            border: none;
            border-radius: 10px;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .bible-range-copy-btn.primary {
            background: var(--primary-green);
            color: white;
        }
        
        .bible-range-copy-btn.primary:hover {
            background: var(--dark-green);
        }
        
        .bible-range-copy-btn.secondary {
            background: #f5f5f5;
            color: #666;
        }
        
        .bible-range-copy-btn.secondary:hover {
            background: #eee;
        }
        
        .bible-range-copy-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        .bible-range-copy-mode {
            display: flex;
            gap: 8px;
            margin-bottom: 15px;
        }
        
        .bible-range-copy-mode-btn {
            flex: 1;
            padding: 10px 8px;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            background: white;
            font-size: 0.85rem;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .bible-range-copy-mode-btn.active {
            background: var(--light-green-bg);
            border-color: var(--primary-green);
            color: var(--dark-green);
        }
        
        /* ÊêúÂ∞ãÈù¢Êùø */
        .bible-search-panel {
            position: fixed;
            top: 0;
            right: -100%;
            width: 100%;
            max-width: 400px;
            height: 100%;
            background: white;
            z-index: 200;
            transition: right 0.3s ease;
            display: flex;
            flex-direction: column;
            box-shadow: -2px 0 10px rgba(0,0,0,0.1);
        }
        
        .bible-search-panel.show {
            right: 0;
        }
        
        .bible-search-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.4);
            z-index: 199;
        }
        
        .bible-search-overlay.show {
            display: block;
        }
        
        .bible-search-header {
            display: flex;
            align-items: center;
            padding: 15px;
            border-bottom: 1px solid #eee;
            gap: 10px;
        }
        
        .bible-search-close {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            padding: 5px;
            color: #666;
        }
        
        .bible-search-input-wrap {
            flex: 1;
            position: relative;
        }
        
        .bible-search-input {
            width: 100%;
            padding: 10px 15px;
            border: 1px solid var(--border-color);
            border-radius: 20px;
            font-size: 1rem;
            outline: none;
        }
        
        .bible-search-input:focus {
            border-color: var(--primary-green);
        }
        
        .bible-search-clear {
            position: absolute;
            right: 10px;
            top: 50%;
            transform: translateY(-50%);
            background: none;
            border: none;
            font-size: 1.2rem;
            cursor: pointer;
            color: #999;
            display: none;
        }
        
        .bible-search-clear.show {
            display: block;
        }
        
        .bible-search-body {
            flex: 1;
            overflow-y: auto;
            padding: 10px 15px;
        }
        
        .bible-search-section-title {
            font-size: 0.85rem;
            color: #888;
            margin: 15px 0 10px;
            padding-bottom: 5px;
            border-bottom: 1px solid #eee;
        }
        
        .bible-search-history {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }
        
        .bible-search-history-item {
            background: #f5f5f5;
            border: none;
            padding: 8px 14px;
            border-radius: 16px;
            font-size: 0.9rem;
            cursor: pointer;
            transition: background 0.2s;
        }
        
        .bible-search-history-item:hover {
            background: var(--light-green-bg);
        }
        
        .bible-search-results {
            margin-top: 10px;
        }
        
        .bible-search-result-item {
            padding: 12px;
            border-bottom: 1px solid #eee;
            cursor: pointer;
            transition: background 0.2s;
        }
        
        .bible-search-result-item:hover {
            background: var(--light-green-bg);
        }
        
        .bible-search-result-item:active {
            background: var(--border-color);
        }
        
        .bible-search-result-ref {
            font-weight: 600;
            color: var(--primary-green);
            font-size: 0.9rem;
            margin-bottom: 5px;
        }
        
        .bible-search-result-text {
            font-size: 0.95rem;
            color: #333;
            line-height: 1.5;
        }
        
        .bible-search-result-text mark {
            background: #fff3cd;
            padding: 0 2px;
            border-radius: 2px;
        }
        
        .bible-search-no-result {
            text-align: center;
            padding: 40px 20px;
            color: #888;
        }
        
        .bible-search-hint {
            text-align: center;
            padding: 40px 20px;
            color: #aaa;
            font-size: 0.9rem;
        }
        
        /* ÊêúÂ∞ãÁµêÊûúÈ†êË¶ΩÈ†Å */
        .bible-search-preview {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: white;
            z-index: 201;
            flex-direction: column;
        }
        
        .bible-search-preview.show {
            display: flex;
        }
        
        .bible-search-preview-header {
            display: flex;
            align-items: center;
            padding: 15px;
            border-bottom: 1px solid #eee;
            gap: 10px;
        }
        
        .bible-search-preview-title {
            flex: 1;
            font-weight: 600;
            font-size: 1.1rem;
        }
        
        .bible-search-preview-body {
            flex: 1;
            overflow-y: auto;
            padding: 15px;
        }
        
        .bible-search-preview-verse {
            margin-bottom: 12px;
            padding: 12px;
            border-radius: 8px;
            cursor: pointer;
            transition: background 0.2s;
            -webkit-user-select: none;
            user-select: none;
            font-family: "Noto Serif TC", "Noto Serif KR", serif;
            -webkit-touch-callout: none;
        }
        
        .bible-search-preview-verse:active {
            background: var(--light-green-bg);
        }
        
        .bible-search-preview-verse.long-press {
            background: #e8f5e9;
        }
        
        .bible-search-preview-verse.long-press-success {
            background: var(--border-color);
        }
        
        /* ÊêúÂ∞ãÁµêÊûúÂàóË°®‰πü‰ΩøÁî®ÊÄùÊ∫êÂÆãÈ´î */
        .bible-search-result-text {
            font-family: "Noto Serif TC", "Noto Serif KR", serif;
        }
    </style>
</head>
<body>

<nav>
    <div class="nav-left">
        <div class="nav-title">üå±</div>
        <div class="menu-toggle" onclick="window.toggleMenu()">
            <span class="hamburger-icon">‚ò∞</span>
            <span id="current-page-title">Îß§Ïùº Ïã†Ïïô Í∏∞Î°ù</span>
            <span class="dropdown-arrow">‚ñº</span>
        </div>
        <div class="menu-dropdown" id="menuDropdown">
            <!-- ÊàëÁöÑ‰ø°‰ª∞ Â≠êÈÅ∏ÂñÆ -->
            <div class="menu-category open" id="menu-category-faith">
                <div class="menu-category-title" onclick="window.toggleSubMenu('faith')">
                    <span id="menu-faith-title">ÎÇòÏùò Ïã†Ïïô</span>
                    <span class="submenu-arrow">‚ñ∂</span>
                </div>
                <div class="menu-submenu" id="submenu-faith">
                    <button class="menu-btn active" onclick="switchPage('daily-faith')" id="btn-daily-faith">Îß§Ïùº Ïã†Ïïô Í∏∞Î°ù</button>
                    <button class="menu-btn" onclick="switchPage('faith-chart')" id="btn-faith-chart">Ïã†Ïïô Í∏∞Î°ù Ï∞®Ìä∏</button>
                </div>
            </div>
            <!-- Êõ∏Á±ç Â≠êÈÅ∏ÂñÆ -->
            <div class="menu-category" id="menu-category-books">
                <div class="menu-category-title" onclick="window.toggleSubMenu('books')">
                    <span id="menu-books-title">ÏÑúÏ†Å</span>
                    <span class="submenu-arrow">‚ñ∂</span>
                </div>
                <div class="menu-submenu" id="submenu-books">
                    <button class="menu-btn" onclick="switchPage('bible')" id="btn-bible">ÏÑ±Í≤Ω</button>
                </div>
            </div>
            <!-- ÊûúÂ≠êË≥áË®ä Â≠êÈÅ∏ÂñÆ -->
            <div class="menu-category" id="menu-category-fruit">
                <div class="menu-category-title" onclick="window.toggleSubMenu('fruit')">
                    <span id="menu-fruit-title">Ïó¥Îß§ Ï†ïÎ≥¥</span>
                    <span class="submenu-arrow">‚ñ∂</span>
                </div>
                <div class="menu-submenu" id="submenu-fruit">
                    <button class="menu-btn" onclick="switchPage('entry')" id="btn-entry">Ïò®ÎùºÏù∏ Îì±Î°ù</button>
                    <button class="menu-btn" onclick="switchPage('offline-entry')" id="btn-offline-entry">Ïò§ÌîÑÎùºÏù∏ Îì±Î°ù</button>
                    <button class="menu-btn" onclick="switchPage('backend')" id="btn-backend">Ïò®ÎùºÏù∏ Îç∞Ïù¥ÌÑ∞</button>
                    <button class="menu-btn" onclick="switchPage('offline-backend')" id="btn-offline-backend">Ïò§ÌîÑÎùºÏù∏ Îç∞Ïù¥ÌÑ∞</button>
                    <button class="menu-btn" onclick="switchPage('profile')" id="btn-profile">Í∞úÏù∏Ï†ïÎ≥¥</button>
                </div>
            </div>
        </div>
    </div>
    
    <div class="lang-switch">
        <select class="lang-select" onchange="window.setLanguage(this.value)">
            <option value="ko">ÌïúÍµ≠Ïñ¥</option>
            <option value="zh">‰∏≠Êñá</option>
        </select>
    </div>
</nav>

<div class="container">
    <!-- ÊØèÊó•‰ø°‰ª∞Ë®òÈåÑ (È¶ñÈ†Å) -->
    <div id="dailyFaithSection" class="page-section active-section">
        <h2 id="txt-daily-faith-header">Îß§Ïùº Ïã†Ïïô Í∏∞Î°ù</h2>
        <div class="faith-content">
            <p id="txt-daily-faith-desc">Ïù¥ ÌéòÏù¥ÏßÄÏóêÏÑú Îß§ÏùºÏùò Ïã†Ïïô ÏÉùÌôúÏùÑ Í∏∞Î°ùÌï† Ïàò ÏûàÏäµÎãàÎã§.</p>
            <p style="color: #888; margin-top: 20px;">(Í∏∞Îä• Í∞úÎ∞ú Ï§ë...)</p>
        </div>
    </div>
    
    <!-- ‰ø°‰ª∞Ë®òÈåÑÂúñ -->
    <div id="faithChartSection" class="page-section">
        <h2 id="txt-faith-chart-header">Ïã†Ïïô Í∏∞Î°ù Ï∞®Ìä∏</h2>
        <div class="faith-content">
            <p id="txt-faith-chart-desc">Ïù¥ ÌéòÏù¥ÏßÄÏóêÏÑú Ïã†Ïïô Í∏∞Î°ùÏùò ÌÜµÍ≥Ñ Ï∞®Ìä∏Î•º Î≥º Ïàò ÏûàÏäµÎãàÎã§.</p>
            <p style="color: #888; margin-top: 20px;">(Í∏∞Îä• Í∞úÎ∞ú Ï§ë...)</p>
        </div>
    </div>
    
    <!-- ËÅñÁ∂ìÈ†ÅÈù¢ -->
    <div id="bibleSection" class="page-section">
        <div class="bible-container">
            <!-- Êõ∏Âç∑ÂàóË°®Ë¶ñÂúñ -->
            <div id="bibleBooksList" class="bible-books-list">
                <!-- ËàäÁ¥Ñ -->
                <div class="bible-section-title" id="txt-old-testament">Íµ¨ÏïΩÏÑ±Í≤Ω / ËàäÁ¥ÑËÅñÁ∂ì</div>
                <div class="bible-books-grid" id="oldTestamentBooks">
                    <!-- ËàäÁ¥ÑÊõ∏Âç∑Â∞áÁî±JavaScriptÂãïÊÖãÁîüÊàê -->
                </div>
                
                <!-- Êñ∞Á¥Ñ -->
                <div class="bible-section-title" id="txt-new-testament">Ïã†ÏïΩÏÑ±Í≤Ω / Êñ∞Á¥ÑËÅñÁ∂ì</div>
                <div class="bible-books-grid" id="newTestamentBooks">
                    <!-- Êñ∞Á¥ÑÊõ∏Âç∑Â∞áÁî±JavaScriptÂãïÊÖãÁîüÊàê -->
                </div>
                
                <!-- Á´†ÁØÄÈÅ∏ÊìáÂçÄ -->
                <div class="bible-chapters-container" id="bibleChaptersContainer">
                    <div class="bible-chapters-title" id="bibleChaptersTitle"></div>
                    <div class="bible-chapters-grid" id="bibleChaptersGrid">
                        <!-- Á´†ÁØÄÊåâÈàïÂ∞áÁî±JavaScriptÂãïÊÖãÁîüÊàê -->
                    </div>
                </div>
                
                <div class="bible-copyright">
                    CUNP-Êñ∞Ê®ôÈªûÂíåÂêàÊú¨(Á•ûÁâà) ¬© 1988, 1989, 1996 ËÅØÂêàËÅñÁ∂ìÂÖ¨ÊúÉ<br>
                    Í∞úÏó≠ÌïúÍ∏Ä ¬© 1961 ÎåÄÌïúÏÑ±ÏÑúÍ≥µÌöå (Korean Bible Society)
                </div>
            </div>
            
            <!-- ËÅñÁ∂ìÂÖßÂÆπË¶ñÂúñ -->
            <div id="bibleContentView" class="bible-content-view">
                <div class="bible-content-header">
                    <button class="bible-back-btn" onclick="window.closeBibleContent()">
                        ‚Üê <span id="txt-bible-back">Îí§Î°ú</span>
                    </button>
                    <div class="bible-content-title" id="bibleContentTitle">
                        <span class="ko"></span>
                        <span class="zh"></span>
                    </div>
                    <div style="width: 70px;"></div>
                </div>
                <div class="bible-verses" id="bibleVerses">
                    <!-- Á∂ìÊñáÂÖßÂÆπÂ∞áÁî±JavaScriptÂãïÊÖãÁîüÊàê -->
                </div>
                <div class="bible-copyright">
                    CUNP-Êñ∞Ê®ôÈªûÂíåÂêàÊú¨(Á•ûÁâà) ¬© 1988, 1989, 1996 ËÅØÂêàËÅñÁ∂ìÂÖ¨ÊúÉ<br>
                    Í∞úÏó≠ÌïúÍ∏Ä ¬© 1961 ÎåÄÌïúÏÑ±ÏÑúÍ≥µÌöå (Korean Bible Society)
                </div>
            </div>
        </div>
    </div>
    
    <!-- ËøîÂõûÈ†ÇÈÉ®ÊåâÈàï -->
    <button class="scroll-top-btn" id="scrollTopBtn" onclick="window.scrollToTop()">‚Üë</button>
    
    <!-- ËÅñÁ∂ìÂäüËÉΩÊåâÈàïÁæ§ÁµÑ -->
    <div class="bible-fab-container" id="bibleFabContainer">
        <button class="bible-fab-main" id="bibleFabMain" onclick="window.toggleBibleFab()">
            <span id="bibleFabIcon">‚úö</span>
        </button>
        <div class="bible-fab-actions" id="bibleFabActions">
            <button class="bible-fab-btn" onclick="window.openBibleSearch()" title="ÊêúÂ∞ã">üîç</button>
            <button class="bible-fab-btn" id="bibleRangeCopyBtn" onclick="window.openRangeCopyModal()" title="ÁØÑÂúçË§áË£Ω">üìã</button>
        </div>
    </div>
    
    <!-- ÁØÑÂúçË§áË£ΩÂΩàÁ™ó -->
    <div class="bible-range-copy-modal" id="bibleRangeCopyModal">
        <div class="bible-range-copy-box">
            <div class="bible-range-copy-title" id="rangeCopyTitle">Ë§áË£ΩÁ∂ìÊñáÁØÑÂúç</div>
            <div class="bible-range-copy-subtitle" id="rangeCopySubtitle"></div>
            <div class="bible-range-copy-inputs">
                <input type="number" class="bible-range-copy-input" id="rangeCopyStart" placeholder="Ëµ∑" min="1">
                <span class="bible-range-copy-separator">‚Äî</span>
                <input type="number" class="bible-range-copy-input" id="rangeCopyEnd" placeholder="ËøÑ" min="1">
            </div>
            <div class="bible-range-copy-mode" id="rangeCopyMode">
                <button class="bible-range-copy-mode-btn active" data-mode="zh" onclick="window.selectRangeCopyMode('zh')">‰∏≠Êñá</button>
                <button class="bible-range-copy-mode-btn" data-mode="ko" onclick="window.selectRangeCopyMode('ko')">ÌïúÍµ≠Ïñ¥</button>
                <button class="bible-range-copy-mode-btn" data-mode="both" onclick="window.selectRangeCopyMode('both')">ÈõôË™û</button>
            </div>
            <div class="bible-range-copy-buttons">
                <button class="bible-range-copy-btn primary" id="rangeCopyConfirm" onclick="window.confirmRangeCopy()">Ë§áË£Ω</button>
                <button class="bible-range-copy-btn secondary" onclick="window.closeRangeCopyModal()">ÂèñÊ∂à</button>
            </div>
        </div>
    </div>
    
    <!-- ËÅñÁ∂ìÊêúÂ∞ãÈù¢Êùø -->
    <div class="bible-search-overlay" id="bibleSearchOverlay" onclick="window.closeBibleSearch()"></div>
    <div class="bible-search-panel" id="bibleSearchPanel">
        <div class="bible-search-header">
            <button class="bible-search-close" onclick="window.closeBibleSearch()">‚úï</button>
            <div class="bible-search-input-wrap">
                <input type="text" class="bible-search-input" id="bibleSearchInput" 
                       placeholder="ÊêúÂ∞ãÁ∂ìÊñá...">
                <button class="bible-search-clear" id="bibleSearchClear" onclick="window.clearSearchInput()">‚úï</button>
            </div>
        </div>
        <div class="bible-search-body">
            <!-- ÊêúÂ∞ãÊ≠∑Âè≤ -->
            <div id="bibleSearchHistorySection">
                <div class="bible-search-section-title" id="txtSearchHistory">ÏµúÍ∑º Í≤ÄÏÉâ / ËøëÊúüÊêúÂ∞ã</div>
                <div class="bible-search-history" id="bibleSearchHistory">
                    <!-- Ê≠∑Âè≤Ë®òÈåÑÁî±JSÂãïÊÖãÁîüÊàê -->
                </div>
            </div>
            <!-- ÊêúÂ∞ãÊèêÁ§∫ -->
            <div class="bible-search-hint" id="bibleSearchHint">
                <span id="txtSearchHint">2Ïûê Ïù¥ÏÉÅ ÏûÖÎ†•ÌïòÏÑ∏Ïöî<br>Ë´ãËº∏ÂÖ•2ÂÄãÂ≠ó‰ª•‰∏ä</span>
            </div>
            <!-- ÊêúÂ∞ãÁµêÊûú -->
            <div class="bible-search-results" id="bibleSearchResults" style="display: none;">
                <!-- ÊêúÂ∞ãÁµêÊûúÁî±JSÂãïÊÖãÁîüÊàê -->
            </div>
        </div>
    </div>
    
    <!-- ÊêúÂ∞ãÁµêÊûúÈ†êË¶ΩÈ†Å -->
    <div class="bible-search-preview" id="bibleSearchPreview">
        <div class="bible-search-preview-header">
            <button class="bible-search-close" onclick="window.closeSearchPreview()">‚Üê</button>
            <div class="bible-search-preview-title" id="bibleSearchPreviewTitle"></div>
        </div>
        <div class="bible-search-preview-body" id="bibleSearchPreviewBody">
            <!-- È†êË¶ΩÂÖßÂÆπÁî±JSÂãïÊÖãÁîüÊàê -->
        </div>
    </div>
    
    <!-- Èï∑ÊåâË§áË£ΩÈÅ∏ÂñÆ -->
    <div class="bible-copy-overlay" id="bibleCopyOverlay" onclick="window.closeCopyMenu()"></div>
    <div class="bible-copy-menu" id="bibleCopyMenu">
        <div class="bible-copy-menu-item" id="copyMenuZh" onclick="window.copyVerse('zh')">üìã Ë§áË£Ω‰∏≠Êñá</div>
        <div class="bible-copy-menu-item" id="copyMenuKo" onclick="window.copyVerse('ko')">üìã ÌïúÍµ≠Ïñ¥ Î≥µÏÇ¨</div>
        <div class="bible-copy-menu-item" id="copyMenuBoth" onclick="window.copyVerse('both')">üìã Ë§áË£ΩÈõôË™û</div>
        <div class="bible-copy-menu-item" id="copyMenuPartial" onclick="window.openPartialCopy()">‚úÇÔ∏è ÈÉ®ÂàÜË§áË£Ω</div>
    </div>
    
    <!-- ÈÉ®ÂàÜË§áË£ΩÂΩàÁ™ó -->
    <div class="bible-partial-copy-modal" id="biblePartialCopyModal">
        <div class="bible-partial-copy-bubble">
            <div class="bible-partial-copy-header">
                <span class="bible-partial-copy-title" id="partialCopyTitle">ÈÉ®ÂàÜË§áË£Ω</span>
                <button class="bible-partial-copy-close" onclick="window.closePartialCopy()">‚úï</button>
            </div>
            <div class="bible-partial-copy-content" id="partialCopyContent"></div>
            <div class="bible-partial-copy-hint" id="partialCopyHint">ÈÅ∏ÂèñÊñáÂ≠óÂæåÈªûÊìä‰∏ãÊñπÊåâÈàïË§áË£Ω</div>
            <button class="bible-partial-copy-btn" id="partialCopyBtn" onclick="window.copySelectedText()">Ë§áË£ΩÈÅ∏ÂèñÁöÑÊñáÂ≠ó</button>
        </div>
    </div>

    <div id="entrySection" class="page-section">
        <h2 id="txt-entry-header">Ï†ÑÎèÑ ÏÑ≠Ïô∏Ïûê Îì±Î°ù</h2>
        <div id="statusMsg" class="status-bar"></div>

        <div class="form-grid">
            <div class="form-group">
                <label id="lbl-id">Î≤àÌò∏</label>
                <input type="text" id="idInput" placeholder="9999" oninput="window.handleIdInput()">
            </div>
            <div class="form-group">
                <label id="lbl-name">Ïù¥Î¶Ñ</label>
                <input type="text" id="nameInput" placeholder="Ïù¥Î¶Ñ ÏûÖÎ†•" oninput="window.handleNameInput()">
            </div>
            <div class="form-group">
                <label id="lbl-date">ÎÇ†Ïßú</label>
                <input type="date" id="recordDate">
            </div>
            <div class="form-group">
                <label id="lbl-type">ÌöåÏã† Ïú†Ìòï</label>
                <select id="replyType">
                    <option value="me" id="opt-me">ÎÇ¥Í∞Ä ÌöåÏã†</option>
                    <option value="other" id="opt-other">ÏÉÅÎåÄÎ∞© ÌöåÏã†</option>
                </select>
            </div>
            <div class="form-group form-full-width">
                <label id="lbl-content">ÎÇ¥Ïö©</label>
                <textarea id="content" rows="5" placeholder="ÎÇ¥Ïö©ÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî..."></textarea>
            </div>
        </div>
        <button class="submit-btn" onclick="window.submitData()" id="btn-submit">Îì±Î°ùÌïòÍ∏∞ (Cloud Sync)</button>
    </div>

    <div id="profileSection" class="page-section">
        <h2 id="txt-profile-header">Í∞úÏù∏Ï†ïÎ≥¥ Îì±Î°ù</h2>
        <div id="profileStatusMsg" class="status-bar"></div>

        <div class="form-grid">
            <div class="form-group">
                <label id="lbl-profile-id">Î≤àÌò∏</label>
                <input type="text" id="profileIdInput" placeholder="9999" oninput="window.handleProfileIdInput()">
            </div>
            <div class="form-group">
                <label id="lbl-profile-name">Ïù¥Î¶Ñ</label>
                <input type="text" id="profileNameInput" placeholder="Ïù¥Î¶Ñ ÏûÖÎ†•" oninput="window.handleProfileNameInput()">
            </div>
            <div class="form-group">
                <label id="lbl-profile-location">Í±∞Ï£ºÏßÄ</label>
                <input type="text" id="profileLocation" placeholder="">
            </div>
            <div class="form-group">
                <label id="lbl-profile-phone">Ìú¥ÎåÄÌè∞</label>
                <input type="tel" id="profilePhone" placeholder="">
            </div>
            <div class="form-group">
                <label id="lbl-profile-contact">Ïó∞ÎùΩ Î∞©Î≤ï</label>
                <select id="profileContact">
                    <option value="" id="opt-contact-none">ÏÑ†ÌÉùÌïòÏÑ∏Ïöî</option>
                    <option value="FACEBOOK">FACEBOOK</option>
                    <option value="IG">IG</option>
                    <option value="SLOWLY">SLOWLY</option>
                    <option value="LINE">LINE</option>
                </select>
            </div>
            <div class="form-group">
                <label id="lbl-profile-contact-id">Ïó∞ÎùΩÏ≤ò ID</label>
                <input type="text" id="profileContactId" placeholder="">
            </div>
            <div class="form-group form-full-width">
                <label id="lbl-profile-birthday">ÏÉùÏùº / ÎÇòÏù¥</label>
                <div class="birthday-input-wrapper">
                    <input type="text" id="profileBirthYear" placeholder="YYYY" maxlength="4" inputmode="numeric" pattern="[0-9]*" oninput="window.handleBirthYearInput(this)">
                    <span class="birthday-separator">/</span>
                    <input type="text" id="profileBirthMonth" placeholder="MM" maxlength="2" inputmode="numeric" pattern="[0-9]*" oninput="window.handleBirthMonthInput(this)">
                    <span class="birthday-separator">/</span>
                    <input type="text" id="profileBirthDay" placeholder="DD" maxlength="2" inputmode="numeric" pattern="[0-9]*" oninput="window.handleBirthDayInput(this)">
                    <span class="birthday-separator">,</span>
                    <input type="text" id="profileAge" placeholder="ÎÇòÏù¥" maxlength="3" inputmode="numeric" pattern="[0-9]*" class="age-input">
                    <span class="age-unit" id="age-unit">ÏÑ∏</span>
                </div>
            </div>
            <div class="form-group">
                <label id="lbl-profile-mbti">MBTI</label>
                <input type="text" id="profileMbti" placeholder="MBTI" maxlength="4" style="text-transform: uppercase;">
            </div>
            <div class="form-group">
                <label id="lbl-profile-job">ÏßÅÏóÖ</label>
                <input type="text" id="profileJob" placeholder="">
            </div>
        </div>
        <button class="submit-btn" onclick="window.saveProfile()" id="btn-profile-save">Ï†ÄÏû•ÌïòÍ∏∞</button>
    </div>

    <div id="offlineEntrySection" class="page-section">
        <h2 id="txt-offline-entry-header">Ïò§ÌîÑÎùºÏù∏ Ï†ÑÎèÑ Îì±Î°ù</h2>
        <div id="offlineStatusMsg" class="status-bar"></div>

        <div class="form-grid">
            <div class="form-group">
                <label id="lbl-offline-id">Î≤àÌò∏</label>
                <input type="text" id="offlineIdInput" placeholder="5000" oninput="window.handleOfflineIdInput()">
            </div>
            <div class="form-group">
                <label id="lbl-offline-name">Ïù¥Î¶Ñ</label>
                <input type="text" id="offlineNameInput" placeholder="Ïù¥Î¶Ñ ÏûÖÎ†•" oninput="window.handleOfflineNameInput()">
            </div>
            <div class="form-group">
                <label id="lbl-offline-date">ÎÇ†Ïßú</label>
                <input type="date" id="offlineRecordDate">
            </div>
            <div class="form-group">
                <label id="lbl-offline-location">Ïû•ÏÜå</label>
                <div class="location-input-wrapper">
                    <input type="text" id="offlineLocation" placeholder="">
                    <button type="button" class="maps-btn" onclick="window.openGoogleMaps()" title="Google MapsÏóêÏÑú Í≤ÄÏÉâ">üìç</button>
                </div>
            </div>
            <div class="form-group">
                <label id="lbl-offline-activity">ÌôúÎèô</label>
                <input type="text" id="offlineActivity" placeholder="">
            </div>
            <div class="form-group form-full-width">
                <label id="lbl-offline-content">ÏÑ≠Ïô∏ ÎÇ¥Ïö©</label>
                <textarea id="offlineContent" rows="5" placeholder="ÏÑ≠Ïô∏ ÎÇ¥Ïö©ÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî..."></textarea>
            </div>
        </div>
        <button class="submit-btn" onclick="window.submitOfflineData()" id="btn-offline-submit">Îì±Î°ùÌïòÍ∏∞</button>
    </div>

    <div id="backendSection" class="page-section">
        <h2 id="txt-backend-header">Ïò®ÎùºÏù∏ Îç∞Ïù¥ÌÑ∞ Í¥ÄÎ¶¨</h2>
        
        <div class="backend-toolbar">
            <div class="toolbar-left">
                <span class="stat-item" id="txt-total-count">ÏÑ≠Ïô∏Ïûê: 0Î™Ö</span>
                <span class="stat-divider">|</span>
                <span class="stat-item highlight-stat" id="txt-interaction-count">Ïã§Ï†ú ÍµêÎ•ò (ÎåÄÌôî): 0Î™Ö</span>

                <div class="edit-controls" id="editControls">
                    <span class="stat-divider">|</span>
                    <label style="display:flex; align-items:center; cursor:pointer;">
                        <input type="checkbox" id="selectAll" onclick="window.toggleSelectAll()" style="width:18px; height:18px; margin-right:5px;">
                        <span id="txt-select-all">Ï†ÑÏ≤¥ ÏÑ†ÌÉù</span>
                    </label>
                    <button class="delete-btn" onclick="window.deleteSelected()" id="btn-delete">ÏÑ†ÌÉù ÏÇ≠Ï†ú</button>
                </div>
            </div>
            <button class="toggle-edit-btn" onclick="window.toggleEditMode()" id="btn-toggle-edit">Ìé∏Ïßë</button>
        </div>

        <div class="list-container" id="dataListContainer">
            <div class="list-header-row grid-row">
                <div class="check-cell"></div>
                <div></div>
                <div id="col-id">Î≤àÌò∏</div>
                <div id="col-activity">ÌôúÎèô</div>
                <div id="col-name">Ïù¥Î¶Ñ</div>
                <div class="sortable" onclick="window.toggleSort()">
                    <span id="col-date">ÏµúÍ∑º ÎÇ†Ïßú</span> <span id="sortIcon">‚ñº</span>
                </div>
                <div id="col-content">ÏµúÏã† ÎÇ¥Ïö©</div>
                <div class="action-cell"></div>
            </div>
            <div id="dataList">
                <div style="padding:20px; text-align:center; color:#888;">Loading Cloud Data...</div>
            </div>
        </div>
    </div>

    <div id="offlineBackendSection" class="page-section">
        <h2 id="txt-offline-backend-header">Ïò§ÌîÑÎùºÏù∏ Îç∞Ïù¥ÌÑ∞ Í¥ÄÎ¶¨</h2>
        
        <div class="backend-toolbar">
            <div class="toolbar-left">
                <span class="stat-item" id="txt-offline-total-count">ÏÑ≠Ïô∏Ïûê: 0Î™Ö</span>
                <span class="stat-divider">|</span>
                <span class="stat-item highlight-stat" id="txt-offline-interaction-count">Ï£ºÍ∞Ñ ÍµêÎ•ò: 0Î™Ö</span>

                <div class="edit-controls" id="offlineEditControls">
                    <span class="stat-divider">|</span>
                    <label style="display:flex; align-items:center; cursor:pointer;">
                        <input type="checkbox" id="offlineSelectAll" onclick="window.toggleOfflineSelectAll()" style="width:18px; height:18px; margin-right:5px;">
                        <span id="txt-offline-select-all">Ï†ÑÏ≤¥ ÏÑ†ÌÉù</span>
                    </label>
                    <button class="delete-btn" onclick="window.deleteOfflineSelected()" id="btn-offline-delete">ÏÑ†ÌÉù ÏÇ≠Ï†ú</button>
                </div>
            </div>
            <button class="toggle-edit-btn" onclick="window.toggleOfflineEditMode()" id="btn-offline-toggle-edit">Ìé∏Ïßë</button>
        </div>

        <div class="list-container" id="offlineDataListContainer">
            <div class="list-header-row offline-grid-row">
                <div class="check-cell"></div>
                <div></div>
                <div id="col-offline-id">Î≤àÌò∏</div>
                <div id="col-offline-activity">ÌôúÎèô</div>
                <div id="col-offline-name">Ïù¥Î¶Ñ</div>
                <div class="sortable" onclick="window.toggleOfflineSort()">
                    <span id="col-offline-date">ÏµúÍ∑º ÎÇ†Ïßú</span> <span id="offlineSortIcon">‚ñº</span>
                </div>
                <div id="col-offline-location">Ïû•ÏÜå</div>
                <div id="col-offline-event">ÌôúÎèô</div>
                <div class="action-cell"></div>
            </div>
            <div id="offlineDataList">
                <div style="padding:20px; text-align:center; color:#888;">Loading Cloud Data...</div>
            </div>
        </div>
    </div>
</div>

<script type="module">
    // --- FIREBASE SETUP ---
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
    import { getFirestore, collection, doc, setDoc, deleteDoc, onSnapshot, updateDoc } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

    // „ÄêÈáçË¶Å„ÄëË´ãÁ¢∫Ë™çÊÇ®ÁöÑ Firebase Config
    // ------------------------------------------------------------------
    const firebaseConfig = {
        apiKey: "AIzaSyBXnq1RzY0zxGE0trwLPR-PHtdfFCvRw0A",
        authDomain: "discourse-dissemination.firebaseapp.com",
        projectId: "discourse-dissemination",
        storageBucket: "discourse-dissemination.firebasestorage.app",
        messagingSenderId: "686407798490",
        appId: "1:686407798490:web:e41a5f2d007615fb6e5fe3",
        measurementId: "G-M0JHY4QED9"
    };
    // ------------------------------------------------------------------

    let dbInstance;
    let cloudEnabled = false;

    try {
        if (firebaseConfig.apiKey) {
            const app = initializeApp(firebaseConfig);
            dbInstance = getFirestore(app);
            cloudEnabled = true;
            console.log("Firebase initialized successfully.");
        } else {
            console.warn("Firebase Config not found. Using Placeholder Mode.");
        }
    } catch (e) {
        console.error("Firebase init failed:", e);
    }

    // --- ÂÖ®ÂüüËÆäÊï∏ËàáÈÇèËºØ ---
    let currentLang = localStorage.getItem('app_lang') || 'ko'; 
    let localDb = [];
    let offlineDb = [];
    let sortDesc = true; 
    let offlineSortDesc = true;
    let isEditMode = false;
    let isOfflineEditMode = false;

    // --- Êó•ÊúüËá™ÂãïÊõ¥Êñ∞ÂäüËÉΩ ---
    function getTodayDateString() {
        const now = new Date();
        const year = now.getFullYear();
        const month = String(now.getMonth() + 1).padStart(2, '0');
        const day = String(now.getDate()).padStart(2, '0');
        return `${year}-${month}-${day}`;
    }
    
    function updateDateInput() {
        const dateInput = document.getElementById('recordDate');
        if (dateInput) {
            dateInput.value = getTodayDateString();
        }
        const offlineDateInput = document.getElementById('offlineRecordDate');
        if (offlineDateInput) {
            offlineDateInput.value = getTodayDateString();
        }
    }

    // --- ÊØèÂ§©0ÈªûËá™ÂãïÈáçÊñ∞Êï¥ÁêÜ‰∏¶Êõ¥Êñ∞Êó•ÊúüÂäüËÉΩ ---
    function setupMidnightRefresh() {
        const now = new Date();
        const tomorrow = new Date(now);
        tomorrow.setDate(tomorrow.getDate() + 1);
        tomorrow.setHours(0, 0, 0, 0);
        
        const msUntilMidnight = tomorrow.getTime() - now.getTime();
        
        setTimeout(() => {
            // 0ÈªûÊôÇËá™ÂãïÈáçÊñ∞Êï¥ÁêÜÈ†ÅÈù¢
            location.reload();
        }, msUntilMidnight);
        
        console.log(`Auto-refresh scheduled in ${Math.round(msUntilMidnight / 1000 / 60)} minutes (at midnight).`);
    }
    setupMidnightRefresh();
    
    // Áõ£ËÅΩÈ†ÅÈù¢ÂèØË¶ãÊÄßËÆäÂåñÔºåÁï∂‰ΩøÁî®ËÄÖÈáçÊñ∞ÂõûÂà∞È†ÅÈù¢ÊôÇÊõ¥Êñ∞Êó•Êúü
    document.addEventListener('visibilitychange', () => {
        if (document.visibilityState === 'visible') {
            updateDateInput();
            console.log('Page visible, date updated to:', getTodayDateString());
        }
    });

    const i18n = {
        ko: {
            appTitle: "Ï†ÑÎèÑ Í¥ÄÎ¶¨ ÏãúÏä§ÌÖú", 
            // ‰∏ªÈÅ∏ÂñÆ
            menuFaith: "ÎÇòÏùò Ïã†Ïïô", menuFruit: "Ïó¥Îß§ Ï†ïÎ≥¥",
            // ÊàëÁöÑ‰ø°‰ª∞
            btnDailyFaith: "Îß§Ïùº Ïã†Ïïô Í∏∞Î°ù", btnFaithChart: "Ïã†Ïïô Í∏∞Î°ù Ï∞®Ìä∏",
            headerDailyFaith: "Îß§Ïùº Ïã†Ïïô Í∏∞Î°ù", headerFaithChart: "Ïã†Ïïô Í∏∞Î°ù Ï∞®Ìä∏",
            txtDailyFaithDesc: "Ïù¥ ÌéòÏù¥ÏßÄÏóêÏÑú Îß§ÏùºÏùò Ïã†Ïïô ÏÉùÌôúÏùÑ Í∏∞Î°ùÌï† Ïàò ÏûàÏäµÎãàÎã§.",
            txtFaithChartDesc: "Ïù¥ ÌéòÏù¥ÏßÄÏóêÏÑú Ïã†Ïïô Í∏∞Î°ùÏùò ÌÜµÍ≥Ñ Ï∞®Ìä∏Î•º Î≥º Ïàò ÏûàÏäµÎãàÎã§.",
            // Êõ∏Á±ç
            menuBooks: "ÏÑúÏ†Å", btnBible: "ÏÑ±Í≤Ω",
            txtOldTestament: "Íµ¨ÏïΩÏÑ±Í≤Ω / ËàäÁ¥ÑËÅñÁ∂ì", txtNewTestament: "Ïã†ÏïΩÏÑ±Í≤Ω / Êñ∞Á¥ÑËÅñÁ∂ì",
            txtBibleBack: "Îí§Î°ú",
            // ÊûúÂ≠êË≥áË®ä
            btnEntry: "Ïò®ÎùºÏù∏ Îì±Î°ù", btnOfflineEntry: "Ïò§ÌîÑÎùºÏù∏ Îì±Î°ù", 
            btnProfile: "Í∞úÏù∏Ï†ïÎ≥¥", 
            btnBackend: "Ïò®ÎùºÏù∏ Îç∞Ïù¥ÌÑ∞", btnOfflineBackend: "Ïò§ÌîÑÎùºÏù∏ Îç∞Ïù¥ÌÑ∞",
            headerEntry: "Ïò®ÎùºÏù∏ Ï†ÑÎèÑ Îì±Î°ù", lblId: "Î≤àÌò∏", lblName: "Ïù¥Î¶Ñ",
            lblDate: "ÎÇ†Ïßú", lblType: "ÌöåÏã† Ïú†Ìòï", lblContent: "ÎÇ¥Ïö©",
            optMe: "ÎÇ¥Í∞Ä ÌöåÏã†", optOther: "ÏÉÅÎåÄÎ∞© ÌöåÏã†",
            phId: "0000-4999 ÏÇ¨Ïù¥Ïùò 4ÏûêÎ¶¨ Î≤àÌò∏ ÏûÖÎ†•", phName: "Ïòà: ÍπÄÏ≤†Ïàò", phContent: "ÎåÄÌôî ÎÇ¥Ïö©Ïù¥ÎÇò Í∏∞ÎèÑ Ï†úÎ™© ÏûÖÎ†•...",
            btnSubmit: "Îì±Î°ùÌïòÍ∏∞", headerBackend: "Ïò®ÎùºÏù∏ Îç∞Ïù¥ÌÑ∞ Í¥ÄÎ¶¨",
            txtSelectAll: "Ï†ÑÏ≤¥ ÏÑ†ÌÉù", txtTotal: "ÏÑ≠Ïô∏Ïûê: ", txtPerson: "Î™Ö",
            txtWeeklyInteraction: "Ï£ºÍ∞Ñ ÍµêÎ•ò: ",
            btnDelete: "ÏÑ†ÌÉù ÏÇ≠Ï†ú", btnEdit: "Ìé∏Ïßë", btnDone: "ÏôÑÎ£å",
            colId: "Î≤àÌò∏", colName: "Ïù¥Î¶Ñ", colDate: "ÏµúÍ∑º ÎÇ†Ïßú", colContent: "ÏµúÏã† ÎÇ¥Ïö©",
            colActivity: "ÌôúÎèô",
            activityHigh: "ÌôúÎ∞ú", activityNormal: "Î≥¥ÌÜµ", activityLow: "Ï†ÄÏ°∞",
            statusFound: "‚úî Í∏∞Ï°¥ Îç∞Ïù¥ÌÑ∞ Î∞úÍ≤¨: ", statusNew: "‚úö ÏÉàÎ°úÏö¥ Î≤àÌò∏/Ïù¥Î¶ÑÏûÖÎãàÎã§.",
            statusNewId: "‚úö ÏÉà ÏÑ≠Ïô∏Ïûê! Ï∂îÏ≤ú Î≤àÌò∏: ",
            alertIncomplete: "Î™®Îì† Ìï≠Î™©ÏùÑ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî.",
            alertUpdate: "ÏóÖÎç∞Ïù¥Ìä∏ ÏôÑÎ£å (Cloud): ", alertCreate: "ÏÉà ÌååÏùº ÏÉùÏÑ± ÏôÑÎ£å (Cloud): ",
            alertConfirmDelete: "ÏÑ†ÌÉùÌïú ÏÑ≠Ïô∏ÏûêÏôÄ Î™®Îì† Í∏∞Î°ùÏùÑ ÏòÅÍµ¨Ï†ÅÏúºÎ°ú ÏÇ≠Ï†úÌïòÏãúÍ≤†ÏäµÎãàÍπå?",
            alertDeleted: "ÏÇ≠Ï†úÎêòÏóàÏäµÎãàÎã§.", alertDeleteLog: "Ïù¥ Í∏∞Î°ùÏùÑ ÏÇ≠Ï†úÌïòÏãúÍ≤†ÏäµÎãàÍπå?",
            tagMe: "Î≥∏Ïù∏", tagOther: "ÏÉÅÎåÄ", msgEmpty: "(Í∏∞Î°ù ÏóÜÏùå)", msgCopied: "Î≥µÏÇ¨ÎêòÏóàÏäµÎãàÎã§!",
            msgCloudError: "Firebase ÏÑ§Ï†ïÏù¥ ÌïÑÏöîÌï©ÎãàÎã§. ÏΩîÎìúÎ•º ÌôïÏù∏Ìï¥Ï£ºÏÑ∏Ïöî.",
            errIdConflict: "Ïò§Î•ò: Ïù¥ Î≤àÌò∏Îäî Ïù¥ÎØ∏ Îã§Î•∏ ÏÇ¨ÎûåÏóêÍ≤å Ìï†ÎãπÎêòÏñ¥ ÏûàÏäµÎãàÎã§.",
            errNameConflict: "Ïò§Î•ò: Ïù¥ Ïù¥Î¶ÑÏùÄ Ïù¥ÎØ∏ Îã§Î•∏ Î≤àÌò∏Î•º ÏÇ¨Ïö© Ï§ëÏûÖÎãàÎã§.",
            headerProfile: "Í∞úÏù∏Ï†ïÎ≥¥ Îì±Î°ù", lblProfileId: "Î≤àÌò∏", lblProfileName: "Ïù¥Î¶Ñ",
            lblProfileLocation: "Í±∞Ï£ºÏßÄ", lblProfilePhone: "Ìú¥ÎåÄÌè∞", lblProfileContact: "Ïó∞ÎùΩ Î∞©Î≤ï",
            lblProfileContactId: "Ïó∞ÎùΩÏ≤ò ID", lblProfileBirthday: "ÏÉùÏùº / ÎÇòÏù¥", ageUnit: "ÏÑ∏",
            lblProfileMbti: "MBTI", lblProfileJob: "ÏßÅÏóÖ",
            btnProfileSave: "Ï†ÄÏû•ÌïòÍ∏∞", alertProfileSaved: "Í∞úÏù∏Ï†ïÎ≥¥Í∞Ä Ï†ÄÏû•ÎêòÏóàÏäµÎãàÎã§.",
            alertProfileIdRequired: "Î≤àÌò∏Î•º Î®ºÏ†Ä ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî.",
            popupLocation: "Í±∞Ï£ºÏßÄ", popupPhone: "Ìú¥ÎåÄÌè∞", popupContact: "Ïó∞ÎùΩ Î∞©Î≤ï", popupContactId: "Ïó∞ÎùΩÏ≤ò ID",
            popupBirthday: "ÏÉùÏùº", popupAge: "ÎÇòÏù¥", popupMbti: "MBTI", popupJob: "ÏßÅÏóÖ",
            optContactNone: "ÏÑ†ÌÉùÌïòÏÑ∏Ïöî",
            // Á∑ö‰∏ãÁôªÈåÑ
            headerOfflineEntry: "Ïò§ÌîÑÎùºÏù∏ Ï†ÑÎèÑ Îì±Î°ù", 
            lblOfflineId: "Î≤àÌò∏", lblOfflineName: "Ïù¥Î¶Ñ", lblOfflineDate: "ÎÇ†Ïßú",
            lblOfflinePhone: "Ìú¥ÎåÄÌè∞", lblOfflineContactId: "Ïó∞ÎùΩÏ≤ò ID", 
            lblOfflineContactMethod: "Ïó∞ÎùΩ Î∞©Î≤ï",
            lblOfflineLocation: "Ïû•ÏÜå", lblOfflineActivity: "ÌôúÎèô", lblOfflineContent: "ÏÑ≠Ïô∏ ÎÇ¥Ïö©",
            phOfflineId: "5000 Ïù¥ÏÉÅÏùò 4ÏûêÎ¶¨ Î≤àÌò∏ ÏûÖÎ†•", phOfflineContent: "ÏÑ≠Ïô∏ ÎÇ¥Ïö© ÏûÖÎ†•...",
            btnOfflineSubmit: "Îì±Î°ùÌïòÍ∏∞",
            errOfflineIdTooLow: "Ïò§Î•ò: Ïò§ÌîÑÎùºÏù∏ Î≤àÌò∏Îäî 5000 Ïù¥ÏÉÅÏù¥Ïñ¥Ïïº Ìï©ÎãàÎã§.",
            statusOfflineNewId: "‚úö ÏÉà ÏÑ≠Ïô∏Ïûê! Ï∂îÏ≤ú Î≤àÌò∏: ",
            optOfflineContactNone: "ÏÑ†ÌÉùÌïòÏÑ∏Ïöî",
            // Á∑ö‰∏ãÂæåÂè∞
            headerOfflineBackend: "Ïò§ÌîÑÎùºÏù∏ Îç∞Ïù¥ÌÑ∞ Í¥ÄÎ¶¨",
            colOfflineId: "Î≤àÌò∏", colOfflineName: "Ïù¥Î¶Ñ", colOfflineDate: "ÏµúÍ∑º ÎÇ†Ïßú",
            colOfflineLocation: "Ïû•ÏÜå", colOfflineEvent: "ÌôúÎèô", colOfflineActivity: "ÌôúÎèô"
        },
        zh: {
            appTitle: "ÂÇ≥ÈÅìÊï¥ÁêÜÁ≥ªÁµ±", 
            // ‰∏ªÈÅ∏ÂñÆ
            menuFaith: "ÊàëÁöÑ‰ø°‰ª∞", menuFruit: "ÊûúÂ≠êË≥áË®ä",
            // ÊàëÁöÑ‰ø°‰ª∞
            btnDailyFaith: "ÊØèÊó•‰ø°‰ª∞Ë®òÈåÑ", btnFaithChart: "‰ø°‰ª∞Ë®òÈåÑÂúñ",
            headerDailyFaith: "ÊØèÊó•‰ø°‰ª∞Ë®òÈåÑ", headerFaithChart: "‰ø°‰ª∞Ë®òÈåÑÂúñ",
            txtDailyFaithDesc: "Âú®Ê≠§È†ÅÈù¢Ë®òÈåÑÊØèÊó•ÁöÑ‰ø°‰ª∞ÁîüÊ¥ª„ÄÇ",
            txtFaithChartDesc: "Âú®Ê≠§È†ÅÈù¢Êü•Áúã‰ø°‰ª∞Ë®òÈåÑÁöÑÁµ±Ë®àÂúñË°®„ÄÇ",
            // Êõ∏Á±ç
            menuBooks: "Êõ∏Á±ç", btnBible: "ËÅñÁ∂ì",
            txtOldTestament: "Íµ¨ÏïΩÏÑ±Í≤Ω / ËàäÁ¥ÑËÅñÁ∂ì", txtNewTestament: "Ïã†ÏïΩÏÑ±Í≤Ω / Êñ∞Á¥ÑËÅñÁ∂ì",
            txtBibleBack: "ËøîÂõû",
            // ÊûúÂ≠êË≥áË®ä
            btnEntry: "Á∑ö‰∏äÁôªÈåÑ", btnOfflineEntry: "Á∑ö‰∏ãÁôªÈåÑ", 
            btnProfile: "ÂÄã‰∫∫Ë≥áÊñô", 
            btnBackend: "Á∑ö‰∏äÂæåÂè∞", btnOfflineBackend: "Á∑ö‰∏ãÂæåÂè∞",
            headerEntry: "Á∑ö‰∏äÂÇ≥ÈÅìÁôªÈåÑ", lblId: "Á∑®Ëôü", lblName: "ÂßìÂêç",
            lblDate: "Êó•Êúü", lblType: "ÂõûË¶ÜÈ°ûÂûã", lblContent: "ÂõûË¶ÜÂÖßÂÆπ",
            optMe: "ÊàëÂõûË¶Ü", optOther: "Â∞çÊñπÂõûË¶Ü",
            phId: "Ë´ãËº∏ÂÖ•0000-4999ÈñìÁöÑ4‰ΩçÁ∑®Ëôü", phName: "‰æã: ÈáëÂ§ß‰∏≠", phContent: "Ë´ãËº∏ÂÖ•Â∞çË©±ÈáçÈªûÊàñÂÇôÂøò...",
            btnSubmit: "ÁôªÈåÑË≥áÊñô", headerBackend: "Á∑ö‰∏äÂæåÂè∞Ë≥áÊñô",
            txtSelectAll: "ÂÖ®ÈÅ∏", txtTotal: "Ê∂âÂ§ñËÄÖ‰∫∫Êï∏: ", txtPerson: " ‰∫∫",
            txtWeeklyInteraction: "ÈÄ±Èñì‰∫§ÊµÅ: ",
            btnDelete: "Âà™Èô§ÈÅ∏Âèñ", btnEdit: "Á∑®ËºØ", btnDone: "ÂÆåÊàê",
            colId: "Á∑®Ëôü", colName: "ÂßìÂêç", colDate: "ÊúÄËøëÊó•Êúü", colContent: "ÊúÄÊñ∞ÂÖßÂÆπ",
            colActivity: "Ê¥ªË∫çÂ∫¶",
            activityHigh: "Ê¥ªË∫ç", activityNormal: "‰∏ÄËà¨", activityLow: "‰ΩéÊ¥ªË∫ç",
            statusFound: "‚úî Â∑≤ÊâæÂà∞ËàäË≥áÊñôÔºö", statusNew: "‚úö ÈÄôÊòØÊñ∞ÁöÑÁ∑®ËôüÔºåË´ãËº∏ÂÖ•ÂßìÂêç",
            statusNewId: "‚úö Êñ∞ÊúãÂèãÔºÅÁ≥ªÁµ±Âª∫Ë≠∞Á∑®ËôüÔºö",
            alertIncomplete: "Ë´ãÂ°´ÂØ´ÊâÄÊúâÊ¨Ñ‰Ωç",
            alertUpdate: "Â∑≤Êõ¥Êñ∞Ë≥áÊñô (Èõ≤Á´ØÂêåÊ≠•)Ôºö", alertCreate: "Â∑≤Âª∫Á´ãÊñ∞Ê™îÊ°à (Èõ≤Á´ØÂêåÊ≠•)Ôºö",
            alertConfirmDelete: "Á¢∫ÂÆöË¶ÅÊ∞∏‰πÖÂà™Èô§ÈÄô‰∫õÊ™îÊ°àÂèäÂÖ∂ÊâÄÊúâÁ¥ÄÈåÑÂóéÔºü",
            alertDeleted: "Âà™Èô§ÂÆåÊàêÔºÅ", alertDeleteLog: "Á¢∫ÂÆöË¶ÅÂà™Èô§ÈÄôÊ¢ùÁ¥ÄÈåÑÂóéÔºü",
            tagMe: "Êàë", tagOther: "‰ªñ", msgEmpty: "(Â∞öÁÑ°Á¥ÄÈåÑ)", msgCopied: "Â∑≤Ë§áË£ΩÔºÅ",
            msgCloudError: "Â∞öÊú™Ë®≠ÂÆöÈõ≤Á´ØÈáëÈë∞ÔºåÁÑ°Ê≥ïÂÑ≤Â≠ò„ÄÇË´ãÂèÉÈñ±Ë™™ÊòéË®≠ÁΩÆ Firebase„ÄÇ",
            errIdConflict: "ÈåØË™§ÔºöÊ≠§Á∑®ËôüÂ∑≤Á∂ìË¢´ÂÖ∂‰ªñ‰∫∫‰ΩøÁî®ÔºåË´ãÊ™¢Êü•„ÄÇ",
            errNameConflict: "ÈåØË™§ÔºöÊ≠§ÂßìÂêçÂ∑≤Á∂ìÊìÅÊúâÂè¶‰∏ÄÂÄãÁ∑®ËôüÔºåË´ãÊ™¢Êü•„ÄÇ",
            headerProfile: "ÂÄã‰∫∫Ë≥áÊñôÁôªÈåÑ", lblProfileId: "Á∑®Ëôü", lblProfileName: "ÂßìÂêç",
            lblProfileLocation: "Â±Ö‰ΩèÂú∞", lblProfilePhone: "ÊâãÊ©ü", lblProfileContact: "ËÅØÁµ°ÊñπÊ≥ï",
            lblProfileContactId: "ËÅØÁµ°ÊñπÂºèID", lblProfileBirthday: "ÁîüÊó• / Âπ¥Á¥Ä", ageUnit: "Ê≠≤",
            lblProfileMbti: "MBTI", lblProfileJob: "ËÅ∑Ê•≠",
            btnProfileSave: "ÂÑ≤Â≠ò", alertProfileSaved: "ÂÄã‰∫∫Ë≥áÊñôÂ∑≤ÂÑ≤Â≠ò„ÄÇ",
            alertProfileIdRequired: "Ë´ãÂÖàËº∏ÂÖ•Á∑®Ëôü„ÄÇ",
            popupLocation: "Â±Ö‰ΩèÂú∞", popupPhone: "ÊâãÊ©ü", popupContact: "ËÅØÁµ°ÊñπÊ≥ï", popupContactId: "ËÅØÁµ°ÊñπÂºèID",
            popupBirthday: "ÁîüÊó•", popupAge: "Âπ¥Á¥Ä", popupMbti: "MBTI", popupJob: "ËÅ∑Ê•≠",
            optContactNone: "Ë´ãÈÅ∏Êìá",
            // Á∑ö‰∏ãÁôªÈåÑ
            headerOfflineEntry: "Á∑ö‰∏ãÂÇ≥ÈÅìÁôªÈåÑ", 
            lblOfflineId: "Á∑®Ëôü", lblOfflineName: "ÂßìÂêç", lblOfflineDate: "Êó•Êúü",
            lblOfflinePhone: "ÊâãÊ©ü", lblOfflineContactId: "ËÅØÁµ°ÊñπÂºèID", 
            lblOfflineContactMethod: "ËÅØÁµ°ÊñπÊ≥ï",
            lblOfflineLocation: "Âú∞Èªû", lblOfflineActivity: "Ê¥ªÂãï", lblOfflineContent: "Ê∂âÂ§ñÂÖßÂÆπ",
            phOfflineId: "Ë´ãËº∏ÂÖ•5000‰ª•‰∏äÁöÑ4‰ΩçÁ∑®Ëôü", phOfflineContent: "Ë´ãËº∏ÂÖ•Ê∂âÂ§ñÂÖßÂÆπ...",
            btnOfflineSubmit: "ÁôªÈåÑË≥áÊñô",
            errOfflineIdTooLow: "ÈåØË™§ÔºöÁ∑ö‰∏ãÁ∑®ËôüÂøÖÈ†àÁÇ∫5000‰ª•‰∏ä„ÄÇ",
            statusOfflineNewId: "‚úö Êñ∞ÊúãÂèãÔºÅÁ≥ªÁµ±Âª∫Ë≠∞Á∑®ËôüÔºö",
            optOfflineContactNone: "Ë´ãÈÅ∏Êìá",
            // Á∑ö‰∏ãÂæåÂè∞
            headerOfflineBackend: "Á∑ö‰∏ãÂæåÂè∞Ë≥áÊñô",
            colOfflineId: "Á∑®Ëôü", colOfflineName: "ÂßìÂêç", colOfflineDate: "ÊúÄËøëÊó•Êúü",
            colOfflineLocation: "Âú∞Èªû", colOfflineEvent: "Ê¥ªÂãï", colOfflineActivity: "Ê¥ªË∫çÂ∫¶"
        }
    };

    if (cloudEnabled) {
        const q = collection(dbInstance, "missionary_data");
        onSnapshot(q, (snapshot) => {
            localDb = [];
            snapshot.forEach((doc) => {
                localDb.push(doc.data());
            });
            renderBackend();
            const activeId = document.getElementById('idInput').value;
            if(activeId) window.handleIdInput();
        });
        
        // Áõ£ËÅΩÁ∑ö‰∏ãË≥áÊñô
        const offlineQ = collection(dbInstance, "offline_missionary_data");
        onSnapshot(offlineQ, (snapshot) => {
            offlineDb = [];
            snapshot.forEach((doc) => {
                offlineDb.push(doc.data());
            });
            renderOfflineBackend();
            const offlineActiveId = document.getElementById('offlineIdInput');
            if(offlineActiveId && offlineActiveId.value) window.handleOfflineIdInput();
        });
    } else {
        document.getElementById('dataList').innerHTML = `<div style="padding:20px; text-align:center; color:red;">${i18n[currentLang].msgCloudError}</div>`;
        document.getElementById('offlineDataList').innerHTML = `<div style="padding:20px; text-align:center; color:red;">${i18n[currentLang].msgCloudError}</div>`;
    }

    // È†ÅÈù¢Ë®òÊÜ∂Ë∂ÖÊôÇË®≠ÂÆöÔºà12Â∞èÊôÇ = 12 * 60 * 60 * 1000 ÊØ´ÁßíÔºâ
    const PAGE_MEMORY_TIMEOUT = 12 * 60 * 60 * 1000;
    
    // ÂÑ≤Â≠òÈ†ÅÈù¢ÂíåÊôÇÈñìÊà≥
    function saveCurrentPage(page) {
        const data = {
            page: page,
            timestamp: Date.now()
        };
        localStorage.setItem('app_current_page', JSON.stringify(data));
    }
    
    // ËºâÂÖ•ÂÑ≤Â≠òÁöÑÈ†ÅÈù¢ÔºàÊ™¢Êü•ÊòØÂê¶Ë∂ÖÊôÇÔºâ
    function loadSavedPage() {
        const saved = localStorage.getItem('app_current_page');
        if (!saved) return null;
        
        try {
            const data = JSON.parse(saved);
            const elapsed = Date.now() - data.timestamp;
            
            // Ê™¢Êü•ÊòØÂê¶Ë∂ÖÈÅé12Â∞èÊôÇ
            if (elapsed > PAGE_MEMORY_TIMEOUT) {
                localStorage.removeItem('app_current_page');
                return null; // Ë∂ÖÊôÇÔºåËøîÂõûÈ¶ñÈ†Å
            }
            
            return data.page;
        } catch (e) {
            // Â¶ÇÊûúËß£ÊûêÂ§±ÊïóÔºàËàäÊ†ºÂºèÔºâÔºåÊ∏ÖÈô§‰∏¶ËøîÂõûnull
            localStorage.removeItem('app_current_page');
            return null;
        }
    }

    window.onload = function() {
        document.querySelector('.lang-select').value = currentLang;
        
        // ËºâÂÖ•ÂÑ≤Â≠òÁöÑÈ†ÅÈù¢ÔºàÂ∏∂Ë∂ÖÊôÇÊ™¢Êü•Ôºâ
        const savedPage = loadSavedPage();
        if (savedPage) {
            switchPage(savedPage);
        }
        
        applyLanguage();
        updateDateInput(); // ‰ΩøÁî®Êñ∞ÁöÑÊó•ÊúüÊõ¥Êñ∞ÂáΩÊï∏
    };

    window.setLanguage = (lang) => {
        currentLang = lang;
        localStorage.setItem('app_lang', lang); // Ê∞∏‰πÖÂÑ≤Â≠òË™ûË®ÄË®≠ÂÆö
        applyLanguage();
        renderBackend();
        renderOfflineBackend();
        const nameVal = document.getElementById('nameInput').value;
        window.updateReplyOption(nameVal);
    };

    function applyLanguage() {
        const t = i18n[currentLang];
        const map = {
            'txt-app-title': t.appTitle, 
            // ‰∏ªÈÅ∏ÂñÆ
            'menu-faith-title': t.menuFaith, 'menu-fruit-title': t.menuFruit,
            'menu-books-title': t.menuBooks,
            // ÊàëÁöÑ‰ø°‰ª∞
            'btn-daily-faith': t.btnDailyFaith, 'btn-faith-chart': t.btnFaithChart,
            'txt-daily-faith-header': t.headerDailyFaith, 'txt-faith-chart-header': t.headerFaithChart,
            'txt-daily-faith-desc': t.txtDailyFaithDesc, 'txt-faith-chart-desc': t.txtFaithChartDesc,
            // Êõ∏Á±ç
            'btn-bible': t.btnBible,
            'txt-old-testament': t.txtOldTestament, 'txt-new-testament': t.txtNewTestament,
            'txt-bible-back': t.txtBibleBack,
            // ÊûúÂ≠êË≥áË®ä
            'btn-entry': t.btnEntry, 'btn-offline-entry': t.btnOfflineEntry,
            'btn-profile': t.btnProfile, 
            'btn-backend': t.btnBackend, 'btn-offline-backend': t.btnOfflineBackend,
            'txt-entry-header': t.headerEntry, 'lbl-id': t.lblId, 'lbl-name': t.lblName,
            'lbl-date': t.lblDate, 'lbl-type': t.lblType, 'lbl-content': t.lblContent,
            'opt-me': t.optMe, 'opt-other': t.optOther, 'btn-submit': t.btnSubmit,
            'txt-backend-header': t.headerBackend, 'txt-select-all': t.txtSelectAll,
            'btn-delete': t.btnDelete, 'col-id': t.colId, 'col-name': t.colName,
            'col-activity': t.colActivity, 'col-date': t.colDate, 'col-content': t.colContent,
            'txt-profile-header': t.headerProfile, 'lbl-profile-id': t.lblProfileId,
            'lbl-profile-name': t.lblProfileName, 'lbl-profile-location': t.lblProfileLocation,
            'lbl-profile-phone': t.lblProfilePhone, 'lbl-profile-contact': t.lblProfileContact,
            'lbl-profile-contact-id': t.lblProfileContactId, 'lbl-profile-birthday': t.lblProfileBirthday,
            'age-unit': t.ageUnit, 'lbl-profile-mbti': t.lblProfileMbti, 'lbl-profile-job': t.lblProfileJob,
            'btn-profile-save': t.btnProfileSave, 'opt-contact-none': t.optContactNone,
            // Á∑ö‰∏ãÁôªÈåÑ
            'txt-offline-entry-header': t.headerOfflineEntry,
            'lbl-offline-id': t.lblOfflineId, 'lbl-offline-name': t.lblOfflineName,
            'lbl-offline-date': t.lblOfflineDate,
            'lbl-offline-location': t.lblOfflineLocation,
            'lbl-offline-activity': t.lblOfflineActivity, 'lbl-offline-content': t.lblOfflineContent,
            'btn-offline-submit': t.btnOfflineSubmit,
            // Á∑ö‰∏ãÂæåÂè∞
            'txt-offline-backend-header': t.headerOfflineBackend,
            'txt-offline-select-all': t.txtSelectAll, 'btn-offline-delete': t.btnDelete,
            'col-offline-id': t.colOfflineId, 'col-offline-name': t.colOfflineName,
            'col-offline-date': t.colOfflineDate, 'col-offline-location': t.colOfflineLocation,
            'col-offline-event': t.colOfflineEvent, 'col-offline-activity': t.colOfflineActivity
        };
        for (const [id, text] of Object.entries(map)) {
            const el = document.getElementById(id);
            if(el) el.textContent = text;
        }
        const editBtn = document.getElementById('btn-toggle-edit');
        if(editBtn) editBtn.textContent = isEditMode ? t.btnDone : t.btnEdit;
        
        const offlineEditBtn = document.getElementById('btn-offline-toggle-edit');
        if(offlineEditBtn) offlineEditBtn.textContent = isOfflineEditMode ? t.btnDone : t.btnEdit;

        document.getElementById('idInput').placeholder = t.phId;
        document.getElementById('nameInput').placeholder = t.phName;
        document.getElementById('content').placeholder = t.phContent;
        
        // Á∑ö‰∏ãÁôªÈåÑ placeholder
        const offlineIdInput = document.getElementById('offlineIdInput');
        if(offlineIdInput) offlineIdInput.placeholder = t.phOfflineId;
        const offlineContent = document.getElementById('offlineContent');
        if(offlineContent) offlineContent.placeholder = t.phOfflineContent;
        
        // Êõ¥Êñ∞Áï∂ÂâçÈ†ÅÈù¢Ê®ôÈ°å
        const pageTitleEl = document.getElementById('current-page-title');
        const activeSection = document.querySelector('.page-section.active-section');
        if (pageTitleEl && activeSection) {
            const sectionId = activeSection.id;
            if (sectionId === 'dailyFaithSection') pageTitleEl.textContent = t.btnDailyFaith;
            else if (sectionId === 'faithChartSection') pageTitleEl.textContent = t.btnFaithChart;
            else if (sectionId === 'bibleSection') pageTitleEl.textContent = t.btnBible;
            else if (sectionId === 'entrySection') pageTitleEl.textContent = t.btnEntry;
            else if (sectionId === 'offlineEntrySection') pageTitleEl.textContent = t.btnOfflineEntry;
            else if (sectionId === 'profileSection') pageTitleEl.textContent = t.btnProfile;
            else if (sectionId === 'backendSection') pageTitleEl.textContent = t.btnBackend;
            else if (sectionId === 'offlineBackendSection') pageTitleEl.textContent = t.btnOfflineBackend;
        }
        
        updateCounter();
        updateOfflineCounter();
    }

    // --- ÈÇèËºØ‰øÆÊ≠£ÂçÄÂ°ä ---

    window.handleIdInput = () => {
        const t = i18n[currentLang];
        const idVal = document.getElementById('idInput').value.trim();
        
        if (!idVal) {
            document.getElementById('nameInput').value = '';
            document.getElementById('statusMsg').style.display = 'none';
            window.updateReplyOption(null);
            return;
        }

        const user = localDb.find(u => u.id === idVal);
        if (user) {
            document.getElementById('nameInput').value = user.name;
            showStatus(t.statusFound + user.name, 'found');
            window.updateReplyOption(user.name);
        } else {
            if(idVal.length >= 4) showStatus(t.statusNew, 'new');
            else document.getElementById('statusMsg').style.display = 'none';
            window.updateReplyOption(null);
        }
    };

    window.handleNameInput = () => {
        const t = i18n[currentLang];
        const nameVal = document.getElementById('nameInput').value.trim();
        
        if (!nameVal) {
            document.getElementById('idInput').value = '';
            document.getElementById('statusMsg').style.display = 'none';
            window.updateReplyOption(null);
            return;
        }

        const user = localDb.find(u => u.name === nameVal);
        if (user) {
            document.getElementById('idInput').value = user.id;
            showStatus(t.statusFound + user.id, 'found');
            window.updateReplyOption(user.name);
        } else {
            if (document.getElementById('idInput').value === '') {
                const newId = generateNewId();
                showStatus(t.statusNewId + newId, 'new');
                document.getElementById('idInput').value = newId; 
            }
            window.updateReplyOption(null);
        }
    };

    window.updateReplyOption = (name) => {
        const t = i18n[currentLang];
        const option = document.getElementById('opt-other');
        option.textContent = name ? `${t.optOther} (${name})` : t.optOther;
    };

    function showStatus(msg, type) {
        const el = document.getElementById('statusMsg');
        el.textContent = msg;
        el.className = `status-bar status-${type}`;
        el.style.display = 'block';
    }

    // --- Ê†∏ÂøÉË≥áÊñôÊìç‰Ωú (Cloud) ---

    window.submitData = async () => {
        if (!cloudEnabled) { alert(i18n[currentLang].msgCloudError); return; }

        const t = i18n[currentLang];
        const id = document.getElementById('idInput').value.trim();
        const name = document.getElementById('nameInput').value.trim();
        const date = document.getElementById('recordDate').value;
        const typeSelect = document.getElementById('replyType').value;
        const content = document.getElementById('content').value.trim();

        if (!id || !name || !date || !content) { alert(t.alertIncomplete); return; }

        const existingUserById = localDb.find(u => u.id === id);
        if (existingUserById && existingUserById.name !== name) {
            alert(t.errIdConflict + `\n(ID: ${id} -> ${existingUserById.name})`);
            return;
        }

        const existingUserByName = localDb.find(u => u.name === name);
        if (existingUserByName && existingUserByName.id !== id) {
            alert(t.errNameConflict + `\n(${name} -> ID: ${existingUserByName.id})`);
            return;
        }

        let typeLabel = (typeSelect === 'me') ? 'me' : 'other';
        const userRef = doc(dbInstance, "missionary_data", id);
        
        // ‰ΩøÁî®ÊôÇÈñìÊà≥Ë®ò (timestamp) ‰æÜÈÄ≤Ë°åÁßíÊï∏ÊéíÂ∫è
        const timestamp = new Date().getTime();
        const newLogEntry = { date, type: typeLabel, content, createdAt: timestamp };

        let updatedLogs = [];
        
        if (existingUserById) {
            updatedLogs = [...existingUserById.logs, newLogEntry];
            await setDoc(userRef, { id, name, logs: updatedLogs }, { merge: true });
            alert(t.alertUpdate + name);
        } else {
            updatedLogs = [newLogEntry];
            await setDoc(userRef, { id, name, logs: updatedLogs });
            alert(t.alertCreate + name);
        }
        document.getElementById('content').value = '';
    };

    window.deleteSelected = async () => {
        if (!cloudEnabled) return;
        const t = i18n[currentLang];
        const checks = document.getElementsByName('selectUser');
        const toDelete = [];
        checks.forEach(c => { if(c.checked) toDelete.push(c.value); });

        if (toDelete.length === 0) return;
        if (confirm(t.alertConfirmDelete)) {
            for (const uid of toDelete) {
                await deleteDoc(doc(dbInstance, "missionary_data", uid));
            }
            document.getElementById('selectAll').checked = false;
            alert(t.alertDeleted);
            if (toDelete.includes(document.getElementById('idInput').value)) {
                document.getElementById('idInput').value = '';
                document.getElementById('nameInput').value = '';
            }
        }
    };

    window.deleteSingleLog = async (event, uid, logIndex) => {
        if (!cloudEnabled) return;
        event.stopPropagation();
        const t = i18n[currentLang];
        if(confirm(t.alertDeleteLog)) {
            const user = localDb.find(u => u.id === uid);
            if(user) {
                const sortedLogs = [...user.logs].sort((a, b) => {
                    const dateA = a.date || '0000-00-00';
                    const dateB = b.date || '0000-00-00';
                    if (dateA !== dateB) return dateB.localeCompare(dateA);
                    const timeA = a.createdAt || 0;
                    const timeB = b.createdAt || 0;
                    return timeB - timeA;
                });
                sortedLogs.splice(logIndex, 1);
                
                await updateDoc(doc(dbInstance, "missionary_data", uid), {
                    logs: sortedLogs
                });
                restoreExpand(uid);
            }
        }
    };

    window.editDate = (event, uid, logIndex, el) => {
        if (!isEditMode) return;
        event.stopPropagation();
        if (el.querySelector('input')) return;

        const originalDate = el.innerText;
        const input = document.createElement('input');
        input.type = 'date'; input.value = originalDate; input.style.width = '100%';
        el.innerHTML = ''; el.appendChild(input); input.focus();

        input.onblur = async () => {
            const newDate = input.value;
            if (newDate && newDate !== originalDate) {
                const user = localDb.find(u => u.id === uid);
                const sortedLogs = [...user.logs].sort((a, b) => {
                    const dateA = a.date || '0000-00-00';
                    const dateB = b.date || '0000-00-00';
                    if (dateA !== dateB) return dateB.localeCompare(dateA);
                    const timeA = a.createdAt || 0;
                    const timeB = b.createdAt || 0;
                    return timeB - timeA;
                });
                sortedLogs[logIndex].date = newDate;
                await updateDoc(doc(dbInstance, "missionary_data", uid), { logs: sortedLogs });
                restoreExpand(uid);
            } else {
                el.innerHTML = originalDate;
            }
        };
        input.onclick = (e) => e.stopPropagation();
    };

    window.editContent = (event, uid, logIndex, el) => {
        if (!isEditMode) return;
        event.stopPropagation();
        if (el.querySelector('textarea')) return;

        const originalText = el.innerText;
        const input = document.createElement('textarea');
        input.value = originalText; input.style.width = '100%'; input.style.padding='4px'; input.rows = 3;
        el.innerHTML = ''; el.appendChild(input); input.focus();

        input.onblur = async () => {
            const newText = input.value.trim();
            if (newText && newText !== originalText) {
                const user = localDb.find(u => u.id === uid);
                const sortedLogs = [...user.logs].sort((a, b) => {
                    const dateA = a.date || '0000-00-00';
                    const dateB = b.date || '0000-00-00';
                    if (dateA !== dateB) return dateB.localeCompare(dateA);
                    const timeA = a.createdAt || 0;
                    const timeB = b.createdAt || 0;
                    return timeB - timeA;
                });
                sortedLogs[logIndex].content = newText;
                await updateDoc(doc(dbInstance, "missionary_data", uid), { logs: sortedLogs });
                restoreExpand(uid);
            } else {
                el.innerText = originalText;
            }
        };
        input.onclick = (e) => e.stopPropagation();
    };

    function renderBackend() {
        if (!cloudEnabled) return;
        const t = i18n[currentLang];
        const listContainer = document.getElementById('dataList');
        listContainer.innerHTML = '';

        // ÊéíÂ∫èËºîÂä©ÂáΩÊï∏Ôºö‰∏ªË¶Å‰ª•ÈÅ∏ÊìáÁöÑÊó•ÊúüÊéíÂ∫èÔºåÂêå‰∏ÄÂ§©Ââá‰ª• createdAt (ÁßíÁ¥ö) ÊéíÂ∫è
        const sortByDateThenTime = (a, b) => {
            const dateA = a.date || '0000-00-00';
            const dateB = b.date || '0000-00-00';
            // ÊØîËºÉÊó•Êúü (Êó•ÊúüÊôöÁöÑÈù†Ââç)
            if (dateA !== dateB) {
                return dateB.localeCompare(dateA);
            }
            // Âêå‰∏ÄÂ§©ÂâáÊØîËºÉ createdAt (ÊôÇÈñìÊôöÁöÑÈù†Ââç)
            const timeA = a.createdAt || 0;
            const timeB = b.createdAt || 0;
            return timeB - timeA;
        };

        const processedUsers = localDb.map(user => {
            // ÊéíÂ∫èÈÇèËºØÔºö‰∏ªË¶Å‰ª•ÈÅ∏ÊìáÁöÑÊó•ÊúüÊéíÂ∫èÔºåÂêå‰∏ÄÂ§©Ââá‰ª• createdAt ÊéíÂ∫è
            const sortedLogs = [...user.logs].sort(sortByDateThenTime);
            const lastLog = sortedLogs[0] || { date: '0000-00-00', content: t.msgEmpty, createdAt: 0 };
            return { ...user, logs: sortedLogs, lastLog };
        });

        processedUsers.sort((a, b) => {
            const dateA = a.lastLog.date || '0000-00-00';
            const dateB = b.lastLog.date || '0000-00-00';
            const timeA = a.lastLog.createdAt || 0;
            const timeB = b.lastLog.createdAt || 0;
            
            if (sortDesc) {
                // ÈôçÂ∫èÔºöÊó•ÊúüÊôöÁöÑÈù†ÂâçÔºåÂêå‰∏ÄÂ§©ÊôÇÈñìÊôöÁöÑÈù†Ââç
                if (dateA !== dateB) return dateB.localeCompare(dateA);
                return timeB - timeA;
            } else {
                // ÂçáÂ∫èÔºöÊó•ÊúüÊó©ÁöÑÈù†ÂâçÔºåÂêå‰∏ÄÂ§©ÊôÇÈñìÊó©ÁöÑÈù†Ââç
                if (dateA !== dateB) return dateA.localeCompare(dateB);
                return timeA - timeB;
            }
        });

        processedUsers.forEach(user => {
            const card = document.createElement('div');
            card.className = 'user-card';
            const displayDate = user.lastLog.date === '0000-00-00' ? '-' : user.lastLog.date;

            // Ë®àÁÆóÊ¥ªË∫çÂ∫¶Ôºà3Â§©ÂÖßÊ¥ªË∫ç„ÄÅ3-7Â§©‰∏ÄËà¨„ÄÅ7Â§©‰ª•‰∏ä‰ΩéÊ¥ªË∫çÔºâ
            const now = new Date();
            const lastLogDate = user.lastLog.date !== '0000-00-00' ? new Date(user.lastLog.date) : null;
            let activityLevel = 'low';
            let activityText = t.activityLow;
            let activityClass = 'activity-low';
            
            if (lastLogDate) {
                const daysDiff = Math.floor((now - lastLogDate) / (1000 * 60 * 60 * 24));
                if (daysDiff <= 3) {
                    activityLevel = 'high';
                    activityText = t.activityHigh;
                    activityClass = 'activity-high';
                } else if (daysDiff <= 7) {
                    activityLevel = 'normal';
                    activityText = t.activityNormal;
                    activityClass = 'activity-normal';
                }
            }

            // Áç≤ÂèñÁî®Êà∂È¶ñÂ≠óÊØç‰ΩúÁÇ∫È†≠ÂÉè
            const avatarLetter = user.name ? user.name.charAt(0).toUpperCase() : '?';
            
            // Áç≤ÂèñÂÄã‰∫∫Ë≥áÊñô
            const profile = user.profile || {};
            const locationText = profile.location || '-';
            const phoneText = profile.phone || '-';
            const contactText = profile.contact || '-';
            const contactIdText = profile.contactId || '-';
            const jobText = profile.job || '-';
            
            // Ë®àÁÆóÁîüÊó•ÂíåÂπ¥Á¥ÄÈ°ØÁ§∫
            let birthdayText = '-';
            let ageText = '-';
            if (profile.birthYear && profile.birthMonth && profile.birthDay) {
                birthdayText = `${profile.birthYear}/${profile.birthMonth.padStart(2,'0')}/${profile.birthDay.padStart(2,'0')}`;
                // ÈáçÊñ∞Ë®àÁÆóÂπ¥ÈΩ°
                const today = new Date();
                const birthDate = new Date(parseInt(profile.birthYear), parseInt(profile.birthMonth) - 1, parseInt(profile.birthDay));
                let calculatedAge = today.getFullYear() - birthDate.getFullYear();
                const monthDiff = today.getMonth() - birthDate.getMonth();
                if (monthDiff < 0 || (monthDiff === 0 && today.getDate() < birthDate.getDate())) {
                    calculatedAge--;
                }
                ageText = calculatedAge >= 0 ? calculatedAge + t.ageUnit : '-';
            } else if (profile.birthMonth && profile.birthDay) {
                birthdayText = `${profile.birthMonth.padStart(2,'0')}/${profile.birthDay.padStart(2,'0')}`;
                ageText = profile.age ? profile.age + t.ageUnit : '-';
            } else if (profile.age) {
                ageText = profile.age + t.ageUnit;
            }
            
            const mbtiText = profile.mbti || '-';

            const summaryHtml = `
                <div class="user-summary grid-row" onclick="window.toggleDetails('${user.id}')">
                    <div class="check-cell" onclick="event.stopPropagation()">
                        <input type="checkbox" name="selectUser" value="${user.id}">
                    </div>
                    <div class="avatar-cell" style="position:relative;" onclick="event.stopPropagation()">
                        <div class="user-avatar" onclick="window.toggleProfilePopup('${user.id}')">${avatarLetter}</div>
                        <div class="profile-popup" id="popup-${user.id}">
                            <div class="profile-popup-item">
                                <span class="profile-popup-label">${t.popupLocation}</span>
                                <span class="profile-popup-value">${locationText}</span>
                            </div>
                            <div class="profile-popup-item">
                                <span class="profile-popup-label">${t.popupPhone}</span>
                                <span class="profile-popup-value">${phoneText}</span>
                            </div>
                            <div class="profile-popup-item">
                                <span class="profile-popup-label">${t.popupContact}</span>
                                <span class="profile-popup-value">${contactText}</span>
                            </div>
                            <div class="profile-popup-item">
                                <span class="profile-popup-label">${t.popupContactId}</span>
                                <span class="profile-popup-value">${contactIdText}</span>
                            </div>
                            <div class="profile-popup-item">
                                <span class="profile-popup-label">${t.popupBirthday}</span>
                                <span class="profile-popup-value">${birthdayText}</span>
                            </div>
                            <div class="profile-popup-item">
                                <span class="profile-popup-label">${t.popupAge}</span>
                                <span class="profile-popup-value">${ageText}</span>
                            </div>
                            <div class="profile-popup-item">
                                <span class="profile-popup-label">${t.popupMbti}</span>
                                <span class="profile-popup-value">${mbtiText}</span>
                            </div>
                            <div class="profile-popup-item">
                                <span class="profile-popup-label">${t.popupJob}</span>
                                <span class="profile-popup-value">${jobText}</span>
                            </div>
                        </div>
                    </div>
                    <div style="font-weight:bold; color:#666;">${user.id}</div>
                    <div><span class="activity-badge ${activityClass}">${activityText}</span></div>
                    <div style="font-weight:bold; font-size:1.05rem;">${user.name}</div>
                    <div class="col-date editable" style="color:#2e7d32;" onclick="window.editDate(event, '${user.id}', 0, this)">${displayDate}</div>
                    <div class="col-content editable" onclick="window.editContent(event, '${user.id}', 0, this)">${user.lastLog.content}</div>
                    <div class="action-cell"></div>
                </div>`;

            let logsHtml = '';
            user.logs.forEach((log, idx) => {
                const typeText = log.type === 'me' ? t.tagMe : t.tagOther;
                const typeClass = log.type === 'me' ? 'tag-me' : 'tag-other';
                logsHtml += `
                    <div class="detail-row grid-row">
                        <div class="check-cell"></div>
                        <div></div>
                        <div></div>
                        <div><span class="tag ${typeClass}">${typeText}</span></div>
                        <div></div>
                        <div class="editable" style="color:#1565c0;" onclick="window.editDate(event, '${user.id}', ${idx}, this)">${log.date}</div>
                        <div class="editable copyable" onclick="window.editContent(event, '${user.id}', ${idx}, this)" ondblclick="window.copyContent(event, this)">${log.content}</div>
                        <div class="action-cell">
                            <button class="btn-remove-log" onclick="window.deleteSingleLog(event, '${user.id}', ${idx})">‚úï</button>
                        </div>
                    </div>`;
            });

            card.innerHTML = summaryHtml + `<div class="user-details" id="details-${user.id}">${logsHtml}</div>`;
            listContainer.appendChild(card);
        });

        if (isEditMode) {
            document.getElementById('dataListContainer').classList.add('edit-mode');
        }
        updateCounter();
    }

    // ÈõôÊìäË§áË£ΩÂ∞çË©±ÂÖßÂÆπ
    window.copyContent = (event, element) => {
        event.stopPropagation();
        event.preventDefault();
        
        const content = element.textContent || element.innerText;
        
        if (navigator.clipboard && navigator.clipboard.writeText) {
            navigator.clipboard.writeText(content).then(() => {
                // È°ØÁ§∫Ë§áË£ΩÊàêÂäüÊèêÁ§∫
                showCopyToast();
            }).catch(err => {
                console.error('Ë§áË£ΩÂ§±Êïó:', err);
                fallbackCopy(content);
            });
        } else {
            fallbackCopy(content);
        }
    };
    
    // ÂÇôÁî®Ë§áË£ΩÊñπÊ≥ï
    function fallbackCopy(text) {
        const textArea = document.createElement('textarea');
        textArea.value = text;
        textArea.style.position = 'fixed';
        textArea.style.left = '-9999px';
        document.body.appendChild(textArea);
        textArea.select();
        try {
            document.execCommand('copy');
            showCopyToast();
        } catch (err) {
            console.error('ÂÇôÁî®Ë§áË£ΩÊñπÊ≥ïÂ§±Êïó:', err);
        }
        document.body.removeChild(textArea);
    }
    
    // È°ØÁ§∫Ë§áË£ΩÊàêÂäüÊèêÁ§∫
    function showCopyToast() {
        const t = i18n[currentLang];
        const toast = document.createElement('div');
        toast.className = 'copy-toast';
        toast.textContent = t.msgCopied || 'Â∑≤Ë§áË£ΩÔºÅ';
        document.body.appendChild(toast);
        
        setTimeout(() => {
            toast.classList.add('show');
        }, 10);
        
        setTimeout(() => {
            toast.classList.remove('show');
            setTimeout(() => {
                document.body.removeChild(toast);
            }, 300);
        }, 1500);
    }

    // ÂàáÊèõÂÄã‰∫∫Ë≥áË®äÂΩàÂá∫Ê°Ü
    window.toggleProfilePopup = (uid) => {
        const popup = document.getElementById(`popup-${uid}`);
        const allPopups = document.querySelectorAll('.profile-popup');
        allPopups.forEach(p => {
            if (p.id !== `popup-${uid}`) {
                p.classList.remove('show');
            }
        });
        popup.classList.toggle('show');
    };

    // ÈªûÊìäÂÖ∂‰ªñÂú∞ÊñπÈóúÈñâÂΩàÂá∫Ê°Ü
    document.addEventListener('click', (e) => {
        if (!e.target.closest('.user-avatar') && !e.target.closest('.profile-popup')) {
            document.querySelectorAll('.profile-popup').forEach(p => p.classList.remove('show'));
        }
    });

    window.toggleEditMode = () => {
        isEditMode = !isEditMode;
        const container = document.getElementById('dataListContainer');
        const controls = document.getElementById('editControls');
        const btn = document.getElementById('btn-toggle-edit');
        const t = i18n[currentLang];

        if (isEditMode) {
            container.classList.add('edit-mode');
            controls.style.display = 'flex';
            btn.textContent = t.btnDone;
            btn.classList.add('editing');
        } else {
            container.classList.remove('edit-mode');
            controls.style.display = 'none';
            btn.textContent = t.btnEdit;
            btn.classList.remove('editing');
            const checks = document.getElementsByName('selectUser');
            checks.forEach(c => c.checked = false);
            document.getElementById('selectAll').checked = false;
        }
    };

    window.toggleDetails = (uid) => {
        if (['INPUT', 'TEXTAREA'].includes(document.activeElement.tagName)) return;
        const details = document.getElementById(`details-${uid}`);
        const summary = details.previousElementSibling;
        if (details.style.display === 'block') {
            details.style.display = 'none';
            summary.classList.remove('expanded');
        } else {
            details.style.display = 'block';
            summary.classList.add('expanded');
        }
    };

    function restoreExpand(uid) {
        setTimeout(() => {
            const d = document.getElementById(`details-${uid}`);
            if(d) { d.style.display = 'block'; d.previousElementSibling.classList.add('expanded'); }
        }, 100); 
    }

    window.toggleSort = () => { sortDesc = !sortDesc; document.getElementById('sortIcon').textContent = sortDesc ? '‚ñº' : '‚ñ≤'; renderBackend(); };
    window.toggleOfflineSort = () => { offlineSortDesc = !offlineSortDesc; document.getElementById('offlineSortIcon').textContent = offlineSortDesc ? '‚ñº' : '‚ñ≤'; renderOfflineBackend(); };
    window.toggleSelectAll = () => { const m = document.getElementById('selectAll'); document.getElementsByName('selectUser').forEach(c => c.checked = m.checked); };
    window.toggleOfflineSelectAll = () => { const m = document.getElementById('offlineSelectAll'); document.getElementsByName('selectOfflineUser').forEach(c => c.checked = m.checked); };
    
    window.toggleMenu = () => {
        const dropdown = document.getElementById('menuDropdown');
        const toggle = document.querySelector('.menu-toggle');
        dropdown.classList.toggle('show');
        toggle.classList.toggle('open');
    };
    
    // ÈªûÊìäÂÖ∂‰ªñÂú∞ÊñπÈóúÈñâÈÅ∏ÂñÆ
    document.addEventListener('click', (e) => {
        const dropdown = document.getElementById('menuDropdown');
        const toggle = document.querySelector('.menu-toggle');
        if (!toggle.contains(e.target) && !dropdown.contains(e.target)) {
            dropdown.classList.remove('show');
            toggle.classList.remove('open');
        }
    });
    
    window.switchPage = (page) => {
        const t = i18n[currentLang];
        document.querySelectorAll('.page-section').forEach(s => s.classList.remove('active-section'));
        document.querySelectorAll('.menu-btn').forEach(b => b.classList.remove('active'));
        
        // ÈóúÈñâÈÅ∏ÂñÆ
        document.getElementById('menuDropdown').classList.remove('show');
        document.querySelector('.menu-toggle').classList.remove('open');
        
        // ÂÑ≤Â≠òÁï∂ÂâçÈ†ÅÈù¢Âà∞ localStorageÔºàÂ∏∂ÊôÇÈñìÊà≥Ôºå12Â∞èÊôÇÂæåÈÅéÊúüÔºâ
        saveCurrentPage(page);
        
        // Êõ¥Êñ∞Áï∂ÂâçÈ†ÅÈù¢Ê®ôÈ°å
        const pageTitleEl = document.getElementById('current-page-title');
        
        // Ê†πÊìöÈ†ÅÈù¢Ëá™ÂãïÂ±ïÈñãÂ∞çÊáâÁöÑÂ≠êÈÅ∏ÂñÆ
        document.querySelectorAll('.menu-category').forEach(c => c.classList.remove('open'));
        
        // Èö±ËóèÂäüËÉΩÊåâÈàïÁæ§ÁµÑÔºàÈ†êË®≠Ôºâ
        document.getElementById('bibleFabContainer').classList.remove('show');
        // Êî∂Ëµ∑ÂäüËÉΩÊåâÈàï
        document.getElementById('bibleFabMain').classList.remove('active');
        document.getElementById('bibleFabActions').classList.remove('show');
        document.getElementById('bibleFabIcon').textContent = '‚úö';
        
        if (page === 'daily-faith') {
            document.getElementById('dailyFaithSection').classList.add('active-section');
            document.getElementById('btn-daily-faith').classList.add('active');
            document.getElementById('menu-category-faith').classList.add('open');
            pageTitleEl.textContent = t.btnDailyFaith;
        } else if (page === 'faith-chart') {
            document.getElementById('faithChartSection').classList.add('active-section');
            document.getElementById('btn-faith-chart').classList.add('active');
            document.getElementById('menu-category-faith').classList.add('open');
            pageTitleEl.textContent = t.btnFaithChart;
        } else if (page === 'bible') {
            document.getElementById('bibleSection').classList.add('active-section');
            document.getElementById('btn-bible').classList.add('active');
            document.getElementById('menu-category-books').classList.add('open');
            pageTitleEl.textContent = t.btnBible;
            // ÈáçÁΩÆËÅñÁ∂ìÈ†ÅÈù¢Âà∞Êõ∏Âç∑ÂàóË°®
            document.getElementById('bibleBooksList').style.display = 'block';
            document.getElementById('bibleContentView').classList.remove('show');
            // È°ØÁ§∫ÂäüËÉΩÊåâÈàïÁæ§ÁµÑ
            document.getElementById('bibleFabContainer').classList.add('show');
        } else if (page === 'entry') { 
            document.getElementById('entrySection').classList.add('active-section'); 
            document.getElementById('btn-entry').classList.add('active');
            document.getElementById('menu-category-fruit').classList.add('open');
            pageTitleEl.textContent = t.btnEntry;
        } else if (page === 'offline-entry') {
            document.getElementById('offlineEntrySection').classList.add('active-section'); 
            document.getElementById('btn-offline-entry').classList.add('active');
            document.getElementById('menu-category-fruit').classList.add('open');
            pageTitleEl.textContent = t.btnOfflineEntry;
        } else if (page === 'profile') {
            document.getElementById('profileSection').classList.add('active-section'); 
            document.getElementById('btn-profile').classList.add('active');
            document.getElementById('menu-category-fruit').classList.add('open');
            pageTitleEl.textContent = t.btnProfile;
        } else if (page === 'backend') { 
            document.getElementById('backendSection').classList.add('active-section'); 
            document.getElementById('btn-backend').classList.add('active'); 
            document.getElementById('menu-category-fruit').classList.add('open');
            pageTitleEl.textContent = t.btnBackend;
            renderBackend(); 
        } else if (page === 'offline-backend') {
            document.getElementById('offlineBackendSection').classList.add('active-section'); 
            document.getElementById('btn-offline-backend').classList.add('active');
            document.getElementById('menu-category-fruit').classList.add('open');
            pageTitleEl.textContent = t.btnOfflineBackend;
            renderOfflineBackend(); 
        }
    };
    
    // ÂàáÊèõÂ≠êÈÅ∏ÂñÆ
    window.toggleSubMenu = (category) => {
        const categoryEl = document.getElementById(`menu-category-${category}`);
        if (categoryEl) {
            categoryEl.classList.toggle('open');
        }
    };
    
    function updateCounter() {
        const t = i18n[currentLang];
        document.getElementById('txt-total-count').textContent = t.txtTotal + localDb.length + t.txtPerson;
        
        // Ë®àÁÆóÈÄ±Èñì‰∫§ÊµÅ‰∫∫Êï∏ÔºàÊúÄËøë7Â§©ÂÖßÊúâË®òÈåÑÁöÑ‰∫∫Êï∏Ôºâ
        const now = new Date();
        const oneWeekAgo = new Date(now.getTime() - 7 * 24 * 60 * 60 * 1000);
        
        const weeklyInteractionCount = localDb.filter(user => {
            if (!user.logs || user.logs.length === 0) return false;
            return user.logs.some(log => {
                const logDate = new Date(log.date);
                return logDate >= oneWeekAgo;
            });
        }).length;
        
        document.getElementById('txt-interaction-count').textContent = t.txtWeeklyInteraction + weeklyInteractionCount + t.txtPerson;
    }
    
    function updateOfflineCounter() {
        const t = i18n[currentLang];
        const offlineTotalEl = document.getElementById('txt-offline-total-count');
        if (offlineTotalEl) {
            offlineTotalEl.textContent = t.txtTotal + offlineDb.length + t.txtPerson;
        }
        
        // Ë®àÁÆóÈÄ±Èñì‰∫§ÊµÅ‰∫∫Êï∏
        const now = new Date();
        const oneWeekAgo = new Date(now.getTime() - 7 * 24 * 60 * 60 * 1000);
        
        const weeklyInteractionCount = offlineDb.filter(user => {
            if (!user.logs || user.logs.length === 0) return false;
            return user.logs.some(log => {
                const logDate = new Date(log.date);
                return logDate >= oneWeekAgo;
            });
        }).length;
        
        const offlineInteractionEl = document.getElementById('txt-offline-interaction-count');
        if (offlineInteractionEl) {
            offlineInteractionEl.textContent = t.txtWeeklyInteraction + weeklyInteractionCount + t.txtPerson;
        }
    }
    
    function generateNewId() {
        if (localDb.length === 0) return '0001';
        const maxId = localDb.reduce((max, u) => Math.max(max, parseInt(u.id, 10)), 0);
        return String(maxId + 1).padStart(4, '0');
    }
    
    function generateNewOfflineId() {
        if (offlineDb.length === 0) return '5000';
        const maxId = offlineDb.reduce((max, u) => Math.max(max, parseInt(u.id, 10)), 5000);
        return String(maxId + 1);
    }

    // --- ÂÄã‰∫∫Ë≥áÊñôÈ†ÅÈù¢ÂäüËÉΩ ---
    function showProfileStatus(msg, type) {
        const el = document.getElementById('profileStatusMsg');
        el.textContent = msg;
        el.className = `status-bar status-${type}`;
        el.style.display = 'block';
    }

    window.handleProfileIdInput = () => {
        const t = i18n[currentLang];
        const idVal = document.getElementById('profileIdInput').value.trim();
        
        if (!idVal) {
            document.getElementById('profileNameInput').value = '';
            document.getElementById('profileLocation').value = '';
            document.getElementById('profilePhone').value = '';
            document.getElementById('profileContact').value = '';
            document.getElementById('profileContactId').value = '';
            document.getElementById('profileBirthYear').value = '';
            document.getElementById('profileBirthMonth').value = '';
            document.getElementById('profileBirthDay').value = '';
            document.getElementById('profileAge').value = '';
            document.getElementById('profileMbti').value = '';
            document.getElementById('profileJob').value = '';
            document.getElementById('profileStatusMsg').style.display = 'none';
            return;
        }

        const user = localDb.find(u => u.id === idVal);
        if (user) {
            document.getElementById('profileNameInput').value = user.name;
            showProfileStatus(t.statusFound + user.name, 'found');
            // ËºâÂÖ•ÁèæÊúâÂÄã‰∫∫Ë≥áÊñô
            const profile = user.profile || {};
            document.getElementById('profileLocation').value = profile.location || '';
            document.getElementById('profilePhone').value = profile.phone || '';
            document.getElementById('profileContact').value = profile.contact || '';
            document.getElementById('profileContactId').value = profile.contactId || '';
            document.getElementById('profileBirthYear').value = profile.birthYear || '';
            document.getElementById('profileBirthMonth').value = profile.birthMonth || '';
            document.getElementById('profileBirthDay').value = profile.birthDay || '';
            document.getElementById('profileMbti').value = profile.mbti || '';
            document.getElementById('profileJob').value = profile.job || '';
            // Â¶ÇÊûúÊúâÂÆåÊï¥ÁîüÊó•Ë≥áÊñôÔºåÈáçÊñ∞Ë®àÁÆóÂπ¥ÈΩ°
            if (profile.birthYear && profile.birthMonth && profile.birthDay) {
                window.calculateAge();
            } else {
                document.getElementById('profileAge').value = profile.age || '';
            }
        } else {
            if(idVal.length >= 4) showProfileStatus(t.statusNew, 'new');
            else document.getElementById('profileStatusMsg').style.display = 'none';
            document.getElementById('profileLocation').value = '';
            document.getElementById('profilePhone').value = '';
            document.getElementById('profileContact').value = '';
            document.getElementById('profileContactId').value = '';
            document.getElementById('profileBirthYear').value = '';
            document.getElementById('profileBirthMonth').value = '';
            document.getElementById('profileBirthDay').value = '';
            document.getElementById('profileAge').value = '';
            document.getElementById('profileMbti').value = '';
            document.getElementById('profileJob').value = '';
        }
    };

    window.handleProfileNameInput = () => {
        const t = i18n[currentLang];
        const nameVal = document.getElementById('profileNameInput').value.trim();
        
        if (!nameVal) {
            document.getElementById('profileIdInput').value = '';
            document.getElementById('profileLocation').value = '';
            document.getElementById('profilePhone').value = '';
            document.getElementById('profileContact').value = '';
            document.getElementById('profileContactId').value = '';
            document.getElementById('profileBirthYear').value = '';
            document.getElementById('profileBirthMonth').value = '';
            document.getElementById('profileBirthDay').value = '';
            document.getElementById('profileAge').value = '';
            document.getElementById('profileMbti').value = '';
            document.getElementById('profileJob').value = '';
            document.getElementById('profileStatusMsg').style.display = 'none';
            return;
        }

        const user = localDb.find(u => u.name === nameVal);
        if (user) {
            document.getElementById('profileIdInput').value = user.id;
            showProfileStatus(t.statusFound + user.name, 'found');
            // ËºâÂÖ•ÁèæÊúâÂÄã‰∫∫Ë≥áÊñô
            const profile = user.profile || {};
            document.getElementById('profileLocation').value = profile.location || '';
            document.getElementById('profilePhone').value = profile.phone || '';
            document.getElementById('profileContact').value = profile.contact || '';
            document.getElementById('profileContactId').value = profile.contactId || '';
            document.getElementById('profileBirthYear').value = profile.birthYear || '';
            document.getElementById('profileBirthMonth').value = profile.birthMonth || '';
            document.getElementById('profileBirthDay').value = profile.birthDay || '';
            document.getElementById('profileMbti').value = profile.mbti || '';
            document.getElementById('profileJob').value = profile.job || '';
            // Â¶ÇÊûúÊúâÂÆåÊï¥ÁîüÊó•Ë≥áÊñôÔºåÈáçÊñ∞Ë®àÁÆóÂπ¥ÈΩ°
            if (profile.birthYear && profile.birthMonth && profile.birthDay) {
                window.calculateAge();
            } else {
                document.getElementById('profileAge').value = profile.age || '';
            }
        } else {
            if (document.getElementById('profileIdInput').value === '') {
                const newId = generateNewId();
                showProfileStatus(t.statusNewId + newId, 'new');
                document.getElementById('profileIdInput').value = newId; 
            }
        }
    };

    window.saveProfile = async () => {
        if (!cloudEnabled) { alert(i18n[currentLang].msgCloudError); return; }
        
        const t = i18n[currentLang];
        const id = document.getElementById('profileIdInput').value.trim();
        const name = document.getElementById('profileNameInput').value.trim();
        
        if (!id) { 
            alert(t.alertProfileIdRequired); 
            return; 
        }

        const location = document.getElementById('profileLocation').value.trim();
        const phone = document.getElementById('profilePhone').value.trim();
        const contact = document.getElementById('profileContact').value;
        const contactId = document.getElementById('profileContactId').value.trim();

        const userRef = doc(dbInstance, "missionary_data", id);
        const existingUser = localDb.find(u => u.id === id);
        
        const birthYear = document.getElementById('profileBirthYear').value.trim();
        const birthMonth = document.getElementById('profileBirthMonth').value.trim();
        const birthDay = document.getElementById('profileBirthDay').value.trim();
        const age = document.getElementById('profileAge').value.trim();
        const mbti = document.getElementById('profileMbti').value.trim().toUpperCase();
        const job = document.getElementById('profileJob').value.trim();
        
        const profileData = { 
            location, phone, contact, contactId,
            birthYear, birthMonth, birthDay, age, mbti, job
        };

        if (existingUser) {
            await updateDoc(userRef, { profile: profileData });
        } else if (name) {
            await setDoc(userRef, { id, name, logs: [], profile: profileData });
        } else {
            alert(t.alertIncomplete);
            return;
        }

        alert(t.alertProfileSaved);
    };
    
    // ÁîüÊó•Âπ¥‰ªΩËº∏ÂÖ•ËôïÁêÜÔºàËá™ÂãïË∑≥ËΩâÂà∞Êúà‰ªΩÔºâ
    window.handleBirthYearInput = (input) => {
        // Âè™ÂÖÅË®±Êï∏Â≠ó
        input.value = input.value.replace(/[^0-9]/g, '');
        
        // Ëº∏ÂÖ•Êªø4‰ΩçÂæåËá™ÂãïË∑≥Âà∞Êúà‰ªΩ
        if (input.value.length === 4) {
            document.getElementById('profileBirthMonth').focus();
        }
        window.calculateAge();
    };
    
    // ÁîüÊó•Êúà‰ªΩËº∏ÂÖ•ËôïÁêÜÔºàËá™ÂãïË∑≥ËΩâÂà∞Êó•ÊúüÔºâ
    window.handleBirthMonthInput = (input) => {
        // Âè™ÂÖÅË®±Êï∏Â≠ó
        input.value = input.value.replace(/[^0-9]/g, '');
        
        // Ëº∏ÂÖ•Êªø2‰ΩçÂæåËá™ÂãïË∑≥Âà∞Êó•Êúü
        if (input.value.length === 2) {
            document.getElementById('profileBirthDay').focus();
        }
        window.calculateAge();
    };
    
    // ÁîüÊó•Êó•ÊúüËº∏ÂÖ•ËôïÁêÜÔºàËá™ÂãïË∑≥ËΩâÂà∞Âπ¥ÈΩ°Ôºâ
    window.handleBirthDayInput = (input) => {
        // Âè™ÂÖÅË®±Êï∏Â≠ó
        input.value = input.value.replace(/[^0-9]/g, '');
        
        // Ëº∏ÂÖ•Êªø2‰ΩçÂæåËá™ÂãïË∑≥Âà∞Âπ¥ÈΩ°ÔºàÊàñÂÆåÊàêËº∏ÂÖ•Ôºâ
        if (input.value.length === 2) {
            document.getElementById('profileAge').focus();
        }
        window.calculateAge();
    };
    
    // Ë®àÁÆóÂπ¥ÈΩ°
    window.calculateAge = () => {
        const yearInput = document.getElementById('profileBirthYear').value.trim();
        const monthInput = document.getElementById('profileBirthMonth').value.trim();
        const dayInput = document.getElementById('profileBirthDay').value.trim();
        
        // Âè™ÊúâÂπ¥ÊúàÊó•ÈÉΩÂ°´ÂØ´ÊôÇÊâçËá™ÂãïË®àÁÆóÂπ¥ÈΩ°
        if (yearInput && monthInput && dayInput && 
            yearInput.length === 4 && monthInput.length >= 1 && dayInput.length >= 1) {
            
            const year = parseInt(yearInput, 10);
            const month = parseInt(monthInput, 10);
            const day = parseInt(dayInput, 10);
            
            if (!isNaN(year) && !isNaN(month) && !isNaN(day) && 
                month >= 1 && month <= 12 && day >= 1 && day <= 31) {
                
                const today = new Date();
                const birthDate = new Date(year, month - 1, day);
                
                let age = today.getFullYear() - birthDate.getFullYear();
                const monthDiff = today.getMonth() - birthDate.getMonth();
                
                // Â¶ÇÊûúÈÇÑÊ≤íÈÅéÁîüÊó•ÔºåÂπ¥ÈΩ°Ê∏õ1
                if (monthDiff < 0 || (monthDiff === 0 && today.getDate() < birthDate.getDate())) {
                    age--;
                }
                
                if (age >= 0 && age < 150) {
                    document.getElementById('profileAge').value = age;
                }
            }
        }
    };

    // --- Á∑ö‰∏ãÁôªÈåÑÂäüËÉΩ ---
    function showOfflineStatus(msg, type) {
        const el = document.getElementById('offlineStatusMsg');
        el.textContent = msg;
        el.className = `status-bar status-${type}`;
        el.style.display = 'block';
    }

    window.handleOfflineIdInput = () => {
        const t = i18n[currentLang];
        const idVal = document.getElementById('offlineIdInput').value.trim();
        
        if (!idVal) {
            document.getElementById('offlineNameInput').value = '';
            document.getElementById('offlineStatusMsg').style.display = 'none';
            return;
        }

        const idNum = parseInt(idVal, 10);
        if (idNum < 5000) {
            showOfflineStatus(t.errOfflineIdTooLow, 'new');
            return;
        }

        const user = offlineDb.find(u => u.id === idVal);
        if (user) {
            document.getElementById('offlineNameInput').value = user.name;
            showOfflineStatus(t.statusFound + user.name, 'found');
        } else {
            showOfflineStatus(t.statusNew, 'new');
        }
    };

    window.handleOfflineNameInput = () => {
        const t = i18n[currentLang];
        const nameVal = document.getElementById('offlineNameInput').value.trim();
        
        if (!nameVal) {
            document.getElementById('offlineIdInput').value = '';
            document.getElementById('offlineStatusMsg').style.display = 'none';
            return;
        }

        const user = offlineDb.find(u => u.name === nameVal);
        if (user) {
            document.getElementById('offlineIdInput').value = user.id;
            showOfflineStatus(t.statusFound + user.id, 'found');
        } else {
            if (document.getElementById('offlineIdInput').value === '') {
                const newId = generateNewOfflineId();
                showOfflineStatus(t.statusOfflineNewId + newId, 'new');
                document.getElementById('offlineIdInput').value = newId; 
            }
        }
    };

    // Google Maps Âú∞ÈªûÊêúÂ∞ãÂäüËÉΩ
    window.openGoogleMaps = () => {
        const locationInput = document.getElementById('offlineLocation');
        const currentValue = locationInput.value.trim();
        
        // ÊßãÂª∫ Google Maps ÊêúÂ∞ã URL
        let mapsUrl;
        if (currentValue) {
            // Â¶ÇÊûúÂ∑≤ÊúâÂú∞ÈªûÂêçÁ®±ÔºåÁõ¥Êé•ÊêúÂ∞ãË©≤Âú∞Èªû
            mapsUrl = `https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(currentValue)}`;
        } else {
            // Â¶ÇÊûúÊ≤íÊúâËº∏ÂÖ•ÔºåÊâìÈñã Google Maps È¶ñÈ†ÅËÆìÁî®Êà∂ÊêúÂ∞ã
            mapsUrl = `https://www.google.com/maps`;
        }
        
        // Âú®Êñ∞Ë¶ñÁ™óÊâìÈñã Google Maps
        window.open(mapsUrl, '_blank');
    };

    window.submitOfflineData = async () => {
        if (!cloudEnabled) { alert(i18n[currentLang].msgCloudError); return; }

        const t = i18n[currentLang];
        const id = document.getElementById('offlineIdInput').value.trim();
        const name = document.getElementById('offlineNameInput').value.trim();
        const date = document.getElementById('offlineRecordDate').value;
        const location = document.getElementById('offlineLocation').value.trim();
        const activity = document.getElementById('offlineActivity').value.trim();
        const content = document.getElementById('offlineContent').value.trim();

        if (!id || !name || !date) { alert(t.alertIncomplete); return; }

        const idNum = parseInt(id, 10);
        if (idNum < 5000) {
            alert(t.errOfflineIdTooLow);
            return;
        }

        const existingUserById = offlineDb.find(u => u.id === id);
        if (existingUserById && existingUserById.name !== name) {
            alert(t.errIdConflict + `\n(ID: ${id} -> ${existingUserById.name})`);
            return;
        }

        const existingUserByName = offlineDb.find(u => u.name === name);
        if (existingUserByName && existingUserByName.id !== id) {
            alert(t.errNameConflict + `\n(${name} -> ID: ${existingUserByName.id})`);
            return;
        }

        try {
            const userRef = doc(dbInstance, "offline_missionary_data", id);
            const timestamp = new Date().getTime();
            const newLogEntry = { date, location, activity, content, createdAt: timestamp };

            let updatedLogs = [];
            
            if (existingUserById) {
                updatedLogs = [...existingUserById.logs, newLogEntry];
                await setDoc(userRef, { id, name, logs: updatedLogs }, { merge: true });
                alert(t.alertUpdate + name);
            } else {
                updatedLogs = [newLogEntry];
                await setDoc(userRef, { id, name, logs: updatedLogs });
                alert(t.alertCreate + name);
            }

            // Ê∏ÖÁ©∫Ë°®ÂñÆ
            document.getElementById('offlineLocation').value = '';
            document.getElementById('offlineActivity').value = '';
            document.getElementById('offlineContent').value = '';
        } catch (error) {
            console.error('Á∑ö‰∏ãË≥áÊñô‰∏äÂÇ≥ÈåØË™§:', error);
            alert('‰∏äÂÇ≥Â§±Êïó: ' + error.message);
        }
    };

    // --- Á∑ö‰∏ãÂæåÂè∞ÂäüËÉΩ ---
    function renderOfflineBackend() {
        if (!cloudEnabled) return;
        const t = i18n[currentLang];
        const listContainer = document.getElementById('offlineDataList');
        if (!listContainer) return;
        listContainer.innerHTML = '';

        // ÊéíÂ∫èËºîÂä©ÂáΩÊï∏Ôºö‰∏ªË¶Å‰ª•ÈÅ∏ÊìáÁöÑÊó•ÊúüÊéíÂ∫èÔºåÂêå‰∏ÄÂ§©Ââá‰ª• createdAt (ÁßíÁ¥ö) ÊéíÂ∫è
        const sortByDateThenTime = (a, b) => {
            const dateA = a.date || '0000-00-00';
            const dateB = b.date || '0000-00-00';
            if (dateA !== dateB) {
                return dateB.localeCompare(dateA);
            }
            const timeA = a.createdAt || 0;
            const timeB = b.createdAt || 0;
            return timeB - timeA;
        };

        const processedUsers = offlineDb.map(user => {
            const sortedLogs = [...user.logs].sort(sortByDateThenTime);
            const lastLog = sortedLogs[0] || { date: '0000-00-00', content: t.msgEmpty, createdAt: 0 };
            return { ...user, logs: sortedLogs, lastLog };
        });

        processedUsers.sort((a, b) => {
            const dateA = a.lastLog.date || '0000-00-00';
            const dateB = b.lastLog.date || '0000-00-00';
            const timeA = a.lastLog.createdAt || 0;
            const timeB = b.lastLog.createdAt || 0;
            
            if (offlineSortDesc) {
                if (dateA !== dateB) return dateB.localeCompare(dateA);
                return timeB - timeA;
            } else {
                if (dateA !== dateB) return dateA.localeCompare(dateB);
                return timeA - timeB;
            }
        });

        processedUsers.forEach(user => {
            const card = document.createElement('div');
            card.className = 'user-card';
            const displayDate = user.lastLog.date === '0000-00-00' ? '-' : user.lastLog.date;

            // Ë®àÁÆóÊ¥ªË∫çÂ∫¶
            const now = new Date();
            const lastLogDate = user.lastLog.date !== '0000-00-00' ? new Date(user.lastLog.date) : null;
            let activityText = t.activityLow;
            let activityClass = 'activity-low';
            
            if (lastLogDate) {
                const daysDiff = Math.floor((now - lastLogDate) / (1000 * 60 * 60 * 24));
                if (daysDiff <= 3) {
                    activityText = t.activityHigh;
                    activityClass = 'activity-high';
                } else if (daysDiff <= 7) {
                    activityText = t.activityNormal;
                    activityClass = 'activity-normal';
                }
            }

            const avatarLetter = user.name ? user.name.charAt(0).toUpperCase() : '?';
            const locationText = user.lastLog.location || '-';

            const summaryHtml = `
                <div class="user-summary offline-grid-row" onclick="window.toggleOfflineDetails('${user.id}')">
                    <div class="check-cell" onclick="event.stopPropagation()">
                        <input type="checkbox" name="selectOfflineUser" value="${user.id}">
                    </div>
                    <div class="avatar-cell" style="position:relative;">
                        <div class="user-avatar">${avatarLetter}</div>
                    </div>
                    <div style="font-weight:bold; color:#666;">${user.id}</div>
                    <div><span class="activity-badge ${activityClass}">${activityText}</span></div>
                    <div style="font-weight:bold; font-size:1.05rem;">${user.name}</div>
                    <div style="color:#2e7d32;">${displayDate}</div>
                    <div style="color:#555;">${locationText}</div>
                    <div class="action-cell"></div>
                </div>`;

            let logsHtml = '';
            user.logs.forEach((log, idx) => {
                logsHtml += `
                    <div class="detail-row offline-grid-row">
                        <div class="check-cell"></div>
                        <div></div>
                        <div></div>
                        <div style="font-size:0.85rem; color:#888;">${log.contactMethod || '-'}</div>
                        <div style="font-size:0.85rem; color:#888;">${log.activity || '-'}</div>
                        <div style="color:#1565c0;">${log.date}</div>
                        <div style="white-space:pre-wrap; word-break:break-word;">${log.content || '-'}</div>
                        <div class="action-cell">
                            <button class="btn-remove-log" onclick="window.deleteOfflineSingleLog(event, '${user.id}', ${idx})">‚úï</button>
                        </div>
                    </div>`;
            });

            card.innerHTML = summaryHtml + `<div class="user-details" id="offline-details-${user.id}">${logsHtml}</div>`;
            listContainer.appendChild(card);
        });

        if (isOfflineEditMode) {
            document.getElementById('offlineDataListContainer').classList.add('edit-mode');
        }
        updateOfflineCounter();
    }

    window.toggleOfflineEditMode = () => {
        isOfflineEditMode = !isOfflineEditMode;
        const container = document.getElementById('offlineDataListContainer');
        const controls = document.getElementById('offlineEditControls');
        const btn = document.getElementById('btn-offline-toggle-edit');
        const t = i18n[currentLang];

        if (isOfflineEditMode) {
            container.classList.add('edit-mode');
            controls.style.display = 'flex';
            btn.textContent = t.btnDone;
            btn.classList.add('editing');
        } else {
            container.classList.remove('edit-mode');
            controls.style.display = 'none';
            btn.textContent = t.btnEdit;
            btn.classList.remove('editing');
            const checks = document.getElementsByName('selectOfflineUser');
            checks.forEach(c => c.checked = false);
            document.getElementById('offlineSelectAll').checked = false;
        }
    };

    window.toggleOfflineDetails = (uid) => {
        if (['INPUT', 'TEXTAREA'].includes(document.activeElement.tagName)) return;
        const details = document.getElementById(`offline-details-${uid}`);
        const summary = details.previousElementSibling;
        if (details.style.display === 'block') {
            details.style.display = 'none';
            summary.classList.remove('expanded');
        } else {
            details.style.display = 'block';
            summary.classList.add('expanded');
        }
    };

    window.deleteOfflineSelected = async () => {
        if (!cloudEnabled) return;
        const t = i18n[currentLang];
        const checked = [...document.getElementsByName('selectOfflineUser')].filter(c => c.checked).map(c => c.value);
        if (checked.length === 0) return;
        if (confirm(t.alertConfirmDelete)) {
            for (const uid of checked) {
                await deleteDoc(doc(dbInstance, "offline_missionary_data", uid));
            }
            alert(t.alertDeleted);
        }
    };

    window.deleteOfflineSingleLog = async (event, uid, logIndex) => {
        if (!cloudEnabled) return;
        event.stopPropagation();
        const t = i18n[currentLang];
        if(confirm(t.alertDeleteLog)) {
            const user = offlineDb.find(u => u.id === uid);
            if(user) {
                const sortedLogs = [...user.logs].sort((a, b) => {
                    const dateA = a.date || '0000-00-00';
                    const dateB = b.date || '0000-00-00';
                    if (dateA !== dateB) return dateB.localeCompare(dateA);
                    const timeA = a.createdAt || 0;
                    const timeB = b.createdAt || 0;
                    return timeB - timeA;
                });
                sortedLogs.splice(logIndex, 1);
                
                await updateDoc(doc(dbInstance, "offline_missionary_data", uid), {
                    logs: sortedLogs
                });
            }
        }
    };

    // ===== ËÅñÁ∂ìÂäüËÉΩ =====
    
    // ËÅñÁ∂ìÊõ∏Âç∑Ë≥áÊñô (ÈüìÊñá/‰∏≠ÊñáÂêçÁ®±, Á´†Êï∏)
    const bibleBooks = {
        oldTestament: [
            { id: 'gen', ko: 'Ï∞ΩÏÑ∏Í∏∞', zh: 'Ââµ‰∏ñË®ò', chapters: 50 },
            { id: 'exo', ko: 'Ï∂úÏï†ÍµΩÍ∏∞', zh: 'Âá∫ÂüÉÂèäË®ò', chapters: 40 },
            { id: 'lev', ko: 'Î†àÏúÑÍ∏∞', zh: 'Âà©Êú™Ë®ò', chapters: 27 },
            { id: 'num', ko: 'ÎØºÏàòÍ∏∞', zh: 'Ê∞ëÊï∏Ë®ò', chapters: 36 },
            { id: 'deu', ko: 'Ïã†Î™ÖÍ∏∞', zh: 'Áî≥ÂëΩË®ò', chapters: 34 },
            { id: 'jos', ko: 'Ïó¨Ìò∏ÏàòÏïÑ', zh: 'Á¥ÑÊõ∏‰∫ûË®ò', chapters: 24 },
            { id: 'jdg', ko: 'ÏÇ¨ÏÇ¨Í∏∞', zh: 'Â£´Â∏´Ë®ò', chapters: 21 },
            { id: 'rut', ko: 'Î£ªÍ∏∞', zh: 'Ë∑ØÂæóË®ò', chapters: 4 },
            { id: '1sa', ko: 'ÏÇ¨Î¨¥ÏóòÏÉÅ', zh: 'ÊííÊØçËÄ≥Ë®ò‰∏ä', chapters: 31 },
            { id: '2sa', ko: 'ÏÇ¨Î¨¥ÏóòÌïò', zh: 'ÊííÊØçËÄ≥Ë®ò‰∏ã', chapters: 24 },
            { id: '1ki', ko: 'Ïó¥ÏôïÍ∏∞ÏÉÅ', zh: 'ÂàóÁéãÁ¥Ä‰∏ä', chapters: 22 },
            { id: '2ki', ko: 'Ïó¥ÏôïÍ∏∞Ìïò', zh: 'ÂàóÁéãÁ¥Ä‰∏ã', chapters: 25 },
            { id: '1ch', ko: 'Ïó≠ÎåÄÏÉÅ', zh: 'Ê≠∑‰ª£Âøó‰∏ä', chapters: 29 },
            { id: '2ch', ko: 'Ïó≠ÎåÄÌïò', zh: 'Ê≠∑‰ª£Âøó‰∏ã', chapters: 36 },
            { id: 'ezr', ko: 'ÏóêÏä§Îùº', zh: '‰ª•ÊñØÊãâË®ò', chapters: 10 },
            { id: 'neh', ko: 'ÎäêÌó§ÎØ∏Ïïº', zh: 'Â∞ºÂ∏åÁ±≥Ë®ò', chapters: 13 },
            { id: 'est', ko: 'ÏóêÏä§Îçî', zh: '‰ª•ÊñØÂ∏ñË®ò', chapters: 10 },
            { id: 'job', ko: 'Ïö•Í∏∞', zh: 'Á¥Ñ‰ºØË®ò', chapters: 42 },
            { id: 'psa', ko: 'ÏãúÌé∏', zh: 'Ë©©ÁØá', chapters: 150 },
            { id: 'pro', ko: 'Ïû†Ïñ∏', zh: 'ÁÆ¥Ë®Ä', chapters: 31 },
            { id: 'ecc', ko: 'Ï†ÑÎèÑÏÑú', zh: 'ÂÇ≥ÈÅìÊõ∏', chapters: 12 },
            { id: 'sng', ko: 'ÏïÑÍ∞Ä', zh: 'ÈõÖÊ≠å', chapters: 8 },
            { id: 'isa', ko: 'Ïù¥ÏÇ¨Ïïº', zh: '‰ª•Ë≥Ω‰∫ûÊõ∏', chapters: 66 },
            { id: 'jer', ko: 'ÏòàÎ†àÎØ∏Ïïº', zh: 'ËÄ∂Âà©Á±≥Êõ∏', chapters: 52 },
            { id: 'lam', ko: 'ÏòàÎ†àÎØ∏ÏïºÏï†Í∞Ä', zh: 'ËÄ∂Âà©Á±≥ÂìÄÊ≠å', chapters: 5 },
            { id: 'ezk', ko: 'ÏóêÏä§Í≤î', zh: '‰ª•Ë•øÁµêÊõ∏', chapters: 48 },
            { id: 'dan', ko: 'Îã§ÎãàÏóò', zh: '‰ΩÜ‰ª•ÁêÜÊõ∏', chapters: 12 },
            { id: 'hos', ko: 'Ìò∏ÏÑ∏ÏïÑ', zh: '‰ΩïË•øÈòøÊõ∏', chapters: 14 },
            { id: 'jol', ko: 'ÏöîÏóò', zh: 'Á¥ÑÁè•Êõ∏', chapters: 3 },
            { id: 'amo', ko: 'ÏïÑÎ™®Ïä§', zh: 'ÈòøÊë©Âè∏Êõ∏', chapters: 9 },
            { id: 'oba', ko: 'Ïò§Î∞îÎåú', zh: '‰øÑÂ∑¥Â∫ï‰∫ûÊõ∏', chapters: 1 },
            { id: 'jon', ko: 'ÏöîÎÇò', zh: 'Á¥ÑÊãøÊõ∏', chapters: 4 },
            { id: 'mic', ko: 'ÎØ∏Í∞Ä', zh: 'ÂΩåËø¶Êõ∏', chapters: 7 },
            { id: 'nam', ko: 'ÎÇòÌõî', zh: 'ÈÇ£È¥ªÊõ∏', chapters: 3 },
            { id: 'hab', ko: 'ÌïòÎ∞ïÍµ≠', zh: 'ÂìàÂ∑¥Ë∞∑Êõ∏', chapters: 3 },
            { id: 'zep', ko: 'Ïä§Î∞îÎÉê', zh: 'Ë•øÁï™ÈõÖÊõ∏', chapters: 3 },
            { id: 'hag', ko: 'ÌïôÍ∞ú', zh: 'ÂìàË©≤Êõ∏', chapters: 2 },
            { id: 'zec', ko: 'Ïä§Í∞ÄÎû¥', zh: 'ÊííËø¶Âà©‰∫ûÊõ∏', chapters: 14 },
            { id: 'mal', ko: 'ÎßêÎùºÍ∏∞', zh: 'Áë™ÊãâÂü∫Êõ∏', chapters: 4 }
        ],
        newTestament: [
            { id: 'mat', ko: 'ÎßàÌÉúÎ≥µÏùå', zh: 'È¶¨Â§™Á¶èÈü≥', chapters: 28 },
            { id: 'mrk', ko: 'ÎßàÍ∞ÄÎ≥µÏùå', zh: 'È¶¨ÂèØÁ¶èÈü≥', chapters: 16 },
            { id: 'luk', ko: 'ÎàÑÍ∞ÄÎ≥µÏùå', zh: 'Ë∑ØÂä†Á¶èÈü≥', chapters: 24 },
            { id: 'jhn', ko: 'ÏöîÌïúÎ≥µÏùå', zh: 'Á¥ÑÁø∞Á¶èÈü≥', chapters: 21 },
            { id: 'act', ko: 'ÏÇ¨ÎèÑÌñâÏ†Ñ', zh: '‰ΩøÂæíË°åÂÇ≥', chapters: 28 },
            { id: 'rom', ko: 'Î°úÎßàÏÑú', zh: 'ÁæÖÈ¶¨Êõ∏', chapters: 16 },
            { id: '1co', ko: 'Í≥†Î¶∞ÎèÑÏ†ÑÏÑú', zh: 'Âì•ÊûóÂ§öÂâçÊõ∏', chapters: 16 },
            { id: '2co', ko: 'Í≥†Î¶∞ÎèÑÌõÑÏÑú', zh: 'Âì•ÊûóÂ§öÂæåÊõ∏', chapters: 13 },
            { id: 'gal', ko: 'Í∞àÎùºÎîîÏïÑÏÑú', zh: 'Âä†ÊãâÂ§™Êõ∏', chapters: 6 },
            { id: 'eph', ko: 'ÏóêÎ≤†ÏÜåÏÑú', zh: '‰ª•ÂºóÊâÄÊõ∏', chapters: 6 },
            { id: 'php', ko: 'ÎπåÎ¶ΩÎ≥¥ÏÑú', zh: 'ËÖìÁ´ãÊØîÊõ∏', chapters: 4 },
            { id: 'col', ko: 'Í≥®Î°úÏÉàÏÑú', zh: 'Ê≠åÁæÖË•øÊõ∏', chapters: 4 },
            { id: '1th', ko: 'Îç∞ÏÇ¥Î°úÎãàÍ∞ÄÏ†ÑÏÑú', zh: 'Â∏ñÊííÁæÖÂ∞ºËø¶ÂâçÊõ∏', chapters: 5 },
            { id: '2th', ko: 'Îç∞ÏÇ¥Î°úÎãàÍ∞ÄÌõÑÏÑú', zh: 'Â∏ñÊííÁæÖÂ∞ºËø¶ÂæåÊõ∏', chapters: 3 },
            { id: '1ti', ko: 'ÎîîÎ™®Îç∞Ï†ÑÏÑú', zh: 'ÊèêÊë©Â§™ÂâçÊõ∏', chapters: 6 },
            { id: '2ti', ko: 'ÎîîÎ™®Îç∞ÌõÑÏÑú', zh: 'ÊèêÊë©Â§™ÂæåÊõ∏', chapters: 4 },
            { id: 'tit', ko: 'ÎîîÎèÑÏÑú', zh: 'ÊèêÂ§öÊõ∏', chapters: 3 },
            { id: 'phm', ko: 'ÎπåÎ†àÎ™¨ÏÑú', zh: 'ËÖìÂà©ÈñÄÊõ∏', chapters: 1 },
            { id: 'heb', ko: 'ÌûàÎ∏åÎ¶¨ÏÑú', zh: 'Â∏å‰ºØ‰æÜÊõ∏', chapters: 13 },
            { id: 'jas', ko: 'ÏïºÍ≥†Î≥¥ÏÑú', zh: 'ÈõÖÂêÑÊõ∏', chapters: 5 },
            { id: '1pe', ko: 'Î≤†ÎìúÎ°úÏ†ÑÏÑú', zh: 'ÂΩºÂæóÂâçÊõ∏', chapters: 5 },
            { id: '2pe', ko: 'Î≤†ÎìúÎ°úÌõÑÏÑú', zh: 'ÂΩºÂæóÂæåÊõ∏', chapters: 3 },
            { id: '1jn', ko: 'ÏöîÌïúÏùºÏÑú', zh: 'Á¥ÑÁø∞‰∏ÄÊõ∏', chapters: 5 },
            { id: '2jn', ko: 'ÏöîÌïúÏù¥ÏÑú', zh: 'Á¥ÑÁø∞‰∫åÊõ∏', chapters: 1 },
            { id: '3jn', ko: 'ÏöîÌïúÏÇºÏÑú', zh: 'Á¥ÑÁø∞‰∏âÊõ∏', chapters: 1 },
            { id: 'jud', ko: 'Ïú†Îã§ÏÑú', zh: 'Áå∂Â§ßÊõ∏', chapters: 1 },
            { id: 'rev', ko: 'ÏöîÌïúÍ≥ÑÏãúÎ°ù', zh: 'ÂïüÁ§∫ÈåÑ', chapters: 22 }
        ]
    };
    
    // ËÅñÁ∂ìÁ∂ìÊñáÂÖßÂÆπË≥áÊñôÂ∫´
    // Ê†ºÂºè: bibleContent['Êõ∏Âç∑id']['Á´†Êï∏'] = [ {verse: ÁØÄÊï∏, ko: 'ÈüìÊñá', zh: '‰∏≠Êñá'}, ... ]
    const bibleContent = {
        'gen': {
            1: [
                { type: 'heading', ko: 'Ï≤úÏßÄÏùò Ï∞ΩÏ°∞', zh: 'Â§©Âú∞ÁöÑÂâµÈÄ†' },
                { verse: 1, ko: 'ÌÉúÏ¥àÏóê ÌïòÎÇòÎãòÏù¥ Ï≤úÏßÄÎ•º Ï∞ΩÏ°∞ÌïòÏãúÎãàÎùº', zh: 'Ëµ∑ÂàùÔºåÁ•ûÂâµÈÄ†Â§©Âú∞„ÄÇ' },
                { verse: 2, ko: 'ÎïÖÏù¥ ÌòºÎèàÌïòÍ≥† Í≥µÌóàÌïòÎ©∞ ÌùëÏïîÏù¥ ÍπäÏùå ÏúÑÏóê ÏûàÍ≥† ÌïòÎÇòÎãòÏùò Ïã†ÏùÄ ÏàòÎ©¥Ïóê Ïö¥ÌñâÌïòÏãúÎãàÎùº', zh: 'Âú∞ÊòØÁ©∫ËôõÊ∑∑Ê≤åÔºåÊ∑µÈù¢ÈªëÊöóÔºõÁ•ûÁöÑÈùàÈÅãË°åÂú®Ê∞¥Èù¢‰∏ä„ÄÇ' },
                { verse: 3, ko: 'ÌïòÎÇòÎãòÏù¥ Í∞ÄÎùºÏÇ¨ÎåÄ ÎπõÏù¥ ÏûàÏúºÎùº ÌïòÏãúÎß§ ÎπõÏù¥ ÏûàÏóàÍ≥†', zh: 'Á•ûË™™Ôºö„ÄåË¶ÅÊúâÂÖâ„ÄçÔºåÂ∞±Êúâ‰∫ÜÂÖâ„ÄÇ' },
                { verse: 4, ko: 'Í∑∏ ÎπõÏù¥ ÌïòÎÇòÎãòÏùò Î≥¥ÏãúÍ∏∞Ïóê Ï¢ãÏïòÎçîÎùº ÌïòÎÇòÎãòÏù¥ ÎπõÍ≥º Ïñ¥ÎëêÏõÄÏùÑ ÎÇòÎàÑÏÇ¨', zh: 'Á•ûÁúãÂÖâÊòØÂ•ΩÁöÑÔºåÂ∞±ÊääÂÖâÊöóÂàÜÈñã‰∫Ü„ÄÇ' },
                { verse: 5, ko: 'ÎπõÏùÑ ÎÇÆÏù¥Îùº Ïπ≠ÌïòÏãúÍ≥† Ïñ¥ÎëêÏõÄÏùÑ Î∞§Ïù¥Îùº Ïπ≠ÌïòÏãúÎãàÎùº Ï†ÄÎÖÅÏù¥ ÎêòÎ©∞ ÏïÑÏπ®Ïù¥ ÎêòÎãà Ïù¥Îäî Ï≤´Ïß∏ ÎÇ†Ïù¥ÎãàÎùº', zh: 'Á•ûÁ®±ÂÖâÁÇ∫„ÄåÊôù„ÄçÔºåÁ®±ÊöóÁÇ∫„ÄåÂ§ú„Äç„ÄÇÊúâÊôö‰∏äÔºåÊúâÊó©Êô®ÔºåÈÄôÊòØÈ†≠‰∏ÄÊó•„ÄÇ' },
                { verse: 6, ko: 'ÌïòÎÇòÎãòÏù¥ Í∞ÄÎùºÏÇ¨ÎåÄ Î¨º Í∞ÄÏö¥Îç∞ Í∂ÅÏ∞ΩÏù¥ ÏûàÏñ¥ Î¨ºÍ≥º Î¨ºÎ°ú ÎÇòÎâòÍ≤å ÌïòÎ¶¨Îùº ÌïòÏãúÍ≥†', zh: 'Á•ûË™™Ôºö„ÄåË´∏Ê∞¥‰πãÈñìË¶ÅÊúâÁ©∫Ê∞£ÔºåÂ∞áÊ∞¥ÂàÜÁÇ∫‰∏ä‰∏ã„ÄÇ„Äç' },
                { verse: 7, ko: 'ÌïòÎÇòÎãòÏù¥ Í∂ÅÏ∞ΩÏùÑ ÎßåÎìúÏÇ¨ Í∂ÅÏ∞Ω ÏïÑÎûòÏùò Î¨ºÍ≥º Í∂ÅÏ∞Ω ÏúÑÏùò Î¨ºÎ°ú ÎÇòÎâòÍ≤å ÌïòÏãúÎß§ Í∑∏ÎåÄÎ°ú ÎêòÎãàÎùº', zh: 'Á•ûÂ∞±ÈÄ†Âá∫Á©∫Ê∞£ÔºåÂ∞áÁ©∫Ê∞£‰ª•‰∏ãÁöÑÊ∞¥„ÄÅÁ©∫Ê∞£‰ª•‰∏äÁöÑÊ∞¥ÂàÜÈñã‰∫Ü„ÄÇ‰∫ãÂ∞±ÈÄôÊ®£Êàê‰∫Ü„ÄÇ' },
                { verse: 8, ko: 'ÌïòÎÇòÎãòÏù¥ Í∂ÅÏ∞ΩÏùÑ ÌïòÎäòÏù¥Îùº Ïπ≠ÌïòÏãúÎãàÎùº Ï†ÄÎÖÅÏù¥ ÎêòÎ©∞ ÏïÑÏπ®Ïù¥ ÎêòÎãà Ïù¥Îäî ÎëòÏß∏ ÎÇ†Ïù¥ÎãàÎùº', zh: 'Á•ûÁ®±Á©∫Ê∞£ÁÇ∫„ÄåÂ§©„Äç„ÄÇÊúâÊôö‰∏äÔºåÊúâÊó©Êô®ÔºåÊòØÁ¨¨‰∫åÊó•„ÄÇ' },
                { verse: 9, ko: 'ÌïòÎÇòÎãòÏù¥ Í∞ÄÎùºÏÇ¨ÎåÄ Ï≤úÌïòÏùò Î¨ºÏù¥ ÌïúÍ≥≥ÏúºÎ°ú Î™®Ïù¥Í≥† Î≠çÏù¥ ÎìúÎü¨ÎÇòÎùº ÌïòÏãúÎß§ Í∑∏ÎåÄÎ°ú ÎêòÎãàÎùº', zh: 'Á•ûË™™Ôºö„ÄåÂ§©‰∏ãÁöÑÊ∞¥Ë¶ÅËÅöÂú®‰∏ÄËôïÔºå‰ΩøÊó±Âú∞Èú≤Âá∫‰æÜ„ÄÇ„Äç‰∫ãÂ∞±ÈÄôÊ®£Êàê‰∫Ü„ÄÇ' },
                { verse: 10, ko: 'ÌïòÎÇòÎãòÏù¥ Î≠çÏùÑ ÎïÖÏù¥Îùº Ïπ≠ÌïòÏãúÍ≥† Î™®Ïù∏ Î¨ºÏùÑ Î∞îÎã§Îùº Ïπ≠ÌïòÏãúÎãàÎùº ÌïòÎÇòÎãòÏùò Î≥¥ÏãúÍ∏∞Ïóê Ï¢ãÏïòÎçîÎùº', zh: 'Á•ûÁ®±Êó±Âú∞ÁÇ∫„ÄåÂú∞„ÄçÔºåÁ®±Ê∞¥ÁöÑËÅöËôïÁÇ∫„ÄåÊµ∑„Äç„ÄÇÁ•ûÁúãËëóÊòØÂ•ΩÁöÑ„ÄÇ' },
                { verse: 11, ko: 'ÌïòÎÇòÎãòÏù¥ Í∞ÄÎùºÏÇ¨ÎåÄ ÎïÖÏùÄ ÌíÄÍ≥º Ïî® Îß∫Îäî Ï±ÑÏÜåÏôÄ Í∞ÅÍ∏∞ Ï¢ÖÎ•òÎåÄÎ°ú Ïî® Í∞ÄÏßÑ Ïó¥Îß§ Îß∫Îäî Í≥ºÎ™©ÏùÑ ÎÇ¥Îùº ÌïòÏãúÎß§ Í∑∏ÎåÄÎ°ú ÎêòÏñ¥', zh: 'Á•ûË™™Ôºö„ÄåÂú∞Ë¶ÅÁôºÁîüÈùíËçâÂíåÁµêÁ®ÆÂ≠êÁöÑËèúËî¨Ôºå‰∏¶ÁµêÊûúÂ≠êÁöÑÊ®πÊú®ÔºåÂêÑÂæûÂÖ∂È°ûÔºåÊûúÂ≠êÈÉΩÂåÖËëóÊ†∏„ÄÇ„Äç‰∫ãÂ∞±ÈÄôÊ®£Êàê‰∫Ü„ÄÇ' },
                { verse: 12, ko: 'ÎïÖÏù¥ ÌíÄÍ≥º Í∞ÅÍ∏∞ Ï¢ÖÎ•òÎåÄÎ°ú Ïî® Îß∫Îäî Ï±ÑÏÜåÏôÄ Í∞ÅÍ∏∞ Ï¢ÖÎ•òÎåÄÎ°ú Ïî® Í∞ÄÏßÑ Ïó¥Îß§ Îß∫Îäî ÎÇòÎ¨¥Î•º ÎÇ¥Îãà ÌïòÎÇòÎãòÏùò Î≥¥ÏãúÍ∏∞Ïóê Ï¢ãÏïòÎçîÎùº', zh: 'ÊñºÊòØÂú∞ÁôºÁîü‰∫ÜÈùíËçâÂíåÁµêÁ®ÆÂ≠êÁöÑËèúËî¨ÔºåÂêÑÂæûÂÖ∂È°ûÔºõ‰∏¶ÁµêÊûúÂ≠êÁöÑÊ®πÊú®ÔºåÂêÑÂæûÂÖ∂È°ûÔºõÊûúÂ≠êÈÉΩÂåÖËëóÊ†∏„ÄÇÁ•ûÁúãËëóÊòØÂ•ΩÁöÑ„ÄÇ' },
                { verse: 13, ko: 'Ï†ÄÎÖÅÏù¥ ÎêòÎ©∞ ÏïÑÏπ®Ïù¥ ÎêòÎãà Ïù¥Îäî ÏÖãÏß∏ ÎÇ†Ïù¥ÎãàÎùº', zh: 'ÊúâÊôö‰∏äÔºåÊúâÊó©Êô®ÔºåÊòØÁ¨¨‰∏âÊó•„ÄÇ' },
                { verse: 14, ko: 'ÌïòÎÇòÎãòÏù¥ Í∞ÄÎùºÏÇ¨ÎåÄ ÌïòÎäòÏùò Í∂ÅÏ∞ΩÏóê Í¥ëÎ™ÖÏù¥ ÏûàÏñ¥ Ï£ºÏïºÎ•º ÎÇòÎâòÍ≤å ÌïòÎùº Îòê Í∑∏ Í¥ëÎ™ÖÏúºÎ°ú ÌïòÏó¨ ÏßïÏ°∞ÏôÄ ÏÇ¨ÏãúÏôÄ ÏùºÏûêÏôÄ Ïó∞ÌïúÏù¥ Ïù¥Î£®Îùº', zh: 'Á•ûË™™Ôºö„ÄåÂ§©‰∏äË¶ÅÊúâÂÖâÈ´îÔºåÂèØ‰ª•ÂàÜÊôùÂ§úÔºå‰ΩúË®òËôüÔºåÂÆöÁØÄ‰ª§„ÄÅÊó•Â≠ê„ÄÅÂπ¥Ê≠≤Ôºå' },
                { verse: 15, ko: 'Îòê Í∑∏ Í¥ëÎ™ÖÏù¥ ÌïòÎäòÏùò Í∂ÅÏ∞ΩÏóê ÏûàÏñ¥ ÎïÖÏóê ÎπÑÏ∑®Îùº ÌïòÏãúÍ≥† Í∑∏ÎåÄÎ°ú ÎêòÎãàÎùº', zh: '‰∏¶Ë¶ÅÁôºÂÖâÂú®Â§©Á©∫ÔºåÊôÆÁÖßÂú®Âú∞‰∏ä„ÄÇ„Äç‰∫ãÂ∞±ÈÄôÊ®£Êàê‰∫Ü„ÄÇ' },
                { verse: 16, ko: 'ÌïòÎÇòÎãòÏù¥ Îëê ÌÅ∞ Í¥ëÎ™ÖÏùÑ ÎßåÎìúÏÇ¨ ÌÅ∞ Í¥ëÎ™ÖÏúºÎ°ú ÎÇÆÏùÑ Ï£ºÍ¥ÄÌïòÍ≤å ÌïòÏãúÍ≥† ÏûëÏùÄ Í¥ëÎ™ÖÏúºÎ°ú Î∞§ÏùÑ Ï£ºÍ¥ÄÌïòÍ≤å ÌïòÏãúÎ©∞ Îòê Î≥ÑÎì§ÏùÑ ÎßåÎìúÏãúÍ≥†', zh: 'ÊñºÊòØÁ•ûÈÄ†‰∫ÜÂÖ©ÂÄãÂ§ßÂÖâÔºåÂ§ßÁöÑÁÆ°ÊôùÔºåÂ∞èÁöÑÁÆ°Â§úÔºåÂèàÈÄ†ÁúæÊòüÔºå' },
                { verse: 17, ko: 'ÌïòÎÇòÎãòÏù¥ Í∑∏Í≤ÉÎì§ÏùÑ ÌïòÎäòÏùò Í∂ÅÏ∞ΩÏóê ÎëêÏñ¥ ÎïÖÏóê ÎπÑÏ∑®Í≤å ÌïòÏãúÎ©∞', zh: 'Â∞±ÊääÈÄô‰∫õÂÖâÊì∫ÂàóÂú®Â§©Á©∫ÔºåÊôÆÁÖßÂú®Âú∞‰∏äÔºå' },
                { verse: 18, ko: 'Ï£ºÏïºÎ•º Ï£ºÍ¥ÄÌïòÍ≤å ÌïòÏãúÎ©∞ ÎπõÍ≥º Ïñ¥ÎëêÏõÄÏùÑ ÎÇòÎâòÍ≤å ÌïòÏãúÎãàÎùº ÌïòÎÇòÎãòÏùò Î≥¥ÏãúÍ∏∞Ïóê Ï¢ãÏïòÎçîÎùº', zh: 'ÁÆ°ÁêÜÊôùÂ§úÔºåÂàÜÂà•ÊòéÊöó„ÄÇÁ•ûÁúãËëóÊòØÂ•ΩÁöÑ„ÄÇ' },
                { verse: 19, ko: 'Ï†ÄÎÖÅÏù¥ ÎêòÎ©∞ ÏïÑÏπ®Ïù¥ ÎêòÎãà Ïù¥Îäî ÎÑ∑Ïß∏ ÎÇ†Ïù¥ÎãàÎùº', zh: 'ÊúâÊôö‰∏äÔºåÊúâÊó©Êô®ÔºåÊòØÁ¨¨ÂõõÊó•„ÄÇ' },
                { verse: 20, ko: 'ÌïòÎÇòÎãòÏù¥ Í∞ÄÎùºÏÇ¨ÎåÄ Î¨ºÎì§ÏùÄ ÏÉùÎ¨ºÎ°ú Î≤àÏÑ±ÏºÄ ÌïòÎùº ÎïÖ ÏúÑ ÌïòÎäòÏùò Í∂ÅÏ∞ΩÏóêÎäî ÏÉàÍ∞Ä ÎÇ†ÏúºÎùº ÌïòÏãúÍ≥†', zh: 'Á•ûË™™Ôºö„ÄåÊ∞¥Ë¶ÅÂ§öÂ§öÊªãÁîüÊúâÁîüÂëΩÁöÑÁâ©ÔºõË¶ÅÊúâÈõÄÈ≥•È£õÂú®Âú∞Èù¢‰ª•‰∏äÔºåÂ§©Á©∫‰πã‰∏≠„ÄÇ„Äç' },
                { verse: 21, ko: 'ÌïòÎÇòÎãòÏù¥ ÌÅ∞ Î¨ºÍ≥†Í∏∞ÏôÄ Î¨ºÏóêÏÑú Î≤àÏÑ±ÌïòÏó¨ ÏõÄÏßÅÏù¥Îäî Î™®Îì† ÏÉùÎ¨ºÏùÑ Í∑∏ Ï¢ÖÎ•òÎåÄÎ°ú, ÎÇ†Í∞ú ÏûàÎäî Î™®Îì† ÏÉàÎ•º Í∑∏ Ï¢ÖÎ•òÎåÄÎ°ú Ï∞ΩÏ°∞ÌïòÏãúÎãà ÌïòÎÇòÎãòÏùò Î≥¥ÏãúÍ∏∞Ïóê Ï¢ãÏïòÎçîÎùº', zh: 'Á•ûÂ∞±ÈÄ†Âá∫Â§ßÈ≠öÂíåÊ∞¥‰∏≠ÊâÄÊªãÁîüÂêÑÊ®£ÊúâÁîüÂëΩÁöÑÂãïÁâ©ÔºåÂêÑÂæûÂÖ∂È°ûÔºõÂèàÈÄ†Âá∫ÂêÑÊ®£È£õÈ≥•ÔºåÂêÑÂæûÂÖ∂È°û„ÄÇÁ•ûÁúãËëóÊòØÂ•ΩÁöÑ„ÄÇ' },
                { verse: 22, ko: 'ÌïòÎÇòÎãòÏù¥ Í∑∏Îì§ÏóêÍ≤å Î≥µÏùÑ Ï£ºÏñ¥ Í∞ÄÎùºÏÇ¨ÎåÄ ÏÉùÏú°ÌïòÍ≥† Î≤àÏÑ±ÌïòÏó¨ Ïó¨Îü¨ Î∞îÎã§ Î¨ºÏóê Ï∂©ÎßåÌïòÎùº ÏÉàÎì§ÎèÑ ÎïÖÏóê Î≤àÏÑ±ÌïòÎùº ÌïòÏãúÎãàÎùº', zh: 'Á•ûÂ∞±Ë≥úÁ¶èÁµ¶ÈÄô‰∏ÄÂàáÔºåË™™Ôºö„ÄåÊªãÁîüÁπÅÂ§öÔºåÂÖÖÊªøÊµ∑‰∏≠ÁöÑÊ∞¥ÔºõÈõÄÈ≥•‰πüË¶ÅÂ§öÁîüÂú®Âú∞‰∏ä„ÄÇ„Äç' },
                { verse: 23, ko: 'Ï†ÄÎÖÅÏù¥ ÎêòÎ©∞ ÏïÑÏπ®Ïù¥ ÎêòÎãà Ïù¥Îäî Îã§ÏÑØÏß∏ ÎÇ†Ïù¥ÎãàÎùº', zh: 'ÊúâÊôö‰∏äÔºåÊúâÊó©Êô®ÔºåÊòØÁ¨¨‰∫îÊó•„ÄÇ' },
                { verse: 24, ko: 'ÌïòÎÇòÎãòÏù¥ Í∞ÄÎùºÏÇ¨ÎåÄ ÎïÖÏùÄ ÏÉùÎ¨ºÏùÑ Í∑∏ Ï¢ÖÎ•òÎåÄÎ°ú ÎÇ¥Îêò Ïú°Ï∂ïÍ≥º Í∏∞Îäî Í≤ÉÍ≥º ÎïÖÏùò ÏßêÏäπÏùÑ Ï¢ÖÎ•òÎåÄÎ°ú ÎÇ¥Îùº ÌïòÏãúÍ≥† Í∑∏ÎåÄÎ°ú ÎêòÎãàÎùº', zh: 'Á•ûË™™Ôºö„ÄåÂú∞Ë¶ÅÁîüÂá∫Ê¥ªÁâ©‰æÜÔºåÂêÑÂæûÂÖ∂È°ûÔºõÁâ≤Áïú„ÄÅÊòÜËü≤„ÄÅÈáéÁç∏ÔºåÂêÑÂæûÂÖ∂È°û„ÄÇ„Äç‰∫ãÂ∞±ÈÄôÊ®£Êàê‰∫Ü„ÄÇ' },
                { verse: 25, ko: 'ÌïòÎÇòÎãòÏù¥ ÎïÖÏùò ÏßêÏäπÏùÑ Í∑∏ Ï¢ÖÎ•òÎåÄÎ°ú, Ïú°Ï∂ïÏùÑ Í∑∏ Ï¢ÖÎ•òÎåÄÎ°ú, ÎïÖÏóê Í∏∞Îäî Î™®Îì† Í≤ÉÏùÑ Í∑∏ Ï¢ÖÎ•òÎåÄÎ°ú ÎßåÎìúÏãúÎãà ÌïòÎÇòÎãòÏùò Î≥¥ÏãúÍ∏∞Ïóê Ï¢ãÏïòÎçîÎùº', zh: 'ÊñºÊòØÁ•ûÈÄ†Âá∫ÈáéÁç∏ÔºåÂêÑÂæûÂÖ∂È°ûÔºõÁâ≤ÁïúÔºåÂêÑÂæûÂÖ∂È°ûÔºõÂú∞‰∏ä‰∏ÄÂàáÊòÜËü≤ÔºåÂêÑÂæûÂÖ∂È°û„ÄÇÁ•ûÁúãËëóÊòØÂ•ΩÁöÑ„ÄÇ' },
                { verse: 26, ko: 'ÌïòÎÇòÎãòÏù¥ Í∞ÄÎùºÏÇ¨ÎåÄ Ïö∞Î¶¨Ïùò ÌòïÏÉÅÏùÑ Îî∞Îùº Ïö∞Î¶¨Ïùò Î™®ÏñëÎåÄÎ°ú Ïö∞Î¶¨Í∞Ä ÏÇ¨ÎûåÏùÑ ÎßåÎì§Í≥† Í∑∏Î°ú Î∞îÎã§Ïùò Í≥†Í∏∞ÏôÄ Í≥µÏ§ëÏùò ÏÉàÏôÄ Ïú°Ï∂ïÍ≥º Ïò® ÎïÖÍ≥º ÎïÖÏóê Í∏∞Îäî Î™®Îì† Í≤ÉÏùÑ Îã§Ïä§Î¶¨Í≤å ÌïòÏûê ÌïòÏãúÍ≥†', zh: 'Á•ûË™™Ôºö„ÄåÊàëÂÄëË¶ÅÁÖßËëóÊàëÂÄëÁöÑÂΩ¢ÂÉè„ÄÅÊåâËëóÊàëÂÄëÁöÑÊ®£ÂºèÈÄ†‰∫∫Ôºå‰Ωø‰ªñÂÄëÁÆ°ÁêÜÊµ∑Ë£èÁöÑÈ≠ö„ÄÅÁ©∫‰∏≠ÁöÑÈ≥•„ÄÅÂú∞‰∏äÁöÑÁâ≤ÁïúÔºåÂíåÂÖ®Âú∞Ôºå‰∏¶Âú∞‰∏äÊâÄÁà¨ÁöÑ‰∏ÄÂàáÊòÜËü≤„ÄÇ„Äç' },
                { verse: 27, ko: 'ÌïòÎÇòÎãòÏù¥ ÏûêÍ∏∞ ÌòïÏÉÅ Í≥ß ÌïòÎÇòÎãòÏùò ÌòïÏÉÅÎåÄÎ°ú ÏÇ¨ÎûåÏùÑ Ï∞ΩÏ°∞ÌïòÏãúÎêò ÎÇ®ÏûêÏôÄ Ïó¨ÏûêÎ•º Ï∞ΩÏ°∞ÌïòÏãúÍ≥†', zh: 'Á•ûÂ∞±ÁÖßËëóËá™Â∑±ÁöÑÂΩ¢ÂÉèÈÄ†‰∫∫Ôºå‰πÉÊòØÁÖßËëó‰ªñÁöÑÂΩ¢ÂÉèÈÄ†Áî∑ÈÄ†Â•≥„ÄÇ' },
                { verse: 28, ko: 'ÌïòÎÇòÎãòÏù¥ Í∑∏Îì§ÏóêÍ≤å Î≥µÏùÑ Ï£ºÏãúÎ©∞ Í∑∏Îì§ÏóêÍ≤å Ïù¥Î•¥ÏãúÎêò ÏÉùÏú°ÌïòÍ≥† Î≤àÏÑ±ÌïòÏó¨ ÎïÖÏóê Ï∂©ÎßåÌïòÎùº, ÎïÖÏùÑ Ï†ïÎ≥µÌïòÎùº, Î∞îÎã§Ïùò Í≥†Í∏∞ÏôÄ Í≥µÏ§ëÏùò ÏÉàÏôÄ ÎïÖÏóê ÏõÄÏßÅÏù¥Îäî Î™®Îì† ÏÉùÎ¨ºÏùÑ Îã§Ïä§Î¶¨Îùº ÌïòÏãúÎãàÎùº', zh: 'Á•ûÂ∞±Ë≥úÁ¶èÁµ¶‰ªñÂÄëÔºåÂèàÂ∞ç‰ªñÂÄëË™™Ôºö„ÄåË¶ÅÁîüÈ§äÁúæÂ§öÔºåÈÅçÊªøÂú∞Èù¢ÔºåÊ≤ªÁêÜÈÄôÂú∞Ôºå‰πüË¶ÅÁÆ°ÁêÜÊµ∑Ë£èÁöÑÈ≠ö„ÄÅÁ©∫‰∏≠ÁöÑÈ≥•ÔºåÂíåÂú∞‰∏äÂêÑÊ®£Ë°åÂãïÁöÑÊ¥ªÁâ©„ÄÇ„Äç' },
                { verse: 29, ko: 'ÌïòÎÇòÎãòÏù¥ Í∞ÄÎùºÏÇ¨ÎåÄ ÎÇ¥Í∞Ä Ïò® ÏßÄÎ©¥Ïùò Ïî® Îß∫Îäî Î™®Îì† Ï±ÑÏÜåÏôÄ Ïî® Í∞ÄÏßÑ Ïó¥Îß§ Îß∫Îäî Î™®Îì† ÎÇòÎ¨¥Î•º ÎÑàÌù¨ÏóêÍ≤å Ï£ºÎÖ∏Îãà ÎÑàÌù¨ ÏãùÎ¨ºÏù¥ ÎêòÎ¶¨Îùº', zh: 'Á•ûË™™Ôºö„ÄåÁúãÂì™ÔºåÊàëÂ∞áÈÅçÂú∞‰∏ä‰∏ÄÂàáÁµêÁ®ÆÂ≠êÁöÑËèúËî¨Âíå‰∏ÄÂàáÊ®π‰∏äÊâÄÁµêÊúâÊ†∏ÁöÑÊûúÂ≠êÂÖ®Ë≥úÁµ¶‰Ω†ÂÄë‰ΩúÈ£üÁâ©„ÄÇ' },
                { verse: 30, ko: 'Îòê ÎïÖÏùò Î™®Îì† ÏßêÏäπÍ≥º Í≥µÏ§ëÏùò Î™®Îì† ÏÉàÏôÄ ÏÉùÎ™ÖÏù¥ ÏûàÏñ¥ ÎïÖÏóê Í∏∞Îäî Î™®Îì† Í≤ÉÏóêÍ≤åÎäî ÎÇ¥Í∞Ä Î™®Îì† Ìë∏Î•∏ ÌíÄÏùÑ ÏãùÎ¨ºÎ°ú Ï£ºÎÖ∏Îùº ÌïòÏãúÎãà Í∑∏ÎåÄÎ°ú ÎêòÎãàÎùº', zh: 'Ëá≥ÊñºÂú∞‰∏äÁöÑËµ∞Áç∏ÂíåÁ©∫‰∏≠ÁöÑÈ£õÈ≥•Ôºå‰∏¶ÂêÑÊ®£Áà¨Âú®Âú∞‰∏äÊúâÁîüÂëΩÁöÑÁâ©ÔºåÊàëÂ∞áÈùíËçâË≥úÁµ¶Áâ†ÂÄë‰ΩúÈ£üÁâ©„ÄÇ„Äç‰∫ãÂ∞±ÈÄôÊ®£Êàê‰∫Ü„ÄÇ' },
                { verse: 31, ko: 'ÌïòÎÇòÎãòÏù¥ Í∑∏ ÏßÄÏúºÏã† Î™®Îì† Í≤ÉÏùÑ Î≥¥ÏãúÎãà Î≥¥ÏãúÍ∏∞Ïóê Ïã¨Ìûà Ï¢ãÏïòÎçîÎùº Ï†ÄÎÖÅÏù¥ ÎêòÎ©∞ ÏïÑÏπ®Ïù¥ ÎêòÎãà Ïù¥Îäî Ïó¨ÏÑØÏß∏ ÎÇ†Ïù¥ÎãàÎùº', zh: 'Á•ûÁúãËëó‰∏ÄÂàáÊâÄÈÄ†ÁöÑÈÉΩÁîöÂ•Ω„ÄÇÊúâÊôö‰∏äÔºåÊúâÊó©Êô®ÔºåÊòØÁ¨¨ÂÖ≠Êó•„ÄÇ' }
            ]
            // ÂÖ∂‰ªñÁ´†ÁØÄË´ãÊåâÁÖßÊ≠§Ê†ºÂºèÊ∑ªÂä†Ôºö
            // 2: [ { verse: 1, ko: 'ÈüìÊñá', zh: '‰∏≠Êñá' }, ... ],
            // 3: [ ... ],
        },
        'rev': {
            1: [
                { type: 'heading', ko: 'ÏÑúÎ°†Í≥º Ïù∏ÏÇ¨', zh: 'ÂºïË®ÄÂíåËá¥ÊÑè' },
                { verse: 1, ko: 'ÏòàÏàò¬†Í∑∏Î¶¨Ïä§ÎèÑÏùò¬†Í≥ÑÏãúÎùº Ïù¥Îäî¬†ÌïòÎÇòÎãòÏù¥ Í∑∏ÏóêÍ≤å Ï£ºÏÇ¨ Î∞òÎìúÏãú ÏÜçÌûà Îê† ÏùºÏùÑ Í∑∏¬†Ï¢ÖÎì§ÏóêÍ≤å Î≥¥Ïù¥ÏãúÎ†§Í≥† Í∑∏¬†Ï≤úÏÇ¨Î•º Í∑∏¬†Ï¢Ö¬†ÏöîÌïúÏóêÍ≤å Î≥¥ÎÇ¥Ïñ¥ ÏßÄÏãúÌïòÏã† Í≤ÉÏù¥Îùº', zh: 'ËÄ∂Á©åÂü∫Áù£ÁöÑÂïüÁ§∫ÔºåÂ∞±ÊòØÁ•ûË≥úÁµ¶‰ªñÔºåÂè´‰ªñÂ∞áÂøÖË¶ÅÂø´ÊàêÁöÑ‰∫ãÊåáÁ§∫‰ªñÁöÑÁúæÂÉï‰∫∫„ÄÇ‰ªñÂ∞±Â∑ÆÈÅ£‰ΩøËÄÖÊõâË´≠‰ªñÁöÑÂÉï‰∫∫Á¥ÑÁø∞„ÄÇ' },
                { verse: 2, ko: 'ÏöîÌïúÏùÄ¬†ÌïòÎÇòÎãòÏùò ÎßêÏîÄÍ≥º¬†ÏòàÏàò¬†Í∑∏Î¶¨Ïä§ÎèÑÏùò¬†Ï¶ùÍ±∞¬†Í≥ß ÏûêÍ∏∞Ïùò¬†Î≥∏ Í≤ÉÏùÑ Îã§ Ï¶ùÍ±∞ÌïòÏòÄÎäêÎãàÎùº', zh: 'Á¥ÑÁø∞‰æøÂ∞áÁ•ûÁöÑÈÅìÂíåËÄ∂Á©åÂü∫Áù£ÁöÑË¶ãË≠âÔºåÂá°Ëá™Â∑±ÊâÄÁúãË¶ãÁöÑÈÉΩË≠âÊòéÂá∫‰æÜ„ÄÇ' },
                { verse: 3, ko: 'Ïù¥¬†ÏòàÏñ∏Ïùò ÎßêÏîÄÏùÑ¬†ÏùΩÎäî ÏûêÏôÄ Îì£Îäî ÏûêÎì§Í≥º Í∑∏ Í∞ÄÏö¥Îç∞ Í∏∞Î°ùÌïú Í≤ÉÏùÑ ÏßÄÌÇ§Îäî ÏûêÎì§Ïù¥¬†Î≥µÏù¥ ÏûàÎÇòÎãà ÎïåÍ∞Ä Í∞ÄÍπåÏõÄÏù¥Îùº', zh: 'ÂøµÈÄôÊõ∏‰∏äÈ†êË®ÄÁöÑÂíåÈÇ£‰∫õËÅΩË¶ãÂèàÈÅµÂÆàÂÖ∂‰∏≠ÊâÄË®òËºâÁöÑÔºåÈÉΩÊòØÊúâÁ¶èÁöÑÔºåÂõ†ÁÇ∫Êó•ÊúüËøë‰∫Ü„ÄÇ' },
                { verse: 4, ko: 'ÏöîÌïúÏùÄ¬†ÏïÑÏãúÏïÑÏóê ÏûàÎäî¬†ÏùºÍ≥± ÍµêÌöåÏóê¬†Ìé∏ÏßÄÌïòÎÖ∏Îãà Ïù¥Ï†úÎèÑ Í≥ÑÏãúÍ≥† Ï†ÑÏóêÎèÑ Í≥ÑÏãúÍ≥†¬†Ïû•Ï∞® Ïò§Ïã§ Ïù¥ÏôÄ Í∑∏¬†Î≥¥Ï¢å¬†ÏïûÏóê¬†ÏùºÍ≥± ÏòÅÍ≥º', zh: 'Á¥ÑÁø∞ÂØ´‰ø°Áµ¶‰∫ûÁ¥∞‰∫ûÁöÑ‰∏ÉÂÄãÊïôÊúÉ„ÄÇ‰ΩÜÈ°òÂæûÈÇ£ÊòîÂú®„ÄÅ‰ªäÂú®„ÄÅ‰ª•ÂæåÊ∞∏Âú®ÁöÑÁ•ûÔºåÂíå‰ªñÂØ∂Â∫ßÂâçÁöÑ‰∏ÉÈùàÔºå' },
                { verse: 5, ko: 'Îòê¬†Ï∂©ÏÑ±Îêú¬†Ï¶ùÏù∏ÏúºÎ°ú Ï£ΩÏùÄ ÏûêÎì§ Í∞ÄÏö¥Îç∞ÏÑú Î®ºÏ†Ä ÎÇòÏãúÍ≥†¬†ÎïÖÏùò¬†ÏûÑÍ∏àÎì§Ïùò¬†Î®∏Î¶¨Í∞Ä ÎêòÏã†¬†ÏòàÏàò¬†Í∑∏Î¶¨Ïä§ÎèÑÎ°ú ÎßêÎØ∏ÏïîÏïÑ¬†ÏùÄÌòúÏôÄ¬†ÌèâÍ∞ïÏù¥ ÎÑàÌù¨ÏóêÍ≤å ÏûàÍ∏∞Î•º ÏõêÌïòÎÖ∏Îùº Ïö∞Î¶¨Î•º ÏÇ¨ÎûëÌïòÏÇ¨¬†Í∑∏Ïùò¬†ÌîºÎ°ú¬†Ïö∞Î¶¨¬†Ï£ÑÏóêÏÑú Ïö∞Î¶¨Î•º¬†Ìï¥Î∞©ÌïòÏãúÍ≥†', zh: '‰∏¶ÈÇ£Ë™†ÂØ¶‰ΩúË¶ãË≠âÁöÑ„ÄÅÂæûÊ≠ªË£èÈ¶ñÂÖàÂæ©Ê¥ª„ÄÅÁÇ∫‰∏ñ‰∏äÂêõÁéãÂÖÉÈ¶ñÁöÑËÄ∂Á©åÂü∫Áù£ÔºåÊúâÊÅ©ÊÉ†„ÄÅÂπ≥ÂÆâÊ≠∏Ëàá‰Ω†ÂÄëÔºÅ' },
                { verse: 6, ko: 'Í∑∏ ÏïÑÎ≤ÑÏßÄ¬†ÌïòÎÇòÎãòÏùÑ ÏúÑÌïòÏó¨ Ïö∞Î¶¨Î•º¬†ÎÇòÎùºÏôÄ¬†Ï†úÏÇ¨Ïû•ÏúºÎ°ú ÏÇºÏúºÏã† Í∑∏ÏóêÍ≤å¬†ÏòÅÍ¥ëÍ≥º¬†Îä•Î†•Ïù¥ ÏÑ∏ÏÑ∏ÌÜ†Î°ù ÏûàÍ∏∞Î•º ÏõêÌïòÎÖ∏Îùº¬†ÏïÑÎ©ò', zh: 'Âèà‰ΩøÊàëÂÄëÊàêÁÇ∫ÂúãÊ∞ëÔºå‰Ωú‰ªñÁà∂Á•ûÁöÑÁ•≠Âè∏„ÄÇ‰ΩÜÈ°òÊ¶ÆËÄÄ„ÄÅÊ¨äËÉΩÊ≠∏Áµ¶‰ªñÔºåÁõ¥Âà∞Ê∞∏Ê∞∏ÈÅ†ÈÅ†„ÄÇÈòøÂÄëÔºÅ' },
                { verse: 7, ko: 'Î≥ºÏßÄÏñ¥Îã§¬†Íµ¨Î¶ÑÏùÑ ÌÉÄÍ≥† Ïò§ÏãúÎ¶¨Îùº¬†Í∞ÅÏù∏Ïùò¬†ÎààÏù¥ Í∑∏Î•º Î≥¥Í≤†Í≥†¬†Í∑∏Î•º Ï∞åÎ•∏ ÏûêÎì§ÎèÑ Î≥º ÌÑ∞Ïù¥Ïöî¬†ÎïÖÏóê ÏûàÎäî Î™®Îì†¬†Ï°±ÏÜçÏù¥ Í∑∏Î•º Ïù∏ÌïòÏó¨ Ïï†Í≥°ÌïòÎ¶¨Îãà Í∑∏Îü¨ÌïòÎ¶¨Îùº¬†ÏïÑÎ©ò', zh: 'ÁúãÂì™Ôºå‰ªñÈßïÈõ≤ÈôçËá®ÔºÅ' },
                { verse: 8, ko: 'Ï£º¬†ÌïòÎÇòÎãòÏù¥¬†Í∞ÄÎùºÏÇ¨ÎåÄ¬†ÎÇòÎäî¬†ÏïåÌååÏôÄ¬†Ïò§Î©îÍ∞ÄÎùº Ïù¥Ï†úÎèÑ ÏûàÍ≥† Ï†ÑÏóêÎèÑ ÏûàÏóàÍ≥†¬†Ïû•Ï∞® Ïò¨ ÏûêÏöî¬†Ï†ÑÎä•Ìïú ÏûêÎùº ÌïòÏãúÎçîÎùº', zh: '‰∏ªÁ•ûË™™Ôºö„ÄåÊàëÊòØÈòøÊãâÊ≥ïÔºåÊàëÊòØ‰øÑÊ¢ÖÊàõÔºåÊòØÊòîÂú®„ÄÅ‰ªäÂú®„ÄÅ‰ª•ÂæåÊ∞∏Âú®ÁöÑÂÖ®ËÉΩËÄÖ„ÄÇ„Äç' },
                { type: 'heading', ko: 'Í∑∏Î¶¨Ïä§ÎèÑÏùò Ïù¥ÏÉÅ', zh: 'Âü∫Áù£ÁöÑÁï∞Ë±°' },
                { verse: 9, ko: 'ÎÇò¬†ÏöîÌïúÏùÄ ÎÑàÌù¨ ÌòïÏ†úÏöî¬†ÏòàÏàòÏùò¬†ÌôòÎÇúÍ≥º¬†ÎÇòÎùºÏôÄ Ï∞∏ÏùåÏóê ÎèôÏ∞∏ÌïòÎäî ÏûêÎùº¬†ÌïòÎÇòÎãòÏùò¬†ÎßêÏîÄÍ≥º¬†ÏòàÏàòÏùò¬†Ï¶ùÍ±∞Î•º Ïù∏ÌïòÏó¨¬†Î∞ßÎ™®Îùº ÌïòÎäî ÏÑ¨Ïóê ÏûàÏóàÎçîÎãà', zh: 'ÊàëÔºçÁ¥ÑÁø∞Â∞±ÊòØ‰Ω†ÂÄëÁöÑÂºüÂÖÑÔºåÂíå‰Ω†ÂÄëÂú®ËÄ∂Á©åÁöÑÊÇ£Èõ£„ÄÅÂúãÂ∫¶„ÄÅÂøçËÄêË£è‰∏ÄÂêåÊúâÂàÜÔºåÁÇ∫Á•ûÁöÑÈÅìÔºå‰∏¶ÁÇ∫Áµ¶ËÄ∂Á©å‰ΩúÁöÑË¶ãË≠âÔºåÊõæÂú®ÈÇ£ÂêçÂè´ÊãîÊë©ÁöÑÊµ∑Â≥∂‰∏ä„ÄÇ' },
                { verse: 10, ko: 'Ï£ºÏùò ÎÇ†Ïóê ÎÇ¥Í∞Ä¬†ÏÑ±Î†πÏóê¬†Í∞êÎèôÌïòÏó¨ ÎÇ¥ Îí§ÏóêÏÑú ÎÇòÎäî¬†ÎÇòÌåî¬†ÏÜåÎ¶¨ Í∞ôÏùÄ ÌÅ∞ ÏùåÏÑ±ÏùÑ Îì§ÏúºÎãà', zh: 'Áï∂‰∏ªÊó•ÔºåÊàëË¢´ËÅñÈùàÊÑüÂãïÔºåËÅΩË¶ãÂú®ÊàëÂæåÈù¢ÊúâÂ§ßËÅ≤Èü≥Â¶ÇÂêπËôüÔºåË™™Ôºö' },
                { verse: 11, ko: 'Í∞ÄÎ°úÎêò ÎÑà Î≥¥Îäî Í≤ÉÏùÑ¬†Ï±ÖÏóê Ïç®ÏÑú¬†ÏóêÎ≤†ÏÜå,¬†ÏÑúÎ®∏ÎÇò,¬†Î≤ÑÍ∞ÄÎ™®,¬†ÎëêÏïÑÎîîÎùº,¬†ÏÇ¨Îç∞,¬†ÎπåÎùºÎç∏ÎπÑÏïÑ,¬†ÎùºÏò§ÎîîÍ≤åÏïÑ¬†ÏùºÍ≥± ÍµêÌöåÏóê Î≥¥ÎÇ¥Îùº ÌïòÏãúÍ∏∞Î°ú', zh: '„Äå‰Ω†ÊâÄÁúãË¶ãÁöÑÁï∂ÂØ´Âú®Êõ∏‰∏äÔºåÈÅîËàá‰ª•ÂºóÊâÄ„ÄÅÂ£´ÊØèÊãø„ÄÅÂà•Ëø¶Êë©„ÄÅÊé®ÈõÖÊé®Âñá„ÄÅÊííÁãÑ„ÄÅÈùûÊãâÈêµÈùû„ÄÅËÄÅÂ∫ïÂòâÈÇ£‰∏ÉÂÄãÊïôÊúÉ„ÄÇ„Äç' },
                { verse: 12, ko: 'Î™∏ÏùÑ ÎèåÏù¥Ïºú ÎÇòÎçîÎü¨ ÎßêÌïú ÏùåÏÑ±ÏùÑ ÏïåÏïÑ Î≥¥Î†§Í≥† ÌïòÏó¨ ÎèåÏù¥ÌÇ¨ ÎïåÏóê¬†ÏùºÍ≥± Í∏à Ï¥õÎåÄÎ•º Î≥¥ÏïòÎäîÎç∞', zh: 'ÊàëËΩâÈÅéË∫´‰æÜÔºåË¶ÅÁúãÊòØË™∞ÁôºËÅ≤ËàáÊàëË™™Ë©±ÔºõÊó¢ËΩâÈÅé‰æÜÔºåÂ∞±ÁúãË¶ã‰∏ÉÂÄãÈáëÁáàËá∫„ÄÇ' },
                { verse: 13, ko: 'Ï¥õÎåÄ¬†ÏÇ¨Ïù¥Ïóê¬†Ïù∏Ïûê¬†Í∞ôÏùÄ Ïù¥Í∞Ä¬†Î∞úÏóê ÎÅåÎ¶¨Îäî¬†Ïò∑ÏùÑ ÏûÖÍ≥† Í∞ÄÏä¥Ïóê Í∏àÎù†Î•º Îù†Í≥†', zh: 'ÁáàËá∫‰∏≠ÈñìÊúâ‰∏Ä‰ΩçÂ•ΩÂÉè‰∫∫Â≠êÔºåË∫´Á©øÈï∑Ë°£ÔºåÁõ¥ÂûÇÂà∞ËÖ≥ÔºåËÉ∏ÈñìÊùüÁùÄÈáëÂ∏∂„ÄÇ' },
                { verse: 14, ko: 'Í∑∏¬†Î®∏Î¶¨ÏôÄ ÌÑ∏Ïùò Ìù¨Í∏∞Í∞Ä Ìù∞ ÏñëÌÑ∏ Í∞ôÍ≥†¬†Îàà¬†Í∞ôÏúºÎ©∞¬†Í∑∏Ïùò¬†ÎààÏùÄ Î∂àÍΩÉ Í∞ôÍ≥†', zh: '‰ªñÁöÑÈ†≠ËàáÈ´ÆÁöÜÁôΩÔºåÂ¶ÇÁôΩÁæäÊØõÔºåÂ¶ÇÈõ™ÔºõÁúºÁõÆÂ¶ÇÂêåÁÅ´ÁÑ∞Ôºõ' },
                { verse: 15, ko: 'Í∑∏Ïùò¬†Î∞úÏùÄ¬†ÌíÄÎ¨¥Ïóê¬†Îã®Î†®Ìïú¬†ÎπõÎÇú¬†Ï£ºÏÑù¬†Í∞ôÍ≥† Í∑∏Ïùò ÏùåÏÑ±ÏùÄ ÎßéÏùÄ¬†Î¨ºÏÜåÎ¶¨ÏôÄ Í∞ôÏúºÎ©∞', zh: 'ËÖ≥Â•ΩÂÉèÂú®Áàê‰∏≠ÈçõÈçäÂÖâÊòéÁöÑÈäÖÔºõËÅ≤Èü≥Â¶ÇÂêåÁúæÊ∞¥ÁöÑËÅ≤Èü≥„ÄÇ' },
                { verse: 16, ko: 'Í∑∏ Ïò§Î•∏ÏÜêÏóê¬†ÏùºÍ≥± Î≥ÑÏù¥ ÏûàÍ≥† Í∑∏¬†ÏûÖÏóêÏÑú¬†Ï¢åÏö∞Ïóê¬†ÎÇ†¬†ÏÑ†¬†Í≤ÄÏù¥ ÎÇòÏò§Í≥† Í∑∏ ÏñºÍµ¥ÏùÄ¬†Ìï¥Í∞Ä ÌûòÏûàÍ≤å ÎπÑÏ∑®Îäî Í≤É Í∞ôÎçîÎùº', zh: '‰ªñÂè≥ÊâãÊãøÁùÄ‰∏ÉÊòüÔºåÂæû‰ªñÂè£‰∏≠Âá∫‰æÜ‰∏ÄÊääÂÖ©ÂàÉÁöÑÂà©ÂäçÔºõÈù¢Ë≤åÂ¶ÇÂêåÁÉàÊó•ÊîæÂÖâ„ÄÇ' },
                { verse: 17, ko: 'ÎÇ¥Í∞Ä Î≥º ÎïåÏóê Í∑∏¬†Î∞ú¬†ÏïûÏóê ÏóéÎìúÎü¨Ï†∏¬†Ï£ΩÏùÄ ÏûêÍ∞ôÏù¥ ÎêòÎß§ Í∑∏Í∞Ä¬†Ïò§Î•∏ÏÜêÏùÑ ÎÇ¥Í≤å ÏñπÍ≥†¬†Í∞ÄÎùºÏÇ¨ÎåÄ¬†ÎëêÎ†§Ïõå ÎßêÎùº ÎÇòÎäî¬†Ï≤òÏùåÏù¥Ïöî ÎÇòÏ§ëÏù¥Îãà', zh: 'Êàë‰∏ÄÁúãË¶ãÔºåÂ∞±‰ªÜÂÄíÂú®‰ªñËÖ≥ÂâçÔºåÂÉèÊ≠ª‰∫Ü‰∏ÄÊ®£„ÄÇ‰ªñÁî®Âè≥ÊâãÊåâÁùÄÊàëÔºåË™™Ôºö„Äå‰∏çË¶ÅÊáºÊÄïÔºÅÊàëÊòØÈ¶ñÂÖàÁöÑÔºåÊàëÊòØÊú´ÂæåÁöÑÔºå' },
                { verse: 18, ko: 'Í≥ß ÏÇ∞ ÏûêÎùº ÎÇ¥Í∞Ä Ï†ÑÏóê Ï£ΩÏóàÏóàÎÖ∏Îùº¬†Î≥ºÏßÄÏñ¥Îã§¬†Ïù¥Ï†ú¬†ÏÑ∏ÏÑ∏ÌÜ†Î°ù ÏÇ¥ÏïÑ ÏûàÏñ¥¬†ÏÇ¨ÎßùÍ≥º¬†ÏùåÎ∂ÄÏùò¬†Ïó¥Ïá†Î•º Í∞ÄÏ°åÎÖ∏Îãà', zh: 'ÂèàÊòØÈÇ£Â≠òÊ¥ªÁöÑÔºõÊàëÊõæÊ≠ªÈÅéÔºåÁèæÂú®ÂèàÊ¥ª‰∫ÜÔºåÁõ¥Ê¥ªÂà∞Ê∞∏Ê∞∏ÈÅ†ÈÅ†Ôºõ‰∏¶‰∏îÊãøÁùÄÊ≠ª‰∫°ÂíåÈô∞ÈñìÁöÑÈë∞Âåô„ÄÇ' },
                { verse: 19, ko: 'Í∑∏Îü¨ÎØÄÎ°ú ÎÑ§¬†Î≥∏ Í≤ÉÍ≥º¬†Ïù¥Ï†ú ÏûàÎäî ÏùºÍ≥º Ïû•Ï∞® Îê† ÏùºÏùÑ Í∏∞Î°ùÌïòÎùº', zh: 'ÊâÄ‰ª•‰Ω†Ë¶ÅÊääÊâÄÁúãË¶ãÁöÑÔºåÂíåÁèæÂú®ÁöÑ‰∫ãÔºå‰∏¶Â∞á‰æÜÂøÖÊàêÁöÑ‰∫ãÔºåÈÉΩÂØ´Âá∫‰æÜ„ÄÇ' },
                { verse: 20, ko: 'ÎÑ§ Î≥∏ Í≤ÉÏùÄ ÎÇ¥¬†Ïò§Î•∏ÏÜêÏóê¬†ÏùºÍ≥± Î≥ÑÏùò¬†ÎπÑÎ∞ÄÍ≥º¬†ÏùºÍ≥± Í∏à Ï¥õÎåÄÎùº ÏùºÍ≥±¬†Î≥ÑÏùÄ¬†ÏùºÍ≥± ÍµêÌöåÏùò¬†ÏÇ¨ÏûêÏöî ÏùºÍ≥±¬†Ï¥õÎåÄÎäî¬†ÏùºÍ≥± ÍµêÌöåÎãàÎùº', zh: 'Ë´ñÂà∞‰Ω†ÊâÄÁúãË¶ã„ÄÅÂú®ÊàëÂè≥Êâã‰∏≠ÁöÑ‰∏ÉÊòüÂíå‰∏ÉÂÄãÈáëÁáàËá∫ÁöÑÂ•ßÁ•ïÔºåÈÇ£‰∏ÉÊòüÂ∞±ÊòØ‰∏ÉÂÄãÊïôÊúÉÁöÑ‰ΩøËÄÖÔºå‰∏ÉÁáàËá∫Â∞±ÊòØ‰∏ÉÂÄãÊïôÊúÉ„ÄÇ„Äç' },
            ],
            2: [
                { type: 'heading', ko: 'ÏóêÎ≤†ÏÜå ÍµêÌöåÏóê Î≥¥ÎÇ¥Îäî Ìé∏ÏßÄ', zh: 'Áµ¶‰ª•ÂºóÊâÄÊïôÊúÉÁöÑ‰ø°' },
                { verse: 1, ko: 'ÏóêÎ≤†ÏÜå ÍµêÌöåÏùò¬†ÏÇ¨ÏûêÏóêÍ≤å Ìé∏ÏßÄÌïòÍ∏∞Î•º¬†Ïò§Î•∏ÏÜêÏóê¬†ÏùºÍ≥± Î≥ÑÏùÑ Î∂ôÏû°Í≥†¬†ÏùºÍ≥± Í∏à Ï¥õÎåÄ¬†ÏÇ¨Ïù¥Ïóê Îã§ÎãàÏãúÎäî¬†Ïù¥Í∞Ä Í∞ÄÎùºÏÇ¨ÎåÄ', zh: '„Äå‰Ω†Ë¶ÅÂØ´‰ø°Áµ¶‰ª•ÂºóÊâÄÊïôÊúÉÁöÑ‰ΩøËÄÖÔºåË™™Ôºö„ÄéÈÇ£Âè≥ÊâãÊãøÁùÄ‰∏ÉÊòü„ÄÅÂú®‰∏ÉÂÄãÈáëÁáàËá∫‰∏≠ÈñìË°åËµ∞ÁöÑÔºåË™™Ôºö' },
                { verse: 2, ko: 'ÎÇ¥Í∞Ä ÎÑ§¬†ÌñâÏúÑÏôÄ ÏàòÍ≥†ÏôÄ ÎÑ§¬†Ïù∏ÎÇ¥Î•º ÏïåÍ≥† Îòê ÏïÖÌïú ÏûêÎì§ÏùÑ¬†Ïö©ÎÇ©ÏßÄ ÏïÑÎãàÌïú Í≤ÉÍ≥º¬†ÏûêÏπ≠¬†ÏÇ¨ÎèÑÎùº ÌïòÎêò ÏïÑÎãå ÏûêÎì§ÏùÑ¬†ÏãúÌóòÌïòÏó¨ Í∑∏ Í±∞ÏßìÎêú Í≤ÉÏùÑ ÎÑ§Í∞Ä ÎìúÎü¨ÎÇ∏ Í≤ÉÍ≥º', zh: 'ÊàëÁü•ÈÅì‰Ω†ÁöÑË°åÁÇ∫„ÄÅÂãûÁ¢å„ÄÅÂøçËÄêÔºå‰πüÁü•ÈÅì‰Ω†‰∏çËÉΩÂÆπÂøçÊÉ°‰∫∫„ÄÇ‰Ω†‰πüÊõæË©¶È©óÈÇ£Ëá™Á®±ÁÇ∫‰ΩøÂæíÂçª‰∏çÊòØ‰ΩøÂæíÁöÑÔºåÁúãÂá∫‰ªñÂÄëÊòØÂÅáÁöÑ‰æÜ„ÄÇ' },
                { verse: 3, ko: 'Îòê ÎÑ§Í∞Ä Ï∞∏Í≥† ÎÇ¥¬†Ïù¥Î¶ÑÏùÑ ÏúÑÌïòÏó¨ Í≤¨ÎîîÍ≥† Í≤åÏúºÎ•¥ÏßÄ ÏïÑÎãàÌïú Í≤ÉÏùÑ ÏïÑÎÖ∏Îùº', zh: '‰Ω†‰πüËÉΩÂøçËÄêÔºåÊõæÁÇ∫ÊàëÁöÑÂêçÂãûËã¶Ôºå‰∏¶‰∏ç‰πèÂÄ¶„ÄÇ' },
                { verse: 4, ko: 'Í∑∏Îü¨ÎÇò ÎÑàÎ•º¬†Ï±ÖÎßùÌï† Í≤ÉÏù¥ ÏûàÎÇòÎãà ÎÑàÏùò¬†Ï≤òÏùå¬†ÏÇ¨ÎûëÏùÑ Î≤ÑÎ†∏ÎäêÎãàÎùº', zh: 'ÁÑ∂ËÄåÊúâ‰∏Ä‰ª∂‰∫ãÊàëË¶ÅË≤¨ÂÇô‰Ω†ÔºåÂ∞±ÊòØ‰Ω†ÊääËµ∑ÂàùÁöÑÊÑõÂøÉÈõ¢Ê£Ñ‰∫Ü„ÄÇ' },
                { verse: 5, ko: 'Í∑∏Îü¨ÎØÄÎ°ú Ïñ¥ÎîîÏÑú Îñ®Ïñ¥ÏßÑ Í≤ÉÏùÑ ÏÉùÍ∞ÅÌïòÍ≥†¬†ÌöåÍ∞úÌïòÏó¨ Ï≤òÏùå¬†ÌñâÏúÑÎ•º Í∞ÄÏßÄÎùº ÎßåÏùº Í∑∏Î¶¨ÌïòÏßÄ ÏïÑÎãàÌïòÍ≥†¬†ÌöåÍ∞úÏπò ÏïÑÎãàÌïòÎ©¥ ÎÇ¥Í∞Ä ÎÑ§Í≤å ÏûÑÌïòÏó¨ ÎÑ§¬†Ï¥õÎåÄÎ•º Í∑∏¬†ÏûêÎ¶¨ÏóêÏÑú ÏòÆÍ∏∞Î¶¨Îùº', zh: 'ÊâÄ‰ª•ÔºåÊáâÁï∂ÂõûÊÉ≥‰Ω†ÊòØÂæûÂì™Ë£èÂ¢úËêΩÁöÑÔºå‰∏¶Ë¶ÅÊÇîÊîπÔºåË°åËµ∑ÂàùÊâÄË°åÁöÑ‰∫ã„ÄÇ‰Ω†Ëã•‰∏çÊÇîÊîπÔºåÊàëÂ∞±Ëá®Âà∞‰Ω†ÈÇ£Ë£èÔºåÊää‰Ω†ÁöÑÁáàËá∫ÂæûÂéüËôïÊå™Âéª„ÄÇ' },
                { verse: 6, ko: 'Ïò§ÏßÅ ÎÑ§Í≤å Ïù¥Í≤ÉÏù¥ ÏûàÏúºÎãà ÎÑ§Í∞Ä¬†ÎãàÍ≥®Îùº ÎãπÏùò¬†ÌñâÏúÑÎ•º ÎØ∏ÏõåÌïòÎäîÎèÑÎã§ ÎÇòÎèÑ Ïù¥Í≤ÉÏùÑ ÎØ∏ÏõåÌïòÎÖ∏Îùº', zh: 'ÁÑ∂ËÄå‰Ω†ÈÇÑÊúâ‰∏Ä‰ª∂ÂèØÂèñÁöÑ‰∫ãÔºåÂ∞±ÊòØ‰Ω†ÊÅ®ÊÉ°Â∞ºÂì•Êãâ‰∏ÄÈª®‰∫∫ÁöÑË°åÁÇ∫ÔºåÈÄô‰πüÊòØÊàëÊâÄÊÅ®ÊÉ°ÁöÑ„ÄÇ' },
                { verse: 7, ko: 'Í∑Ä ÏûàÎäî ÏûêÎäî¬†ÏÑ±Î†πÏù¥ ÍµêÌöåÎì§ÏóêÍ≤å ÌïòÏãúÎäî¬†ÎßêÏîÄÏùÑ Îì§ÏùÑÏßÄÏñ¥Îã§¬†Ïù¥Í∏∞Îäî Í∑∏ÏóêÍ≤åÎäî ÎÇ¥Í∞Ä¬†ÌïòÎÇòÎãòÏùò¬†ÎÇôÏõêÏóê ÏûàÎäî¬†ÏÉùÎ™ÖÎÇòÎ¨¥Ïùò¬†Í≥ºÏã§ÏùÑ Ï£ºÏñ¥ Î®πÍ≤å ÌïòÎ¶¨Îùº', zh: 'ËÅñÈùàÂêëÁúæÊïôÊúÉÊâÄË™™ÁöÑË©±ÔºåÂá°ÊúâËÄ≥ÁöÑÔºåÂ∞±ÊáâÁï∂ËÅΩÔºÅÂæóÂãùÁöÑÔºåÊàëÂøÖÂ∞áÁ•ûÊ®ÇÂúí‰∏≠ÁîüÂëΩÊ®πÁöÑÊûúÂ≠êË≥úÁµ¶‰ªñÂêÉ„ÄÇ„Äè„Äç' },
                { type: 'heading', ko: 'ÏÑúÎ®∏ÎÇò ÍµêÌöåÏóê Î≥¥ÎÇ¥Îäî Ìé∏ÏßÄ', zh: 'Áµ¶Â£´ÊØèÊãøÊïôÊúÉÁöÑ‰ø°' },
                { verse: 8, ko: 'ÏÑúÎ®∏ÎÇò ÍµêÌöåÏùò¬†ÏÇ¨ÏûêÏóêÍ≤å¬†Ìé∏ÏßÄÌïòÍ∏∞Î•º¬†Ï≤òÏùåÏù¥Ïöî¬†ÎÇòÏ§ëÏù¥Ïöî Ï£ΩÏóàÎã§Í∞Ä ÏÇ¥ÏïÑÎÇòÏã† Ïù¥Í∞Ä¬†Í∞ÄÎùºÏÇ¨ÎåÄ', zh: '„Äå‰Ω†Ë¶ÅÂØ´‰ø°Áµ¶Â£´ÊØèÊãøÊïôÊúÉÁöÑ‰ΩøËÄÖÔºåË™™Ôºö„ÄéÈÇ£È¶ñÂÖàÁöÑ„ÄÅÊú´ÂæåÁöÑ„ÄÅÊ≠ªÈÅéÂèàÊ¥ªÁöÑÔºåË™™Ôºö' },
                { verse: 9, ko: 'ÎÇ¥Í∞Ä ÎÑ§¬†ÌôòÎÇúÍ≥º Í∂ÅÌïçÏùÑ ÏïÑÎÖ∏Îãà¬†Ïã§ÏÉÅÏùÄ ÎÑ§Í∞Ä Î∂ÄÏöîÌïú ÏûêÎãàÎùº¬†ÏûêÏπ≠¬†Ïú†ÎåÄÏù∏Ïù¥Îùº ÌïòÎäî ÏûêÎì§Ïùò¬†ÌõºÎ∞©ÎèÑ ÏïÑÎÖ∏Îãà Ïã§ÏÉÅÏùÄ¬†Ïú†ÎåÄÏù∏Ïù¥ ÏïÑÎãàÏöî¬†ÏÇ¨Îã®Ïùò ÌöåÎùº', zh: 'ÊàëÁü•ÈÅì‰Ω†ÁöÑÊÇ£Èõ£Ôºå‰Ω†ÁöÑË≤ßÁ™ÆÔºà‰Ω†ÂçªÊòØÂØåË∂≥ÁöÑÔºâÔºå‰πüÁü•ÈÅìÈÇ£Ëá™Á®±ÊòØÁå∂Â§™‰∫∫ÊâÄË™™ÁöÑÊØÄË¨óË©±ÔºåÂÖ∂ÂØ¶‰ªñÂÄë‰∏çÊòØÁå∂Â§™‰∫∫Ôºå‰πÉÊòØÊíí‰ΩÜ‰∏ÄÊúÉÁöÑ‰∫∫„ÄÇ' },
                { verse: 10, ko: 'ÎÑ§Í∞Ä Ïû•Ï∞® Î∞õÏùÑ¬†Í≥†ÎÇúÏùÑ ÎëêÎ†§Ïõå ÎßêÎùº¬†Î≥ºÏßÄÏñ¥Îã§¬†ÎßàÍ∑ÄÍ∞Ä Ïû•Ï∞® ÎÑàÌù¨ Í∞ÄÏö¥Îç∞ÏÑú Î™á ÏÇ¨ÎûåÏùÑ¬†Ïò•Ïóê ÎçòÏ†∏¬†ÏãúÌóòÏùÑ Î∞õÍ≤å ÌïòÎ¶¨Îãà ÎÑàÌù¨Í∞Ä¬†Ïã≠ Ïùº ÎèôÏïà¬†ÌôòÎÇúÏùÑ Î∞õÏúºÎ¶¨Îùº ÎÑ§Í∞Ä Ï£ΩÎèÑÎ°ù¬†Ï∂©ÏÑ±ÌïòÎùº Í∑∏Î¶¨ÌïòÎ©¥ ÎÇ¥Í∞Ä¬†ÏÉùÎ™ÖÏùò Î©¥Î•òÍ¥ÄÏùÑ ÎÑ§Í≤å Ï£ºÎ¶¨Îùº', zh: '‰Ω†Â∞áË¶ÅÂèóÁöÑËã¶‰Ω†‰∏çÁî®ÊÄï„ÄÇÈ≠îÈ¨ºË¶ÅÊää‰Ω†ÂÄë‰∏≠ÈñìÂπæÂÄã‰∫∫‰∏ãÂú®Áõ£Ë£èÔºåÂè´‰Ω†ÂÄëË¢´Ë©¶ÁÖâÔºå‰Ω†ÂÄëÂøÖÂèóÊÇ£Èõ£ÂçÅÊó•„ÄÇ‰Ω†ÂãôË¶ÅËá≥Ê≠ªÂø†ÂøÉÔºåÊàëÂ∞±Ë≥úÁµ¶‰Ω†ÈÇ£ÁîüÂëΩÁöÑÂÜ†ÂÜï„ÄÇ' },
                { verse: 11, ko: 'Í∑Ä ÏûàÎäî ÏûêÎäî¬†ÏÑ±Î†πÏù¥ ÍµêÌöåÎì§ÏóêÍ≤å ÌïòÏãúÎäî¬†ÎßêÏîÄÏùÑ Îì§ÏùÑÏßÄÏñ¥Îã§¬†Ïù¥Í∏∞Îäî ÏûêÎäî¬†ÎëòÏß∏ ÏÇ¨ÎßùÏùò¬†Ìï¥Î•º Î∞õÏßÄ ÏïÑÎãàÌïòÎ¶¨Îùº', zh: 'ËÅñÈùàÂêëÁúæÊïôÊúÉÊâÄË™™ÁöÑË©±ÔºåÂá°ÊúâËÄ≥ÁöÑÔºåÂ∞±ÊáâÁï∂ËÅΩÔºÅÂæóÂãùÁöÑÔºåÂøÖ‰∏çÂèóÁ¨¨‰∫åÊ¨°Ê≠ªÁöÑÂÆ≥„ÄÇ„Äè„Äç' },
                { type: 'heading', ko: 'Î≤ÑÍ∞ÄÎ™® ÍµêÌöåÏóê Î≥¥ÎÇ¥Îäî Ìé∏ÏßÄ', zh: 'Áµ¶Âà•Ëø¶Êë©ÊïôÊúÉÁöÑ‰ø°' },
                { verse: 12, ko: 'Î≤ÑÍ∞ÄÎ™® ÍµêÌöåÏùò¬†ÏÇ¨ÏûêÏóêÍ≤å¬†Ìé∏ÏßÄÌïòÍ∏∞Î•º¬†Ï¢åÏö∞Ïóê¬†ÎÇ†¬†ÏÑ†¬†Í≤ÄÏùÑ Í∞ÄÏßÑ Ïù¥Í∞Ä¬†Í∞ÄÎùºÏÇ¨ÎåÄ', zh: '„Äå‰Ω†Ë¶ÅÂØ´‰ø°Áµ¶Âà•Ëø¶Êë©ÊïôÊúÉÁöÑ‰ΩøËÄÖÔºåË™™Ôºö„ÄéÈÇ£ÊúâÂÖ©ÂàÉÂà©ÂäçÁöÑÔºåË™™Ôºö' },
                { verse: 13, ko: 'ÎÑ§Í∞Ä Ïñ¥Îîî ÏÇ¨Îäî Í≤ÉÏùÑ ÎÇ¥Í∞Ä ÏïÑÎÖ∏Îãà Í±∞Í∏∞Îäî¬†ÏÇ¨Îã®Ïùò¬†ÏúÑÍ∞Ä ÏûàÎäî Îç∞Îùº ÎÑ§Í∞Ä ÎÇ¥¬†Ïù¥Î¶ÑÏùÑ Íµ≥Í≤å Ïû°ÏïÑÏÑú ÎÇ¥¬†Ï∂©ÏÑ±Îêú¬†Ï¶ùÏù∏¬†ÏïàÎîîÎ∞îÍ∞Ä ÎÑàÌù¨ Í∞ÄÏö¥Îç∞ Í≥ß¬†ÏÇ¨Îã®Ïùò Í±∞ÌïòÎäî Í≥≥ÏóêÏÑú Ï£ΩÏûÑÏùÑ ÎãπÌï† ÎïåÏóêÎèÑ ÎÇòÎ•º ÎØøÎäî¬†ÎØøÏùåÏùÑ Ï†ÄÎ≤ÑÎ¶¨ÏßÄ ÏïÑÎãàÌïòÏòÄÎèÑÎã§', zh: 'ÊàëÁü•ÈÅì‰Ω†ÁöÑÂ±ÖÊâÄÔºåÂ∞±ÊòØÊúâÊíí‰ΩÜÂ∫ß‰Ωç‰πãËôïÔºõÁï∂ÊàëÂø†ÂøÉÁöÑË¶ãË≠â‰∫∫ÂÆâÊèêÂ∏ïÂú®‰Ω†ÂÄë‰∏≠Èñì„ÄÅÊíí‰ΩÜÊâÄ‰ΩèÁöÑÂú∞ÊñπË¢´ÊÆ∫‰πãÊôÇÔºå‰Ω†ÈÇÑÂ†ÖÂÆàÊàëÁöÑÂêçÔºåÊ≤íÊúâÊ£ÑÁµïÊàëÁöÑÈÅì„ÄÇ' },
                { verse: 14, ko: 'Í∑∏Îü¨ÎÇò ÎÑ§Í≤å ÎëêÏñ¥ Í∞ÄÏßÄ¬†Ï±ÖÎßùÌï† Í≤ÉÏù¥ ÏûàÎÇòÎãà Í±∞Í∏∞ ÎÑ§Í≤å¬†Î∞úÎûåÏùò¬†ÍµêÌõàÏùÑ ÏßÄÌÇ§Îäî ÏûêÎì§Ïù¥ ÏûàÎèÑÎã§¬†Î∞úÎûåÏù¥¬†Î∞úÎùΩÏùÑ Í∞ÄÎ•¥Ï≥ê¬†Ïù¥Ïä§ÎùºÏóò¬†ÏïûÏóê¬†Ïò¨Î¨¥Î•º ÎÜìÏïÑ¬†Ïö∞ÏÉÅÏùò¬†Ï†úÎ¨ºÏùÑ Î®πÍ≤å ÌïòÏòÄÍ≥† Îòê¬†ÌñâÏùåÌïòÍ≤å ÌïòÏòÄÎäêÎãàÎùº', zh: 'ÁÑ∂ËÄåÔºåÊúâÂπæ‰ª∂‰∫ãÊàëË¶ÅË≤¨ÂÇô‰Ω†ÔºöÂõ†ÁÇ∫Âú®‰Ω†ÈÇ£Ë£èÊúâ‰∫∫ÊúçÂæû‰∫ÜÂ∑¥Ëò≠ÁöÑÊïôË®ìÔºõÈÄôÂ∑¥Ëò≠ÊõæÊïôÂ∞éÂ∑¥ÂãíÂ∞áÁµÜËÖ≥Áü≥ÊîæÂú®‰ª•Ëâ≤Âàó‰∫∫Èù¢ÂâçÔºåÂè´‰ªñÂÄëÂêÉÁ•≠ÂÅ∂ÂÉè‰πãÁâ©ÔºåË°åÂß¶Ê∑´ÁöÑ‰∫ã„ÄÇ' },
                { verse: 15, ko: 'Ïù¥ÏôÄ Í∞ôÏù¥ ÎÑ§Í≤åÎèÑ¬†ÎãàÍ≥®Îùº ÎãπÏùò¬†ÍµêÌõàÏùÑ ÏßÄÌÇ§Îäî ÏûêÎì§Ïù¥ ÏûàÎèÑÎã§', zh: '‰Ω†ÈÇ£Ë£è‰πüÊúâ‰∫∫ÁÖßÊ®£ÊúçÂæû‰∫ÜÂ∞ºÂì•Êãâ‰∏ÄÈª®‰∫∫ÁöÑÊïôË®ì„ÄÇ' },
                { verse: 16, ko: 'Í∑∏Îü¨ÎØÄÎ°ú¬†ÌöåÍ∞úÌïòÎùº Í∑∏Î¶¨ÌïòÏßÄ ÏïÑÎãàÌïòÎ©¥ ÎÇ¥Í∞Ä ÎÑ§Í≤å ÏÜçÌûà ÏûÑÌïòÏó¨¬†ÎÇ¥ ÏûÖÏùò¬†Í≤ÄÏúºÎ°ú Í∑∏Îì§Í≥º Ïã∏Ïö∞Î¶¨Îùº', zh: 'ÊâÄ‰ª•Ôºå‰Ω†Áï∂ÊÇîÊîπÔºõËã•‰∏çÊÇîÊîπÔºåÊàëÂ∞±Âø´Ëá®Âà∞‰Ω†ÈÇ£Ë£èÔºåÁî®ÊàëÂè£‰∏≠ÁöÑÂäçÊîªÊìä‰ªñÂÄë„ÄÇ' },
                { verse: 17, ko: 'Í∑Ä ÏûàÎäî ÏûêÎäî¬†ÏÑ±Î†πÏù¥ ÍµêÌöåÎì§ÏóêÍ≤å ÌïòÏãúÎäî¬†ÎßêÏîÄÏùÑ Îì§ÏùÑÏßÄÏñ¥Îã§¬†Ïù¥Í∏∞Îäî Í∑∏ÏóêÍ≤åÎäî ÎÇ¥Í∞Ä¬†Í∞êÏ∂îÏóàÎçò ÎßåÎÇòÎ•º Ï£ºÍ≥† Îòê¬†Ìù∞ ÎèåÏùÑ Ï§Ñ ÌÑ∞Ïù∏Îç∞ Í∑∏ Îèå ÏúÑÏóê¬†ÏÉà Ïù¥Î¶ÑÏùÑ Í∏∞Î°ùÌïú Í≤ÉÏù¥ ÏûàÎÇòÎãà Î∞õÎäî ÏûêÎ∞ñÏóêÎäî Í∑∏¬†Ïù¥Î¶ÑÏùÑ Ïïå ÏÇ¨ÎûåÏù¥ ÏóÜÎäêÎãàÎùº', zh: 'ËÅñÈùàÂêëÁúæÊïôÊúÉÊâÄË™™ÁöÑË©±ÔºåÂá°ÊúâËÄ≥ÁöÑÔºåÂ∞±ÊáâÁï∂ËÅΩÔºÅÂæóÂãùÁöÑÔºåÊàëÂøÖÂ∞áÈÇ£Èö±ËóèÁöÑÂóéÂì™Ë≥úÁµ¶‰ªñÔºå‰∏¶Ë≥ú‰ªñ‰∏ÄÂ°äÁôΩÁü≥ÔºåÁü≥‰∏äÂØ´ÁùÄÊñ∞ÂêçÔºõÈô§‰∫ÜÈÇ£È†òÂèóÁöÑ‰ª•Â§ñÔºåÊ≤íÊúâ‰∫∫ËÉΩË™çË≠ò„ÄÇ„Äè„Äç' },
                { type: 'heading', ko: 'ÎëêÏïÑÎîîÎùº ÍµêÌöåÏóê Î≥¥ÎÇ¥Îäî Ìé∏ÏßÄ', zh: 'Áµ¶Êé®ÈõÖÊé®ÂñáÊïôÊúÉÁöÑ‰ø°' },
                { verse: 18, ko: 'ÎëêÏïÑÎîîÎùº ÍµêÌöåÏùò¬†ÏÇ¨ÏûêÏóêÍ≤å¬†Ìé∏ÏßÄÌïòÍ∏∞Î•º¬†Í∑∏¬†ÎààÏù¥ Î∂àÍΩÉ Í∞ôÍ≥† Í∑∏¬†Î∞úÏù¥¬†ÎπõÎÇú¬†Ï£ºÏÑùÍ≥º Í∞ôÏùÄ¬†ÌïòÎÇòÎãòÏùò¬†ÏïÑÎì§Ïù¥¬†Í∞ÄÎùºÏÇ¨ÎåÄ', zh: '„Äå‰Ω†Ë¶ÅÂØ´‰ø°Áµ¶Êé®ÈõÖÊé®ÂñáÊïôÊúÉÁöÑ‰ΩøËÄÖÔºåË™™Ôºö„ÄéÈÇ£ÁúºÁõÆÂ¶ÇÁÅ´ÁÑ∞„ÄÅËÖ≥ÂÉèÂÖâÊòéÈäÖÁöÑÁ•û‰πãÂ≠êË™™Ôºö' },
                { verse: 19, ko: 'ÎÇ¥Í∞Ä ÎÑ§ ÏÇ¨ÏóÖÍ≥º¬†ÏÇ¨ÎûëÍ≥º¬†ÎØøÏùåÍ≥º¬†ÏÑ¨ÍπÄÍ≥º¬†Ïù∏ÎÇ¥Î•º ÏïÑÎÖ∏Îãà ÎÑ§¬†ÎÇòÏ§ë¬†ÌñâÏúÑÍ∞Ä Ï≤òÏùå Í≤ÉÎ≥¥Îã§ ÎßéÎèÑÎã§', zh: 'ÊàëÁü•ÈÅì‰Ω†ÁöÑË°åÁÇ∫„ÄÅÊÑõÂøÉ„ÄÅ‰ø°ÂøÉ„ÄÅÂã§Âãû„ÄÅÂøçËÄêÔºåÂèàÁü•ÈÅì‰Ω†Êú´ÂæåÊâÄË°åÁöÑÂñÑ‰∫ãÔºåÊØîËµ∑ÂàùÊâÄË°åÁöÑÊõ¥Â§ö„ÄÇ' },
                { verse: 20, ko: 'Í∑∏Îü¨ÎÇò ÎÑ§Í≤å¬†Ï±ÖÎßùÌï† ÏùºÏù¥ ÏûàÎÖ∏Îùº ÏûêÏπ≠¬†ÏÑ†ÏßÄÏûêÎùº ÌïòÎäî¬†Ïó¨Ïûê¬†Ïù¥ÏÑ∏Î≤®ÏùÑ ÎÑ§Í∞Ä¬†Ïö©ÎÇ©Ìï®Ïù¥Îãà Í∑∏Í∞Ä ÎÇ¥¬†Ï¢ÖÎì§ÏùÑ Í∞ÄÎ•¥Ï≥ê ÍæÄÏñ¥¬†ÌñâÏùåÌïòÍ≤å ÌïòÍ≥†¬†Ïö∞ÏÉÅÏùò¬†Ï†úÎ¨ºÏùÑ Î®πÍ≤å ÌïòÎäîÎèÑÎã§', zh: 'ÁÑ∂ËÄåÔºåÊúâ‰∏Ä‰ª∂‰∫ãÊàëË¶ÅË≤¨ÂÇô‰Ω†ÔºåÂ∞±ÊòØ‰Ω†ÂÆπËÆìÈÇ£Ëá™Á®±ÊòØÂÖàÁü•ÁöÑÂ©¶‰∫∫ËÄ∂Ê¥óÂà•ÊïôÂ∞éÊàëÁöÑÂÉï‰∫∫ÔºåÂºïË™ò‰ªñÂÄëË°åÂß¶Ê∑´ÔºåÂêÉÁ•≠ÂÅ∂ÂÉè‰πãÁâ©„ÄÇ' },
                { verse: 21, ko: 'Îòê ÎÇ¥Í∞Ä Í∑∏ÏóêÍ≤å¬†ÌöåÍ∞úÌï† Í∏∞ÌöåÎ•º Ï£ºÏóàÏúºÎêò Í∑∏¬†ÏùåÌñâÏùÑ¬†ÌöåÍ∞úÌïòÍ≥†Ïûê ÏïÑÎãà ÌïòÎäîÎèÑÎã§', zh: 'ÊàëÊõæÁµ¶Â•πÊÇîÊîπÁöÑÊ©üÊúÉÔºåÂ•πÂçª‰∏çËÇØÊÇîÊîπÂ•πÁöÑÊ∑´Ë°å„ÄÇ' },
                { verse: 22, ko: 'Î≥ºÏßÄÏñ¥Îã§¬†ÎÇ¥Í∞Ä Í∑∏Î•º¬†Ïπ®ÏÉÅÏóê ÎçòÏßà ÌÑ∞Ïù¥Ïöî Îòê Í∑∏Î°ú ÎçîÎ∂àÏñ¥¬†Í∞ÑÏùåÌïòÎäî ÏûêÎì§ÎèÑ ÎßåÏùº Í∑∏Ïùò¬†ÌñâÏúÑÎ•º¬†ÌöåÍ∞úÏπò ÏïÑÎãàÌïòÎ©¥ ÌÅ∞¬†ÌôòÎÇú¬†Í∞ÄÏö¥Îç∞ ÎçòÏßÄÍ≥†', zh: 'ÁúãÂì™ÔºåÊàëË¶ÅÂè´Â•πÁóÖËá•Âú®ÁâÄ„ÄÇÈÇ£‰∫õËàáÂ•πË°åÊ∑´ÁöÑ‰∫∫ÔºåËã•‰∏çÊÇîÊîπÊâÄË°åÁöÑÔºåÊàë‰πüË¶ÅÂè´‰ªñÂÄëÂêåÂèóÂ§ßÊÇ£Èõ£„ÄÇ' },
                { verse: 23, ko: 'Îòê ÎÇ¥Í∞Ä¬†ÏÇ¨ÎßùÏúºÎ°ú Í∑∏Ïùò¬†ÏûêÎÖÄÎ•º Ï£ΩÏù¥Î¶¨Îãà Î™®Îì† ÍµêÌöåÍ∞Ä ÎÇòÎäî ÏÇ¨ÎûåÏùò ÎúªÍ≥º ÎßàÏùåÏùÑ ÏÇ¥ÌîºÎäî ÏûêÏù∏ Ï§Ñ ÏïåÏßÄÎùº¬†ÎÇ¥Í∞Ä ÎÑàÌù¨ Í∞Å ÏÇ¨ÎûåÏùò¬†ÌñâÏúÑÎåÄÎ°ú Í∞öÏïÑ Ï£ºÎ¶¨Îùº', zh: 'ÊàëÂèàË¶ÅÊÆ∫Ê≠ªÂ•πÁöÑÈª®È°ûÔºåÂè´ÁúæÊïôÊúÉÁü•ÈÅìÔºåÊàëÊòØÈÇ£ÂØüÁúã‰∫∫ËÇ∫ËÖëÂøÉËÖ∏ÁöÑÔºå‰∏¶Ë¶ÅÁÖß‰Ω†ÂÄëÁöÑË°åÁÇ∫Â†±Êáâ‰Ω†ÂÄëÂêÑ‰∫∫„ÄÇ' },
                { verse: 24, ko: 'ÎëêÏïÑÎîîÎùºÏóê ÎÇ®ÏïÑ ÏûàÏñ¥ Ïù¥¬†ÍµêÌõàÏùÑ Î∞õÏßÄ ÏïÑÎãàÌïòÍ≥† ÏÜåÏúÑ¬†ÏÇ¨Îã®Ïùò ÍπäÏùÄ Í≤ÉÏùÑ ÏïåÏßÄ Î™ªÌïòÎäî ÎÑàÌù¨ÏóêÍ≤å ÎßêÌïòÎÖ∏Îãà Îã§Î•∏¬†ÏßêÏúºÎ°ú ÎÑàÌù¨ÏóêÍ≤å ÏßÄÏö∏ Í≤ÉÏù¥ ÏóÜÎÖ∏Îùº', zh: 'Ëá≥Êñº‰Ω†ÂÄëÊé®ÈõÖÊé®ÂñáÂÖ∂È§òÁöÑ‰∫∫ÔºåÂ∞±ÊòØ‰∏ÄÂàá‰∏çÂæûÈÇ£ÊïôË®ì„ÄÅ‰∏çÊõâÂæó‰ªñÂÄëÁ¥†Â∏∏ÊâÄË™™Êíí‰ΩÜÊ∑±Â•ß‰πãÁêÜÁöÑ‰∫∫ÔºåÊàëÂëäË®¥‰Ω†ÂÄëÔºåÊàë‰∏çÂ∞áÂà•ÁöÑÊìîÂ≠êÊîæÂú®‰Ω†ÂÄëË∫´‰∏ä„ÄÇ' },
                { verse: 25, ko: 'Îã§Îßå ÎÑàÌù¨ÏóêÍ≤å ÏûàÎäî Í≤ÉÏùÑ ÎÇ¥Í∞Ä Ïò¨ ÎïåÍπåÏßÄ Íµ≥Í≤å Ïû°ÏúºÎùº', zh: '‰ΩÜ‰Ω†ÂÄëÂ∑≤Á∂ìÊúâÁöÑÔºåÁ∏ΩË¶ÅÊåÅÂÆàÔºåÁõ¥Á≠âÂà∞Êàë‰æÜ„ÄÇ' },
                { verse: 26, ko: 'Ïù¥Í∏∞Îäî ÏûêÏôÄ ÎÅùÍπåÏßÄ ÎÇ¥ ÏùºÏùÑ ÏßÄÌÇ§Îäî Í∑∏ÏóêÍ≤å¬†ÎßåÍµ≠ÏùÑ Îã§Ïä§Î¶¨Îäî¬†Í∂åÏÑ∏Î•º Ï£ºÎ¶¨Îãà', zh: 'ÈÇ£ÂæóÂãùÂèàÈÅµÂÆàÊàëÂëΩ‰ª§Âà∞Â∫ïÁöÑÔºåÊàëË¶ÅË≥úÁµ¶‰ªñÊ¨äÊüÑÂà∂‰ºèÂàóÂúãÔºõ' },
                { verse: 27, ko: 'Í∑∏Í∞Ä¬†Ï≤†Ïû•ÏùÑ Í∞ÄÏßÄÍ≥† Ï†ÄÌù¨Î•º Îã§Ïä§Î†§¬†ÏßàÍ∑∏Î¶á¬†Íπ®Îú®Î¶¨Îäî Í≤ÉÍ≥º Í∞ôÏù¥ ÌïòÎ¶¨Îùº ÎÇòÎèÑ ÎÇ¥ ÏïÑÎ≤ÑÏßÄÍªò Î∞õÏùÄ Í≤ÉÏù¥ Í∑∏Îü¨ÌïòÎãàÎùº', zh: '‰ªñÂøÖÁî®ÈêµÊùñËΩÑÁÆ°‰ªñÂÄëÔºåÂ∞á‰ªñÂÄëÂ¶ÇÂêåÁ™∞Êà∂ÁöÑÁì¶Âô®ÊâìÂæóÁ≤âÁ¢éÔºåÂÉèÊàëÂæûÊàëÁà∂È†òÂèóÁöÑÊ¨äÊüÑ‰∏ÄÊ®£„ÄÇ' },
                { verse: 28, ko: 'ÎÇ¥Í∞Ä Îòê Í∑∏ÏóêÍ≤å¬†ÏÉàÎ≤ΩÎ≥ÑÏùÑ Ï£ºÎ¶¨Îùº', zh: 'ÊàëÂèàË¶ÅÊääÊô®ÊòüË≥úÁµ¶‰ªñ„ÄÇ' },
                { verse: 29, ko: 'Í∑Ä ÏûàÎäî ÏûêÎäî¬†ÏÑ±Î†πÏù¥ ÍµêÌöåÎì§ÏóêÍ≤å ÌïòÏãúÎäî¬†ÎßêÏîÄÏùÑ Îì§ÏùÑÏßÄÏñ¥Îã§', zh: 'ËÅñÈùàÂêëÁúæÊïôÊúÉÊâÄË™™ÁöÑË©±ÔºåÂá°ÊúâËÄ≥ÁöÑÔºåÂ∞±ÊáâÁï∂ËÅΩÔºÅ„Äè„Äç' },
            ],
            3: [
                { type: 'heading', ko: 'ÏÇ¨Îç∞ ÍµêÌöåÏóê Î≥¥ÎÇ¥Îäî Ìé∏ÏßÄ', zh: 'Áµ¶ÊííÁãÑÊïôÊúÉÁöÑ‰ø°' },
                { verse: 1, ko: 'ÏÇ¨Îç∞ ÍµêÌöåÏùò¬†ÏÇ¨ÏûêÏóêÍ≤å¬†Ìé∏ÏßÄÌïòÍ∏∞Î•º¬†ÌïòÎÇòÎãòÏùò ÏùºÍ≥±¬†ÏòÅÍ≥º ÏùºÍ≥±¬†Î≥ÑÏùÑ Í∞ÄÏßÑ Ïù¥Í∞Ä¬†Í∞ÄÎùºÏÇ¨ÎåÄ¬†ÎÇ¥Í∞Ä ÎÑ§¬†ÌñâÏúÑÎ•º ÏïÑÎÖ∏Îãà ÎÑ§Í∞Ä¬†ÏÇ¥ÏïòÎã§ ÌïòÎäî¬†Ïù¥Î¶ÑÏùÄ Í∞ÄÏ°åÏúºÎÇò Ï£ΩÏùÄ ÏûêÎ°úÎã§', zh: '„Äå‰Ω†Ë¶ÅÂØ´‰ø°Áµ¶ÊííÁãÑÊïôÊúÉÁöÑ‰ΩøËÄÖÔºåË™™Ôºö„ÄéÈÇ£ÊúâÁ•ûÁöÑ‰∏ÉÈùàÂíå‰∏ÉÊòüÁöÑÔºåË™™ÔºöÊàëÁü•ÈÅì‰Ω†ÁöÑË°åÁÇ∫ÔºåÊåâÂêç‰Ω†ÊòØÊ¥ªÁöÑÔºåÂÖ∂ÂØ¶ÊòØÊ≠ªÁöÑ„ÄÇ' },
                { verse: 2, ko: 'ÎÑàÎäî ÏùºÍπ®Ïõå Í∑∏ ÎÇ®ÏùÄ Î∞î Ï£ΩÍ≤å Îêú Í≤ÉÏùÑ Íµ≥Í≤å ÌïòÎùº ÎÇ¥¬†ÌïòÎÇòÎãò¬†ÏïûÏóê ÎÑ§¬†ÌñâÏúÑÏùò¬†Ïò®Ï†ÑÌïú Í≤ÉÏùÑ Ï∞æÏßÄ Î™ªÌïòÏòÄÎÖ∏Îãà', zh: '‰Ω†Ë¶ÅË≠¶ÈÜíÔºåÂ†ÖÂõ∫ÈÇ£Ââ©‰∏ãÂ∞áË¶ÅË°∞ÂæÆÁöÑÔºõÂõ†ÊàëË¶ã‰Ω†ÁöÑË°åÁÇ∫ÔºåÂú®ÊàëÁ•ûÈù¢ÂâçÔºåÊ≤íÊúâ‰∏ÄÊ®£ÊòØÂÆåÂÖ®ÁöÑ„ÄÇ' },
                { verse: 3, ko: 'Í∑∏Îü¨ÎØÄÎ°ú ÎÑ§Í∞Ä Ïñ¥ÎñªÍ≤å Î∞õÏïòÏúºÎ©∞ Ïñ¥ÎñªÍ≤å Îì§ÏóàÎäîÏßÄ ÏÉùÍ∞ÅÌïòÍ≥† ÏßÄÌÇ§Ïñ¥¬†ÌöåÍ∞úÌïòÎùº ÎßåÏùº ÏùºÍπ®ÏßÄ ÏïÑÎãàÌïòÎ©¥ ÎÇ¥Í∞Ä¬†ÎèÑÏ†ÅÍ∞ôÏù¥ Ïù¥Î•¥Î¶¨Îãà Ïñ¥Îäê ÏãúÏóê ÎÑ§Í≤å ÏûÑÌï†ÎäîÏßÄ ÎÑ§Í∞Ä ÏïåÏßÄ Î™ªÌïòÎ¶¨Îùº', zh: 'ÊâÄ‰ª•Ë¶ÅÂõûÊÉ≥‰Ω†ÊòØÊÄéÊ®£È†òÂèó„ÄÅÊÄéÊ®£ËÅΩË¶ãÁöÑÔºåÂèàË¶ÅÈÅµÂÆàÔºå‰∏¶Ë¶ÅÊÇîÊîπ„ÄÇËã•‰∏çË≠¶ÈÜíÔºåÊàëÂøÖËá®Âà∞‰Ω†ÈÇ£Ë£èÔºåÂ¶ÇÂêåË≥ä‰∏ÄÊ®£„ÄÇÊàëÂπæÊôÇËá®Âà∞Ôºå‰Ω†‰πüÊ±∫‰∏çËÉΩÁü•ÈÅì„ÄÇ' },
                { verse: 4, ko: 'Í∑∏Îü¨ÎÇò¬†ÏÇ¨Îç∞Ïóê Í∑∏¬†Ïò∑ÏùÑ ÎçîÎüΩÌûàÏßÄ ÏïÑÎãàÌïú Ïûê Î™á Î™ÖÏù¥ ÎÑ§Í≤å ÏûàÏñ¥¬†Ìù∞ Ïò∑ÏùÑ ÏûÖÍ≥† ÎÇòÏôÄ Ìï®Íªò Îã§ÎãàÎ¶¨Îãà Í∑∏Îì§ÏùÄ Ìï©ÎãπÌïú ÏûêÏù∏ Ïó∞Í≥†Îùº', zh: 'ÁÑ∂ËÄåÂú®ÊííÁãÑÔºå‰Ω†ÈÇÑÊúâÂπæÂêçÊòØÊú™ÊõæÊ±°Á©¢Ëá™Â∑±Ë°£ÊúçÁöÑÔºå‰ªñÂÄëË¶ÅÁ©øÁôΩË°£ËàáÊàëÂêåË°åÔºåÂõ†ÁÇ∫‰ªñÂÄëÊòØÈÖçÂæóÈÅéÁöÑ„ÄÇ' },
                { verse: 5, ko: 'Ïù¥Í∏∞Îäî ÏûêÎäî Ïù¥ÏôÄ Í∞ôÏù¥¬†Ìù∞ Ïò∑ÏùÑ ÏûÖÏùÑ Í≤ÉÏù¥Ïöî ÎÇ¥Í∞Ä Í∑∏¬†Ïù¥Î¶ÑÏùÑ¬†ÏÉùÎ™ÖÏ±ÖÏóêÏÑú Î∞òÎìúÏãú ÌùêÎ¶¨ÏßÄ ÏïÑÎãàÌïòÍ≥† Í∑∏¬†Ïù¥Î¶ÑÏùÑ ÎÇ¥ ÏïÑÎ≤ÑÏßÄ ÏïûÍ≥º Í∑∏¬†Ï≤úÏÇ¨Îì§ ÏïûÏóêÏÑú ÏãúÏù∏ÌïòÎ¶¨Îùº', zh: 'Âá°ÂæóÂãùÁöÑÂøÖÈÄôÊ®£Á©øÁôΩË°£ÔºåÊàë‰πüÂøÖ‰∏çÂæûÁîüÂëΩÂÜä‰∏äÂ°óÊäπ‰ªñÁöÑÂêçÔºõ‰∏îË¶ÅÂú®ÊàëÁà∂Èù¢ÂâçÔºåÂíåÊàëÁà∂Áúæ‰ΩøËÄÖÈù¢ÂâçÔºåË™ç‰ªñÁöÑÂêç„ÄÇ' },
                { verse: 6, ko: 'Í∑Ä ÏûàÎäî ÏûêÎäî¬†ÏÑ±Î†πÏù¥ ÍµêÌöåÎì§ÏóêÍ≤å ÌïòÏãúÎäî¬†ÎßêÏîÄÏùÑ Îì§ÏùÑÏßÄÏñ¥Îã§', zh: 'ËÅñÈùàÂêëÁúæÊïôÊúÉÊâÄË™™ÁöÑË©±ÔºåÂá°ÊúâËÄ≥ÁöÑÔºåÂ∞±ÊáâÁï∂ËÅΩÔºÅ„Äè„Äç' },
                { type: 'heading', ko: 'ÎπåÎùºÎç∏ÎπÑÏïÑ ÍµêÌöåÏóê Î≥¥ÎÇ¥Îäî Ìé∏ÏßÄ', zh: 'Áµ¶ÈùûÊãâÈêµÈùûÊïôÊúÉÁöÑ‰ø°' },
                { verse: 7, ko: 'ÎπåÎùºÎç∏ÎπÑÏïÑ¬†ÍµêÌöåÏùò¬†ÏÇ¨ÏûêÏóêÍ≤å¬†Ìé∏ÏßÄÌïòÍ∏∞Î•º¬†Í±∞Î£©ÌïòÍ≥†¬†ÏßÑÏã§ÌïòÏÇ¨¬†Îã§ÏúóÏùò Ïó¥Ïá†Î•º Í∞ÄÏßÄÏã† Ïù¥ Í≥ß Ïó¥Î©¥ Îã´ÏùÑ ÏÇ¨ÎûåÏù¥ ÏóÜÍ≥† Îã´ÏúºÎ©¥ Ïó¥ ÏÇ¨ÎûåÏù¥ ÏóÜÎäî Í∑∏Ïù¥Í∞Ä¬†Í∞ÄÎùºÏÇ¨ÎåÄ', zh: '„Äå‰Ω†Ë¶ÅÂØ´‰ø°Áµ¶ÈùûÊãâÈêµÈùûÊïôÊúÉÁöÑ‰ΩøËÄÖÔºåË™™Ôºö„ÄéÈÇ£ËÅñÊΩî„ÄÅÁúüÂØ¶„ÄÅÊãøÁùÄÂ§ßË°õÁöÑÈë∞Âåô„ÄÅÈñã‰∫ÜÂ∞±Ê≤íÊúâ‰∫∫ËÉΩÈóú„ÄÅÈóú‰∫ÜÂ∞±Ê≤íÊúâ‰∫∫ËÉΩÈñãÁöÑÔºåË™™Ôºö' },
                { verse: 8, ko: 'Î≥ºÏßÄÏñ¥Îã§¬†ÎÇ¥Í∞Ä ÎÑ§ ÏïûÏóê¬†Ïó¥Î¶∞ Î¨∏ÏùÑ ÎëêÏóàÏúºÎêò Îä•Ìûà Îã´ÏùÑ ÏÇ¨ÎûåÏù¥ ÏóÜÏúºÎ¶¨Îùº ÎÇ¥Í∞Ä ÎÑ§¬†ÌñâÏúÑÎ•º ÏïÑÎÖ∏Îãà ÎÑ§Í∞Ä Ï†ÅÏùÄ¬†Îä•Î†•ÏùÑ Í∞ÄÏßÄÍ≥†ÎèÑ ÎÇ¥ ÎßêÏùÑ ÏßÄÌÇ§Î©∞ ÎÇ¥¬†Ïù¥Î¶ÑÏùÑ¬†Î∞∞Î∞òÏπò ÏïÑÎãàÌïòÏòÄÎèÑÎã§', zh: 'ÊàëÁü•ÈÅì‰Ω†ÁöÑË°åÁÇ∫Ôºå‰Ω†Áï•Êúâ‰∏ÄÈªûÂäõÈáèÔºå‰πüÊõæÈÅµÂÆàÊàëÁöÑÈÅìÔºåÊ≤íÊúâÊ£ÑÁµïÊàëÁöÑÂêç„ÄÇÁúãÂì™ÔºåÊàëÂú®‰Ω†Èù¢ÂâçÁµ¶‰Ω†‰∏ÄÂÄãÊïûÈñãÁöÑÈñÄÔºåÊòØÁÑ°‰∫∫ËÉΩÈóúÁöÑ„ÄÇ' },
                { verse: 9, ko: 'Î≥¥Îùº¬†ÏÇ¨Îã®Ïùò Ìöå Í≥ß ÏûêÏπ≠¬†Ïú†ÎåÄÏù∏Ïù¥Îùº ÌïòÎÇò Í∑∏Î†áÏßÄ ÏïäÍ≥† Í±∞ÏßìÎßêÌïòÎäî ÏûêÎì§ Ï§ëÏóêÏÑú Î™áÏùÑ ÎÑ§Í≤å Ï£ºÏñ¥ Ï†ÄÌù¨Î°ú ÏôÄÏÑú ÎÑ§¬†Î∞ú¬†ÏïûÏóê Ï†àÌïòÍ≤å ÌïòÍ≥† ÎÇ¥Í∞Ä ÎÑàÎ•º¬†ÏÇ¨ÎûëÌïòÎäî Ï§ÑÏùÑ ÏïåÍ≤å ÌïòÎ¶¨Îùº', zh: 'ÈÇ£Êíí‰ΩÜ‰∏ÄÊúÉÁöÑÔºåËá™Á®±ÊòØÁå∂Â§™‰∫∫ÔºåÂÖ∂ÂØ¶‰∏çÊòØÁå∂Â§™‰∫∫Ôºå‰πÉÊòØË™™Ë¨äË©±ÁöÑÔºåÊàëË¶Å‰Ωø‰ªñÂÄë‰æÜÔºåÂú®‰Ω†ËÖ≥Ââç‰∏ãÊãúÔºå‰πü‰Ωø‰ªñÂÄëÁü•ÈÅìÊàëÊòØÂ∑≤Á∂ìÊÑõ‰Ω†‰∫Ü„ÄÇ' },
                { verse: 10, ko: 'ÎÑ§Í∞Ä ÎÇòÏùò¬†Ïù∏ÎÇ¥Ïùò¬†ÎßêÏîÄÏùÑ ÏßÄÏº∞ÏùÄÏ¶â ÎÇ¥Í∞Ä ÎòêÌïú ÎÑàÎ•º ÏßÄÌÇ§Ïñ¥¬†ÏãúÌóòÏùò ÎïåÎ•º Î©¥ÌïòÍ≤å ÌïòÎ¶¨Îãà Ïù¥Îäî Ïû•Ï∞® Ïò®¬†ÏÑ∏ÏÉÅÏóê ÏûÑÌïòÏó¨ ÎïÖÏóê Í±∞ÌïòÎäî ÏûêÎì§ÏùÑ¬†ÏãúÌóòÌï† ÎïåÎùº', zh: '‰Ω†Êó¢ÈÅµÂÆàÊàëÂøçËÄêÁöÑÈÅìÔºåÊàëÂøÖÂú®ÊôÆÂ§©‰∏ã‰∫∫ÂèóË©¶ÁÖâÁöÑÊôÇÂÄôÔºå‰øùÂÆà‰Ω†ÂÖçÂéª‰Ω†ÁöÑË©¶ÁÖâ„ÄÇ' },
                { verse: 11, ko: 'ÎÇ¥Í∞Ä ÏÜçÌûà ÏûÑÌïòÎ¶¨Îãà ÎÑ§Í∞Ä Í∞ÄÏßÑ Í≤ÉÏùÑ Íµ≥Í≤å Ïû°ÏïÑ ÏïÑÎ¨¥ÎÇò ÎÑ§¬†Î©¥Î•òÍ¥ÄÏùÑ ÎπºÏïóÏßÄ Î™ªÌïòÍ≤å ÌïòÎùº', zh: 'ÊàëÂøÖÂø´‰æÜÔºå‰Ω†Ë¶ÅÊåÅÂÆà‰Ω†ÊâÄÊúâÁöÑÔºåÂÖçÂæó‰∫∫Â•™Âéª‰Ω†ÁöÑÂÜ†ÂÜï„ÄÇ' },
                { verse: 12, ko: 'Ïù¥Í∏∞Îäî ÏûêÎäî ÎÇ¥¬†ÌïòÎÇòÎãò¬†ÏÑ±Ï†ÑÏóê Í∏∞Îë•Ïù¥ ÎêòÍ≤å ÌïòÎ¶¨Îãà Í∑∏Í∞Ä Í≤∞ÏΩî Îã§Ïãú ÎÇòÍ∞ÄÏßÄ ÏïÑÎãàÌïòÎ¶¨Îùº ÎÇ¥Í∞Ä¬†ÌïòÎÇòÎãòÏùò¬†Ïù¥Î¶ÑÍ≥º¬†ÌïòÎÇòÎãòÏùò ÏÑ± Í≥ß¬†ÌïòÎäòÏóêÏÑú ÎÇ¥¬†ÌïòÎÇòÎãòÍªòÎ°úÎ∂ÄÌÑ∞ ÎÇ¥Î†§Ïò§Îäî¬†ÏÉà ÏòàÎ£®ÏÇ¥Î†òÏùò¬†Ïù¥Î¶ÑÍ≥º ÎÇòÏùò¬†ÏÉà Ïù¥Î¶ÑÏùÑ Í∑∏Ïù¥ ÏúÑÏóê Í∏∞Î°ùÌïòÎ¶¨Îùº', zh: 'ÂæóÂãùÁöÑÔºåÊàëË¶ÅÂè´‰ªñÂú®ÊàëÁ•ûÊÆø‰∏≠‰ΩúÊü±Â≠êÔºå‰ªñ‰πüÂøÖ‰∏çÂÜçÂæûÈÇ£Ë£èÂá∫Âéª„ÄÇÊàëÂèàË¶ÅÂ∞áÊàëÁ•ûÁöÑÂêçÂíåÊàëÁ•ûÂüéÁöÑÂêçÔºàÈÄôÂüéÂ∞±ÊòØÂæûÂ§©‰∏ä„ÄÅÂæûÊàëÁ•ûÈÇ£Ë£èÈôç‰∏ã‰æÜÁöÑÊñ∞ËÄ∂Ë∑ØÊííÂÜ∑ÔºâÔºå‰∏¶ÊàëÁöÑÊñ∞ÂêçÔºåÈÉΩÂØ´Âú®‰ªñ‰∏äÈù¢„ÄÇ' },
                { verse: 13, ko: 'Í∑Ä ÏûàÎäî ÏûêÎäî¬†ÏÑ±Î†πÏù¥ ÍµêÌöåÎì§ÏóêÍ≤å ÌïòÏãúÎäî¬†ÎßêÏîÄÏùÑ Îì§ÏùÑÏßÄÏñ¥Îã§', zh: 'ËÅñÈùàÂêëÁúæÊïôÊúÉÊâÄË™™ÁöÑË©±ÔºåÂá°ÊúâËÄ≥ÁöÑÔºåÂ∞±ÊáâÁï∂ËÅΩÔºÅ„Äè„Äç' },
                { type: 'heading', ko: 'ÎùºÏò§ÎîîÍ≤åÏïÑ ÍµêÌöåÏóê Î≥¥ÎÇ¥Îäî Ìé∏ÏßÄ', zh: 'Áµ¶ËÄÅÂ∫ïÂòâÊïôÊúÉÁöÑ‰ø°' },
                { verse: 14, ko: 'ÎùºÏò§ÎîîÍ≤åÏïÑ ÍµêÌöåÏùò¬†ÏÇ¨ÏûêÏóêÍ≤å¬†Ìé∏ÏßÄÌïòÍ∏∞Î•º¬†ÏïÑÎ©òÏù¥ÏãúÏöî¬†Ï∂©ÏÑ±ÎêòÍ≥† Ï∞∏Îêú¬†Ï¶ùÏù∏Ïù¥ÏãúÏöî¬†ÌïòÎÇòÎãòÏùò¬†Ï∞ΩÏ°∞Ïùò Í∑ºÎ≥∏Ïù¥Ïã† Ïù¥Í∞Ä¬†Í∞ÄÎùºÏÇ¨ÎåÄ', zh: '„Äå‰Ω†Ë¶ÅÂØ´‰ø°Áµ¶ËÄÅÂ∫ïÂòâÊïôÊúÉÁöÑ‰ΩøËÄÖÔºåË™™Ôºö„ÄéÈÇ£ÁÇ∫ÈòøÂÄëÁöÑÔºåÁÇ∫Ë™†‰ø°ÁúüÂØ¶Ë¶ãË≠âÁöÑÔºåÂú®Á•ûÂâµÈÄ†Ëê¨Áâ©‰πã‰∏äÁÇ∫ÂÖÉÈ¶ñÁöÑÔºåË™™Ôºö' },
                { verse: 15, ko: 'ÎÇ¥Í∞Ä ÎÑ§¬†ÌñâÏúÑÎ•º ÏïÑÎÖ∏Îãà ÎÑ§Í∞Ä Ï∞®ÏßÄÎèÑ ÏïÑÎãàÌïòÍ≥† ÎçîÏõÅÏßÄÎèÑ ÏïÑÎãàÌïòÎèÑÎã§ ÎÑ§Í∞Ä Ï∞®Îì†ÏßÄ ÎçîÏõÅÎì†ÏßÄ ÌïòÍ∏∞Î•º ÏõêÌïòÎÖ∏Îùº', zh: 'ÊàëÁü•ÈÅì‰Ω†ÁöÑË°åÁÇ∫Ôºå‰Ω†‰πü‰∏çÂÜ∑‰πü‰∏çÁÜ±ÔºõÊàëÂ∑¥‰∏çÂæó‰Ω†ÊàñÂÜ∑ÊàñÁÜ±„ÄÇ' },
                { verse: 16, ko: 'ÎÑ§Í∞Ä Ïù¥Í∞ôÏù¥¬†ÎØ∏ÏßÄÍ∑ºÌïòÏó¨ ÎçîÏõÅÏßÄÎèÑ ÏïÑÎãàÌïòÍ≥† Ï∞®ÏßÄÎèÑ ÏïÑÎãàÌïòÎãà ÎÇ¥ ÏûÖÏóêÏÑú ÎÑàÎ•º¬†ÌÜ†ÌïòÏó¨ ÎÇ¥ÏπòÎ¶¨Îùº', zh: '‰Ω†Êó¢Â¶ÇÊ∫´Ê∞¥Ôºå‰πü‰∏çÂÜ∑‰πü‰∏çÁÜ±ÔºåÊâÄ‰ª•ÊàëÂøÖÂæûÊàëÂè£‰∏≠Êää‰Ω†ÂêêÂá∫Âéª„ÄÇ' },
                { verse: 17, ko: 'ÎÑ§Í∞Ä ÎßêÌïòÍ∏∞Î•º ÎÇòÎäî¬†Î∂ÄÏûêÎùº Î∂ÄÏöîÌïòÏó¨ Î∂ÄÏ°±Ìïú Í≤ÉÏù¥ ÏóÜÎã§ ÌïòÎÇò ÎÑ§ Í≥§Í≥†Ìïú Í≤ÉÍ≥º Í∞ÄÎ†®Ìïú Í≤ÉÍ≥º¬†Í∞ÄÎÇúÌïú Í≤ÉÍ≥º¬†Îàà¬†Î®º Í≤ÉÍ≥º Î≤åÍ±∞Î≤óÏùÄ Í≤ÉÏùÑ ÏïåÏßÄ Î™ªÌïòÎèÑÎã§', zh: '‰Ω†Ë™™ÔºöÊàëÊòØÂØåË∂≥ÔºåÂ∑≤Á∂ìÁôº‰∫ÜË≤°Ôºå‰∏ÄÊ®£ÈÉΩ‰∏çÁº∫ÔºõÂçª‰∏çÁü•ÈÅì‰Ω†ÊòØÈÇ£Âõ∞Ëã¶„ÄÅÂèØÊÜê„ÄÅË≤ßÁ™Æ„ÄÅÁûéÁúº„ÄÅËµ§Ë∫´ÁöÑ„ÄÇ' },
                { verse: 18, ko: 'ÎÇ¥Í∞Ä ÎÑàÎ•º Í∂åÌïòÎÖ∏Îãà ÎÇ¥Í≤åÏÑú¬†Î∂àÎ°ú¬†Ïó∞Îã®Ìïú¬†Í∏àÏùÑ ÏÇ¨ÏÑú Î∂ÄÏöîÌïòÍ≤å ÌïòÍ≥† Ìù∞¬†Ïò∑ÏùÑ ÏÇ¨ÏÑú ÏûÖÏñ¥ Î≤åÍ±∞Î≤óÏùÄ¬†ÏàòÏπòÎ•º Î≥¥Ïù¥ÏßÄ ÏïäÍ≤å ÌïòÍ≥†¬†ÏïàÏïΩÏùÑ ÏÇ¨ÏÑú¬†ÎààÏóê Î∞úÎùº Î≥¥Í≤å ÌïòÎùº', zh: 'ÊàëÂã∏‰Ω†ÂêëÊàëË≤∑ÁÅ´ÁÖâÁöÑÈáëÂ≠êÔºåÂè´‰Ω†ÂØåË∂≥ÔºõÂèàË≤∑ÁôΩË°£Á©ø‰∏äÔºåÂè´‰Ω†Ëµ§Ë∫´ÁöÑÁæûÊÅ•‰∏çÈú≤Âá∫‰æÜÔºõÂèàË≤∑ÁúºËó•Êì¶‰Ω†ÁöÑÁúºÁùõÔºå‰Ωø‰Ω†ËÉΩÁúãË¶ã„ÄÇ' },
                { verse: 19, ko: 'Î¨¥Î¶á ÎÇ¥Í∞Ä¬†ÏÇ¨ÎûëÌïòÎäî ÏûêÎ•º¬†Ï±ÖÎßùÌïòÏó¨¬†ÏßïÍ≥ÑÌïòÎÖ∏Îãà Í∑∏Îü¨ÎØÄÎ°ú ÎÑ§Í∞Ä Ïó¥Ïã¨ÏùÑ ÎÇ¥Îùº¬†ÌöåÍ∞úÌïòÎùº', zh: 'Âá°ÊàëÊâÄÁñºÊÑõÁöÑÔºåÊàëÂ∞±Ë≤¨ÂÇôÁÆ°Êïô‰ªñÔºõÊâÄ‰ª•‰Ω†Ë¶ÅÁôºÁÜ±ÂøÉÔºå‰πüË¶ÅÊÇîÊîπ„ÄÇ' },
                { verse: 20, ko: 'Î≥ºÏßÄÏñ¥Îã§¬†ÎÇ¥Í∞Ä¬†Î¨∏¬†Î∞ñÏóê ÏÑúÏÑú ÎëêÎìúÎ¶¨ÎÖ∏Îãà ÎàÑÍµ¨Îì†ÏßÄ ÎÇ¥ ÏùåÏÑ±ÏùÑ Îì£Í≥†¬†Î¨∏ÏùÑ Ïó¥Î©¥ ÎÇ¥Í∞Ä Í∑∏ÏóêÍ≤åÎ°ú Îì§Ïñ¥Í∞Ä Í∑∏Î°ú ÎçîÎ∂àÏñ¥ Î®πÍ≥† Í∑∏Îäî ÎÇòÎ°ú ÎçîÎ∂àÏñ¥ Î®πÏúºÎ¶¨Îùº', zh: 'ÁúãÂì™ÔºåÊàëÁ´ôÂú®ÈñÄÂ§ñÂè©ÈñÄÔºåËã•ÊúâËÅΩË¶ãÊàëËÅ≤Èü≥Â∞±ÈñãÈñÄÁöÑÔºåÊàëË¶ÅÈÄ≤Âà∞‰ªñÈÇ£Ë£èÂéªÔºåÊàëËàá‰ªñÔºå‰ªñËàáÊàë‰∏ÄÂêåÂùêÂ∏≠„ÄÇ' },
                { verse: 21, ko: 'Ïù¥Í∏∞Îäî Í∑∏ÏóêÍ≤åÎäî ÎÇ¥Í∞Ä ÎÇ¥¬†Î≥¥Ï¢åÏóê Ìï®Íªò ÏïâÍ≤å ÌïòÏó¨ Ï£ºÍ∏∞Î•º ÎÇ¥Í∞Ä Ïù¥Í∏∞Í≥† ÏïÑÎ≤ÑÏßÄ¬†Î≥¥Ï¢åÏóê Ìï®Íªò ÏïâÏùÄ Í≤ÉÍ≥º Í∞ôÏù¥ ÌïòÎ¶¨Îùº', zh: 'ÂæóÂãùÁöÑÔºåÊàëË¶ÅË≥ú‰ªñÂú®ÊàëÂØ∂Â∫ß‰∏äËàáÊàëÂêåÂùêÔºåÂ∞±Â¶ÇÊàëÂæó‰∫ÜÂãùÔºåÂú®ÊàëÁà∂ÁöÑÂØ∂Â∫ß‰∏äËàá‰ªñÂêåÂùê‰∏ÄËà¨„ÄÇ' },
                { verse: 22, ko: 'Í∑Ä ÏûàÎäî ÏûêÎäî¬†ÏÑ±Î†πÏù¥ ÍµêÌöåÎì§ÏóêÍ≤å ÌïòÏãúÎäî¬†ÎßêÏîÄÏùÑ Îì§ÏùÑÏßÄÏñ¥Îã§', zh: 'ËÅñÈùàÂêëÁúæÊïôÊúÉÊâÄË™™ÁöÑË©±ÔºåÂá°ÊúâËÄ≥ÁöÑÔºåÂ∞±ÊáâÁï∂ËÅΩÔºÅ„Äè„Äç' },
            ],
        },
        // ÂÖ∂‰ªñÊõ∏Âç∑Ë´ãÊåâÁÖßÊ≠§Ê†ºÂºèÊ∑ªÂä†Ôºö
        // 'exo': { 1: [...], 2: [...] },
    };
    
    // Êõ∏Âç∑Á∞°Á®±Â∞çÁÖßË°®
    const bookAbbreviations = {
        'gen': { ko: 'Ï∞Ω', zh: 'Ââµ' },
        'exo': { ko: 'Ï∂ú', zh: 'Âá∫' },
        'lev': { ko: 'Î†à', zh: 'Âà©' },
        'num': { ko: 'ÎØº', zh: 'Ê∞ë' },
        'deu': { ko: 'Ïã†', zh: 'Áî≥' },
        'jos': { ko: 'Ïàò', zh: 'Êõ∏' },
        'jdg': { ko: 'ÏÇø', zh: 'Â£´' },
        'rut': { ko: 'Î£ª', zh: 'Âæó' },
        '1sa': { ko: 'ÏÇºÏÉÅ', zh: 'Êíí‰∏ä' },
        '2sa': { ko: 'ÏÇºÌïò', zh: 'Êíí‰∏ã' },
        '1ki': { ko: 'ÏôïÏÉÅ', zh: 'Áéã‰∏ä' },
        '2ki': { ko: 'ÏôïÌïò', zh: 'Áéã‰∏ã' },
        '1ch': { ko: 'ÎåÄÏÉÅ', zh: '‰ª£‰∏ä' },
        '2ch': { ko: 'ÎåÄÌïò', zh: '‰ª£‰∏ã' },
        'ezr': { ko: 'Ïä§', zh: 'Êãâ' },
        'neh': { ko: 'Îäê', zh: 'Â∞º' },
        'est': { ko: 'Ïóê', zh: 'ÊñØ' },
        'job': { ko: 'Ïö•', zh: '‰ºØ' },
        'psa': { ko: 'Ïãú', zh: 'Ë©©' },
        'pro': { ko: 'Ïû†', zh: 'ÁÆ¥' },
        'ecc': { ko: 'Ï†Ñ', zh: 'ÂÇ≥' },
        'sng': { ko: 'ÏïÑ', zh: 'Ê≠å' },
        'isa': { ko: 'ÏÇ¨', zh: 'Ë≥Ω' },
        'jer': { ko: 'Î†ò', zh: 'ËÄ∂' },
        'lam': { ko: 'Ïï†', zh: 'ÂìÄ' },
        'ezk': { ko: 'Í≤î', zh: 'Áµê' },
        'dan': { ko: 'Îã®', zh: '‰ΩÜ' },
        'hos': { ko: 'Ìò∏', zh: '‰Ωï' },
        'jol': { ko: 'Ïöú', zh: 'Áè•' },
        'amo': { ko: 'Ïïî', zh: 'Êë©' },
        'oba': { ko: 'Ïòµ', zh: '‰øÑ' },
        'jon': { ko: 'Ïöò', zh: 'Êãø' },
        'mic': { ko: 'ÎØ∏', zh: 'ÂΩå' },
        'nam': { ko: 'ÎÇò', zh: 'È¥ª' },
        'hab': { ko: 'Ìï©', zh: 'Âìà' },
        'zep': { ko: 'Ïäµ', zh: 'Áï™' },
        'hag': { ko: 'Ìïô', zh: 'Ë©≤' },
        'zec': { ko: 'Ïä•', zh: '‰∫û' },
        'mal': { ko: 'Îßê', zh: 'Áë™' },
        'mat': { ko: 'Îßà', zh: 'Â§™' },
        'mrk': { ko: 'Îßâ', zh: 'ÂèØ' },
        'luk': { ko: 'ÎàÖ', zh: 'Ë∑Ø' },
        'jhn': { ko: 'Ïöî', zh: 'Á¥Ñ' },
        'act': { ko: 'Ìñâ', zh: 'Âæí' },
        'rom': { ko: 'Î°¨', zh: 'ÁæÖ' },
        '1co': { ko: 'Í≥†Ï†Ñ', zh: 'ÊûóÂâç' },
        '2co': { ko: 'Í≥†ÌõÑ', zh: 'ÊûóÂæå' },
        'gal': { ko: 'Í∞à', zh: 'Âä†' },
        'eph': { ko: 'Ïó°', zh: 'Âºó' },
        'php': { ko: 'Îπå', zh: 'ËÖì' },
        'col': { ko: 'Í≥®', zh: 'Ë•ø' },
        '1th': { ko: 'ÏÇ¥Ï†Ñ', zh: 'Â∏ñÂâç' },
        '2th': { ko: 'ÏÇ¥ÌõÑ', zh: 'Â∏ñÂæå' },
        '1ti': { ko: 'Îî§Ï†Ñ', zh: 'ÊèêÂâç' },
        '2ti': { ko: 'Îî§ÌõÑ', zh: 'ÊèêÂæå' },
        'tit': { ko: 'Îîõ', zh: 'Â§ö' },
        'phm': { ko: 'Î™¨', zh: 'ÈñÄ' },
        'heb': { ko: 'Ìûà', zh: '‰æÜ' },
        'jas': { ko: 'ÏïΩ', zh: 'ÈõÖ' },
        '1pe': { ko: 'Î≤ßÏ†Ñ', zh: 'ÂΩºÂâç' },
        '2pe': { ko: 'Î≤ßÌõÑ', zh: 'ÂΩºÂæå' },
        '1jn': { ko: 'ÏöîÏùº', zh: 'Á¥ÑÂ£π' },
        '2jn': { ko: 'ÏöîÏù¥', zh: 'Á¥ÑË≤≥' },
        '3jn': { ko: 'ÏöîÏÇº', zh: 'Á¥ÑÂèÉ' },
        'jud': { ko: 'Ïú†', zh: 'Áå∂' },
        'rev': { ko: 'Í≥Ñ', zh: 'Âïü' }
    };
    
    let currentBibleBook = null;
    let currentBibleChapter = null;
    let selectedVerseData = null;
    
    // ÂàùÂßãÂåñËÅñÁ∂ìÈ†ÅÈù¢
    function initBiblePage() {
        renderBibleBooks('oldTestament', 'oldTestamentBooks');
        renderBibleBooks('newTestament', 'newTestamentBooks');
    }
    
    // Ê∏≤ÊüìÊõ∏Âç∑ÂàóË°®
    function renderBibleBooks(testament, containerId) {
        const container = document.getElementById(containerId);
        if (!container) return;
        
        container.innerHTML = '';
        bibleBooks[testament].forEach(book => {
            const btn = document.createElement('div');
            btn.className = 'bible-book-btn';
            btn.id = `bible-book-${book.id}`;
            btn.innerHTML = `<span class="ko">${book.ko}</span><span class="zh">${book.zh}</span>`;
            btn.onclick = () => selectBibleBook(book);
            container.appendChild(btn);
        });
    }
    
    // ÈÅ∏ÊìáÊõ∏Âç∑
    function selectBibleBook(book) {
        // ÁßªÈô§ÂÖ∂‰ªñÊõ∏Âç∑ÁöÑÈÅ∏‰∏≠ÁãÄÊÖã
        document.querySelectorAll('.bible-book-btn').forEach(btn => btn.classList.remove('active'));
        
        // ÈÅ∏‰∏≠Áï∂ÂâçÊõ∏Âç∑
        const currentBtn = document.getElementById(`bible-book-${book.id}`);
        if (currentBtn) currentBtn.classList.add('active');
        
        currentBibleBook = book;
        
        // È°ØÁ§∫Á´†ÁØÄÈÅ∏Êìá
        const chaptersContainer = document.getElementById('bibleChaptersContainer');
        const chaptersTitle = document.getElementById('bibleChaptersTitle');
        const chaptersGrid = document.getElementById('bibleChaptersGrid');
        
        chaptersTitle.innerHTML = `${book.ko} / ${book.zh}`;
        chaptersGrid.innerHTML = '';
        
        for (let i = 1; i <= book.chapters; i++) {
            const btn = document.createElement('div');
            btn.className = 'bible-chapter-btn';
            btn.textContent = i;
            btn.onclick = () => openBibleChapter(book, i);
            chaptersGrid.appendChild(btn);
        }
        
        chaptersContainer.classList.add('show');
        
        // ÊªæÂãïÂà∞Á´†ÁØÄÈÅ∏ÊìáÂçÄ
        chaptersContainer.scrollIntoView({ behavior: 'smooth', block: 'start' });
    }
    
    // ÈñãÂïüËÅñÁ∂ìÁ´†ÁØÄ
    function openBibleChapter(book, chapter) {
        const booksList = document.getElementById('bibleBooksList');
        const contentView = document.getElementById('bibleContentView');
        const contentTitle = document.getElementById('bibleContentTitle');
        const versesContainer = document.getElementById('bibleVerses');
        
        // Ë®òÈåÑÁï∂ÂâçÁ´†ÁØÄ
        currentBibleChapter = chapter;
        
        // Ë®≠ÂÆöÊ®ôÈ°å
        contentTitle.querySelector('.ko').textContent = `${book.ko} ${chapter}Ïû•`;
        contentTitle.querySelector('.zh').textContent = `${book.zh} Á¨¨${chapter}Á´†`;
        
        // ËºâÂÖ•Á∂ìÊñáÂÖßÂÆπ
        const verses = bibleContent[book.id]?.[chapter];
        
        if (verses && verses.length > 0) {
            versesContainer.innerHTML = verses.map((v, index) => {
                // Â¶ÇÊûúÊòØÊÆµËêΩÊ®ôÈ°å
                if (v.type === 'heading') {
                    return `
                        <div class="bible-section-heading">
                            <span class="heading-ko">${v.ko}</span>
                            <span class="heading-zh">${v.zh}</span>
                        </div>
                    `;
                }
                // ‰∏ÄËà¨Á∂ìÊñá - Èï∑ÊåâÊàñÂè≥ÈçµËß∏ÁôºË§áË£ΩÈÅ∏ÂñÆ
                return `
                    <div class="bible-verse" 
                         data-verse="${v.verse}" 
                         data-ko="${encodeURIComponent(v.ko)}" 
                         data-zh="${encodeURIComponent(v.zh)}"
                         oncontextmenu="window.handleVerseContextMenu(event, this)"
                         ontouchstart="window.handleVerseTouchStart(event, this)"
                         ontouchend="window.handleVerseTouchEnd(event, this)"
                         ontouchmove="window.handleVerseTouchMove(event, this)"
                         onmousedown="window.handleVerseMouseDown(event, this)"
                         onmouseup="window.handleVerseMouseUp(event, this)"
                         onmouseleave="window.handleVerseMouseLeave(event, this)">
                        <span class="verse-num">${v.verse}</span>
                        <span class="verse-text-ko">${v.ko}</span>
                        <span class="verse-text-zh">${v.zh}</span>
                    </div>
                `;
            }).join('');
        } else {
            versesContainer.innerHTML = `
                <div style="text-align: center; padding: 50px; color: #888;">
                    <p>Ïù¥ Ïû•Ïùò ÎÇ¥Ïö©Ïù¥ ÏïÑÏßÅ Ï∂îÍ∞ÄÎêòÏßÄ ÏïäÏïòÏäµÎãàÎã§.</p>
                    <p>Ê≠§Á´†ÁØÄÂÖßÂÆπÂ∞öÊú™Ê∑ªÂä†„ÄÇ</p>
                </div>
            `;
        }
        
        // ÂàáÊèõË¶ñÂúñ
        booksList.style.display = 'none';
        contentView.classList.add('show');
        
        // ÊªæÂãïÂà∞È†ÇÈÉ®
        window.scrollTo({ top: 0, behavior: 'smooth' });
    }
    
    // ÈóúÈñâËÅñÁ∂ìÂÖßÂÆπÔºåËøîÂõûÊõ∏Âç∑ÂàóË°®
    window.closeBibleContent = () => {
        const booksList = document.getElementById('bibleBooksList');
        const contentView = document.getElementById('bibleContentView');
        
        contentView.classList.remove('show');
        booksList.style.display = 'block';
        
        // ÊªæÂãïÂà∞Á´†ÁØÄÈÅ∏ÊìáÂçÄ
        const chaptersContainer = document.getElementById('bibleChaptersContainer');
        if (chaptersContainer && chaptersContainer.classList.contains('show')) {
            setTimeout(() => {
                chaptersContainer.scrollIntoView({ behavior: 'smooth', block: 'start' });
            }, 100);
        }
    };
    
    // ËøîÂõûÈ†ÇÈÉ®
    window.scrollToTop = () => {
        window.scrollTo({ top: 0, behavior: 'smooth' });
    };
    
    // Áõ£ËÅΩÊªæÂãï‰∫ã‰ª∂ÔºåÈ°ØÁ§∫/Èö±ËóèËøîÂõûÈ†ÇÈÉ®ÊåâÈàï
    window.addEventListener('scroll', () => {
        const scrollTopBtn = document.getElementById('scrollTopBtn');
        if (window.scrollY > 300) {
            scrollTopBtn.classList.add('show');
        } else {
            scrollTopBtn.classList.remove('show');
        }
    });
    
    // ===== Èï∑ÊåâË§áË£ΩÂäüËÉΩ =====
    const LONG_PRESS_DURATION = 500; // Èï∑ÊåâÊôÇÈñì 500ms
    let longPressTimer = null;
    let longPressElement = null;
    let longPressTriggered = false;
    let touchStartX = 0;
    let touchStartY = 0;
    
    // Ê∏ÖÈô§Èï∑ÊåâÁãÄÊÖã
    function clearLongPressState() {
        if (longPressTimer) {
            clearTimeout(longPressTimer);
            longPressTimer = null;
        }
        if (longPressElement) {
            longPressElement.classList.remove('long-press');
            longPressElement = null;
        }
        longPressTriggered = false;
    }
    
    // Ëß∏ÁôºÈï∑ÊåâÊàêÂäü
    function triggerLongPress(event, element) {
        longPressTriggered = true;
        element.classList.remove('long-press');
        element.classList.add('long-press-success');
        
        // ÈúáÂãïÂèçÈ•ã
        if (navigator.vibrate) {
            navigator.vibrate(50);
        }
        
        // Áü≠Êö´Âª∂ÈÅ≤ÂæåÈ°ØÁ§∫ÈÅ∏ÂñÆ
        setTimeout(() => {
            element.classList.remove('long-press-success');
            showCopyMenu(event, element);
        }, 100);
    }
    
    // ÊâãÊ©üËß∏ÊéßÈñãÂßã
    window.handleVerseTouchStart = (event, element) => {
        clearLongPressState();
        longPressElement = element;
        touchStartX = event.touches[0].clientX;
        touchStartY = event.touches[0].clientY;
        
        element.classList.add('long-press');
        
        longPressTimer = setTimeout(() => {
            triggerLongPress(event, element);
        }, LONG_PRESS_DURATION);
    };
    
    // ÊâãÊ©üËß∏ÊéßÁµêÊùü
    window.handleVerseTouchEnd = (event, element) => {
        if (!longPressTriggered) {
            clearLongPressState();
        }
    };
    
    // ÊâãÊ©üËß∏ÊéßÁßªÂãïÔºàÂèñÊ∂àÈï∑ÊåâÔºâ
    window.handleVerseTouchMove = (event, element) => {
        if (longPressTimer) {
            const touch = event.touches[0];
            const moveX = Math.abs(touch.clientX - touchStartX);
            const moveY = Math.abs(touch.clientY - touchStartY);
            
            // ÁßªÂãïË∂ÖÈÅé10pxÂâáÂèñÊ∂àÈï∑Êåâ
            if (moveX > 10 || moveY > 10) {
                clearLongPressState();
            }
        }
    };
    
    // ÈõªËÖ¶ÊªëÈº†Êåâ‰∏ãÔºàÂ∑¶ÈçµÈï∑ÊåâÔºâ
    window.handleVerseMouseDown = (event, element) => {
        // Âè™ËôïÁêÜÂ∑¶Èçµ
        if (event.button !== 0) return;
        
        clearLongPressState();
        longPressElement = element;
        
        element.classList.add('long-press');
        
        longPressTimer = setTimeout(() => {
            triggerLongPress(event, element);
        }, LONG_PRESS_DURATION);
    };
    
    // ÈõªËÖ¶ÊªëÈº†ÊîæÈñã
    window.handleVerseMouseUp = (event, element) => {
        if (!longPressTriggered) {
            clearLongPressState();
        }
    };
    
    // ÈõªËÖ¶ÊªëÈº†Èõ¢Èñã
    window.handleVerseMouseLeave = (event, element) => {
        if (!longPressTriggered) {
            clearLongPressState();
        }
    };
    
    // ÈõªËÖ¶Âè≥ÈçµÈÅ∏ÂñÆ
    window.handleVerseContextMenu = (event, element) => {
        event.preventDefault();
        event.stopPropagation();
        clearLongPressState();
        showCopyMenu(event, element);
        return false;
    };
    
    // Á¶ÅÁî®ËÅñÁ∂ìÂÖßÂÆπÂçÄÂüüÁöÑÁ≥ªÁµ±Âè≥ÈçµÈÅ∏ÂñÆ
    document.addEventListener('DOMContentLoaded', () => {
        const bibleVerses = document.getElementById('bibleVerses');
        const previewBody = document.getElementById('bibleSearchPreviewBody');
        
        if (bibleVerses) {
            bibleVerses.addEventListener('contextmenu', (e) => {
                if (e.target.closest('.bible-verse')) {
                    e.preventDefault();
                }
            });
        }
        
        if (previewBody) {
            previewBody.addEventListener('contextmenu', (e) => {
                if (e.target.closest('.bible-search-preview-verse')) {
                    e.preventDefault();
                }
            });
        }
    });
    
    // È°ØÁ§∫Ë§áË£ΩÈÅ∏ÂñÆ
    function showCopyMenu(event, element) {
        const verse = element.dataset.verse;
        const ko = decodeURIComponent(element.dataset.ko);
        const zh = decodeURIComponent(element.dataset.zh);
        
        selectedVerseData = {
            verse: verse,
            ko: ko,
            zh: zh,
            bookId: currentBibleBook ? currentBibleBook.id : element.dataset.bookId,
            chapter: currentBibleChapter || element.dataset.chapter
        };
        
        const menu = document.getElementById('bibleCopyMenu');
        const overlay = document.getElementById('bibleCopyOverlay');
        
        // Ê†πÊìöÁï∂ÂâçË™ûË®ÄÊõ¥Êñ∞ÈÅ∏ÂñÆÊñáÂ≠ó
        updateCopyMenuLanguage();
        
        // Ë®àÁÆóÈÅ∏ÂñÆ‰ΩçÁΩÆ
        let x, y;
        if (event.touches && event.touches.length > 0) {
            x = event.touches[0].clientX;
            y = event.touches[0].clientY;
        } else if (event.changedTouches && event.changedTouches.length > 0) {
            x = event.changedTouches[0].clientX;
            y = event.changedTouches[0].clientY;
        } else {
            x = event.clientX;
            y = event.clientY;
        }
        
        // Á¢∫‰øùÈÅ∏ÂñÆ‰∏çË∂ÖÂá∫Ëû¢Âπï
        const menuWidth = 150;
        const menuHeight = 150;
        
        if (x + menuWidth > window.innerWidth) {
            x = window.innerWidth - menuWidth - 10;
        }
        if (y + menuHeight > window.innerHeight) {
            y = window.innerHeight - menuHeight - 10;
        }
        if (x < 10) x = 10;
        if (y < 10) y = 10;
        
        menu.style.left = x + 'px';
        menu.style.top = y + 'px';
        
        menu.classList.add('show');
        overlay.classList.add('show');
    }
    
    // Ê†πÊìöÁï∂ÂâçË™ûË®ÄÊõ¥Êñ∞Ë§áË£ΩÈÅ∏ÂñÆÊñáÂ≠ó
    function updateCopyMenuLanguage() {
        const copyMenuZh = document.getElementById('copyMenuZh');
        const copyMenuKo = document.getElementById('copyMenuKo');
        const copyMenuBoth = document.getElementById('copyMenuBoth');
        const copyMenuPartial = document.getElementById('copyMenuPartial');
        
        if (currentLang === 'ko') {
            copyMenuZh.textContent = 'üìã Ï§ëÍµ≠Ïñ¥ Î≥µÏÇ¨';
            copyMenuKo.textContent = 'üìã ÌïúÍµ≠Ïñ¥ Î≥µÏÇ¨';
            copyMenuBoth.textContent = 'üìã Îëò Îã§ Î≥µÏÇ¨';
            copyMenuPartial.textContent = '‚úÇÔ∏è Î∂ÄÎ∂Ñ Î≥µÏÇ¨';
        } else {
            copyMenuZh.textContent = 'üìã Ë§áË£Ω‰∏≠Êñá';
            copyMenuKo.textContent = 'üìã Ë§áË£ΩÈüìÊñá';
            copyMenuBoth.textContent = 'üìã Ë§áË£ΩÈõôË™û';
            copyMenuPartial.textContent = '‚úÇÔ∏è ÈÉ®ÂàÜË§áË£Ω';
        }
    }
    
    // ÈóúÈñâË§áË£ΩÈÅ∏ÂñÆ
    window.closeCopyMenu = () => {
        document.getElementById('bibleCopyMenu').classList.remove('show');
        document.getElementById('bibleCopyOverlay').classList.remove('show');
        selectedVerseData = null;
    };
    
    // ÈñãÂïüÈÉ®ÂàÜË§áË£ΩÂΩàÁ™ó
    window.openPartialCopy = () => {
        if (!selectedVerseData) return;
        
        // ÈóúÈñâË§áË£ΩÈÅ∏ÂñÆ
        document.getElementById('bibleCopyMenu').classList.remove('show');
        document.getElementById('bibleCopyOverlay').classList.remove('show');
        
        const modal = document.getElementById('biblePartialCopyModal');
        const content = document.getElementById('partialCopyContent');
        const title = document.getElementById('partialCopyTitle');
        const hint = document.getElementById('partialCopyHint');
        const btn = document.getElementById('partialCopyBtn');
        
        const abbr = bookAbbreviations[selectedVerseData.bookId];
        const chapter = selectedVerseData.chapter;
        const verse = selectedVerseData.verse;
        
        // Êõ¥Êñ∞Ë™ûË®Ä
        if (currentLang === 'ko') {
            title.textContent = 'Î∂ÄÎ∂Ñ Î≥µÏÇ¨';
            hint.textContent = 'ÌÖçÏä§Ìä∏Î•º ÏÑ†ÌÉùÌïú ÌõÑ ÏïÑÎûò Î≤ÑÌäºÏùÑ ÌÅ¥Î¶≠ÌïòÏó¨ Î≥µÏÇ¨';
            btn.textContent = 'ÏÑ†ÌÉùÌïú ÌÖçÏä§Ìä∏ Î≥µÏÇ¨';
        } else {
            title.textContent = 'ÈÉ®ÂàÜË§áË£Ω';
            hint.textContent = 'ÈÅ∏ÂèñÊñáÂ≠óÂæåÈªûÊìä‰∏ãÊñπÊåâÈàïË§áË£Ω';
            btn.textContent = 'Ë§áË£ΩÈÅ∏ÂèñÁöÑÊñáÂ≠ó';
        }
        
        // Ê∏≤ÊüìÁ∂ìÊñáÂÖßÂÆπÔºàÂÖÅË®±ÈÅ∏ÂèñÔºâ
        content.innerHTML = `
            <span class="verse-label">${abbr.ko} ${chapter}:${verse} / ${abbr.zh} ${chapter}:${verse}</span>
            <span class="verse-ko">${selectedVerseData.ko}</span>
            <span class="verse-zh">${selectedVerseData.zh}</span>
        `;
        
        modal.classList.add('show');
    };
    
    // ÈóúÈñâÈÉ®ÂàÜË§áË£ΩÂΩàÁ™ó
    window.closePartialCopy = () => {
        document.getElementById('biblePartialCopyModal').classList.remove('show');
    };
    
    // Ë§áË£ΩÈÅ∏ÂèñÁöÑÊñáÂ≠ó
    window.copySelectedText = () => {
        const selection = window.getSelection();
        const selectedText = selection.toString().trim();
        
        if (!selectedText) {
            const msg = currentLang === 'ko' ? 'ÌÖçÏä§Ìä∏Î•º Î®ºÏ†Ä ÏÑ†ÌÉùÌïòÏÑ∏Ïöî.' : 'Ë´ãÂÖàÈÅ∏ÂèñÊñáÂ≠ó„ÄÇ';
            alert(msg);
            return;
        }
        
        navigator.clipboard.writeText(selectedText).then(() => {
            const t = i18n[currentLang];
            alert(t.msgCopied || 'Â∑≤Ë§áË£ΩÔºÅ');
            closePartialCopy();
        }).catch(err => {
            // ÂÇôÁî®Ë§áË£ΩÊñπÊ≥ï
            const textarea = document.createElement('textarea');
            textarea.value = selectedText;
            document.body.appendChild(textarea);
            textarea.select();
            document.execCommand('copy');
            document.body.removeChild(textarea);
            
            const t = i18n[currentLang];
            alert(t.msgCopied || 'Â∑≤Ë§áË£ΩÔºÅ');
            closePartialCopy();
        });
    };
    
    // Ë§áË£ΩÁ∂ìÊñá
    window.copyVerse = (lang) => {
        if (!selectedVerseData) return;
        
        const abbr = bookAbbreviations[selectedVerseData.bookId];
        const chapter = selectedVerseData.chapter;
        const verse = selectedVerseData.verse;
        
        let textToCopy = '';
        
        if (lang === 'zh') {
            // ‰∏≠ÊñáÊ†ºÂºèÔºöÂâµ 1:1 Ëµ∑ÂàùÔºåÁ•ûÂâµÈÄ†Â§©Âú∞„ÄÇ
            textToCopy = `${abbr.zh} ${chapter}:${verse} ${selectedVerseData.zh}`;
        } else if (lang === 'ko') {
            // ÈüìÊñáÊ†ºÂºèÔºöÏ∞Ω 1:1 ÌÉúÏ¥àÏóê ÌïòÎÇòÎãòÏù¥ Ï≤úÏßÄÎ•º Ï∞ΩÏ°∞ÌïòÏãúÎãàÎùº
            textToCopy = `${abbr.ko} ${chapter}:${verse} ${selectedVerseData.ko}`;
        } else if (lang === 'both') {
            // ÈõôË™ûÊ†ºÂºè
            textToCopy = `${abbr.ko} ${chapter}:${verse} ${selectedVerseData.ko}\n${abbr.zh} ${chapter}:${verse} ${selectedVerseData.zh}`;
        }
        
        // Ë§áË£ΩÂà∞Ââ™Ë≤ºÁ∞ø
        navigator.clipboard.writeText(textToCopy).then(() => {
            // È°ØÁ§∫Ë§áË£ΩÊàêÂäüÊèêÁ§∫
            const t = i18n[currentLang];
            alert(t.msgCopied || 'Â∑≤Ë§áË£ΩÔºÅ');
        }).catch(err => {
            // ÂÇôÁî®ÊñπÊ≥ï
            const textarea = document.createElement('textarea');
            textarea.value = textToCopy;
            document.body.appendChild(textarea);
            textarea.select();
            document.execCommand('copy');
            document.body.removeChild(textarea);
            
            const t = i18n[currentLang];
            alert(t.msgCopied || 'Â∑≤Ë§áË£ΩÔºÅ');
        });
        
        closeCopyMenu();
    };
    
    // ===== ÊªëÂãïÊôÇÈóúÈñâË§áË£ΩÈÅ∏ÂñÆ =====
    let scrollTouchStartY = 0;
    document.addEventListener('touchstart', (e) => {
        scrollTouchStartY = e.touches[0].clientY;
    }, { passive: true });
    
    document.addEventListener('touchmove', (e) => {
        const touchMoveY = e.touches[0].clientY;
        const diff = Math.abs(touchMoveY - scrollTouchStartY);
        if (diff > 10) {
            closeCopyMenu();
        }
    }, { passive: true });
    
    // ÊªæÂãïÊôÇÈóúÈñâË§áË£ΩÈÅ∏ÂñÆ
    window.addEventListener('scroll', () => {
        closeCopyMenu();
    }, { passive: true });
    
    // ===== ËÅñÁ∂ìÊêúÂ∞ãÂäüËÉΩ =====
    const SEARCH_HISTORY_KEY = 'bible_search_history';
    const MAX_HISTORY_ITEMS = 5;
    let searchHistory = [];
    
    // ËºâÂÖ•ÊêúÂ∞ãÊ≠∑Âè≤
    function loadSearchHistory() {
        try {
            const saved = localStorage.getItem(SEARCH_HISTORY_KEY);
            if (saved) {
                searchHistory = JSON.parse(saved);
            }
        } catch (e) {
            searchHistory = [];
        }
        renderSearchHistory();
    }
    
    // ÂÑ≤Â≠òÊêúÂ∞ãÊ≠∑Âè≤
    function saveSearchHistory() {
        try {
            localStorage.setItem(SEARCH_HISTORY_KEY, JSON.stringify(searchHistory));
        } catch (e) {}
    }
    
    // Êñ∞Â¢ûÊêúÂ∞ãÊ≠∑Âè≤
    function addSearchHistory(keyword) {
        if (!keyword || keyword.length < 2) return;
        
        // ÁßªÈô§ÈáçË§áÁöÑ
        searchHistory = searchHistory.filter(k => k !== keyword);
        // Âä†Âà∞ÊúÄÂâçÈù¢
        searchHistory.unshift(keyword);
        // ‰øùÁïôÊúÄÂ§ö5ÂÄã
        if (searchHistory.length > MAX_HISTORY_ITEMS) {
            searchHistory = searchHistory.slice(0, MAX_HISTORY_ITEMS);
        }
        saveSearchHistory();
        renderSearchHistory();
    }
    
    // Ê∏≤ÊüìÊêúÂ∞ãÊ≠∑Âè≤
    function renderSearchHistory() {
        const container = document.getElementById('bibleSearchHistory');
        const section = document.getElementById('bibleSearchHistorySection');
        
        if (searchHistory.length === 0) {
            section.style.display = 'none';
            return;
        }
        
        section.style.display = 'block';
        container.innerHTML = searchHistory.map(keyword => 
            `<button class="bible-search-history-item" onclick="window.searchFromHistory('${keyword}')">${keyword}</button>`
        ).join('');
    }
    
    // ÂæûÊ≠∑Âè≤ÊêúÂ∞ã
    window.searchFromHistory = (keyword) => {
        document.getElementById('bibleSearchInput').value = keyword;
        handleSearchInput(keyword);
    };
    
    // ÈñãÂïüÊêúÂ∞ãÈù¢Êùø
    window.openBibleSearch = () => {
        document.getElementById('bibleSearchPanel').classList.add('show');
        document.getElementById('bibleSearchOverlay').classList.add('show');
        document.getElementById('bibleSearchInput').focus();
        
        // Êõ¥Êñ∞ÊêúÂ∞ãÊèêÁ§∫Ë™ûË®Ä
        updateSearchLanguage();
        loadSearchHistory();
    };
    
    // ÈóúÈñâÊêúÂ∞ãÈù¢Êùø
    window.closeBibleSearch = () => {
        document.getElementById('bibleSearchPanel').classList.remove('show');
        document.getElementById('bibleSearchOverlay').classList.remove('show');
        clearSearchInput();
    };
    
    // Êõ¥Êñ∞ÊêúÂ∞ãÈù¢ÊùøË™ûË®Ä
    function updateSearchLanguage() {
        const input = document.getElementById('bibleSearchInput');
        const hint = document.getElementById('txtSearchHint');
        const historyTitle = document.getElementById('txtSearchHistory');
        
        if (currentLang === 'ko') {
            input.placeholder = 'ÏÑ±Í≤Ω Í≤ÄÏÉâ...';
            hint.innerHTML = '2Ïûê Ïù¥ÏÉÅ ÏûÖÎ†•ÌïòÏÑ∏Ïöî';
            historyTitle.textContent = 'ÏµúÍ∑º Í≤ÄÏÉâ';
        } else {
            input.placeholder = 'ÊêúÂ∞ãÁ∂ìÊñá...';
            hint.innerHTML = 'Ë´ãËº∏ÂÖ•2ÂÄãÂ≠ó‰ª•‰∏ä';
            historyTitle.textContent = 'ËøëÊúüÊêúÂ∞ã';
        }
    }
    
    // Ê∏ÖÈô§ÊêúÂ∞ãËº∏ÂÖ•
    window.clearSearchInput = () => {
        document.getElementById('bibleSearchInput').value = '';
        document.getElementById('bibleSearchClear').classList.remove('show');
        document.getElementById('bibleSearchResults').style.display = 'none';
        document.getElementById('bibleSearchHint').style.display = 'block';
        document.getElementById('bibleSearchHistorySection').style.display = searchHistory.length > 0 ? 'block' : 'none';
    };
    
    // ËôïÁêÜÊêúÂ∞ãËº∏ÂÖ•
    window.handleSearchInput = (value) => {
        const clearBtn = document.getElementById('bibleSearchClear');
        const results = document.getElementById('bibleSearchResults');
        const hint = document.getElementById('bibleSearchHint');
        const historySection = document.getElementById('bibleSearchHistorySection');
        
        if (value.length > 0) {
            clearBtn.classList.add('show');
        } else {
            clearBtn.classList.remove('show');
        }
        
        if (value.length >= 2) {
            // Âü∑Ë°åÊêúÂ∞ã
            const searchResults = searchBible(value);
            renderSearchResults(searchResults, value);
            results.style.display = 'block';
            hint.style.display = 'none';
            historySection.style.display = 'none';
            
            // Âä†ÂÖ•ÊêúÂ∞ãÊ≠∑Âè≤
            addSearchHistory(value);
        } else {
            results.style.display = 'none';
            hint.style.display = 'block';
            historySection.style.display = searchHistory.length > 0 ? 'block' : 'none';
        }
    };
    
    // ÊêúÂ∞ãËÅñÁ∂ì
    function searchBible(keyword) {
        const results = [];
        const lowerKeyword = keyword.toLowerCase();
        
        // ÈÅçÊ≠∑ÊâÄÊúâÊõ∏Âç∑ÂíåÁ´†ÁØÄ
        for (const bookId in bibleContent) {
            const book = [...bibleBooks.oldTestament, ...bibleBooks.newTestament].find(b => b.id === bookId);
            if (!book) continue;
            
            for (const chapter in bibleContent[bookId]) {
                const verses = bibleContent[bookId][chapter];
                for (const verse of verses) {
                    if (verse.type === 'heading') continue;
                    
                    // ÊêúÂ∞ã‰∏≠ÊñáÂíåÈüìÊñá
                    if (verse.zh.includes(keyword) || verse.ko.includes(keyword)) {
                        results.push({
                            bookId: bookId,
                            bookKo: book.ko,
                            bookZh: book.zh,
                            chapter: parseInt(chapter),
                            verse: verse.verse,
                            ko: verse.ko,
                            zh: verse.zh
                        });
                    }
                }
            }
        }
        
        return results;
    }
    
    // Ê∏≤ÊüìÊêúÂ∞ãÁµêÊûú
    function renderSearchResults(results, keyword) {
        const container = document.getElementById('bibleSearchResults');
        
        if (results.length === 0) {
            container.innerHTML = `
                <div class="bible-search-no-result">
                    ${currentLang === 'ko' ? 'Í≤ÄÏÉâ Í≤∞Í≥ºÍ∞Ä ÏóÜÏäµÎãàÎã§' : 'Êâæ‰∏çÂà∞Áõ∏ÈóúÁµêÊûú'}
                </div>
            `;
            return;
        }
        
        // ÂÆâÂÖ®ËôïÁêÜÈóúÈçµÂ≠ó‰∏≠ÁöÑÁâπÊÆäÂ≠óÁ¨¶
        const escapeRegExp = (str) => str.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
        const safeKeyword = escapeRegExp(keyword);
        
        container.innerHTML = results.slice(0, 50).map((r, index) => {
            const abbr = bookAbbreviations[r.bookId];
            const refKo = `${abbr.ko} ${r.chapter}:${r.verse}`;
            const refZh = `${abbr.zh} ${r.chapter}:${r.verse}`;
            
            // È´ò‰∫ÆÈóúÈçµÂ≠ó
            const highlightedZh = r.zh.replace(new RegExp(safeKeyword, 'g'), `<mark>${keyword}</mark>`);
            const highlightedKo = r.ko.replace(new RegExp(safeKeyword, 'g'), `<mark>${keyword}</mark>`);
            
            return `
                <div class="bible-search-result-item" onclick="window.openSearchPreview(${index})">
                    <div class="bible-search-result-ref">${refKo} / ${refZh}</div>
                    <div class="bible-search-result-text" style="color: #666; font-size: 0.9rem; margin-bottom: 5px;">${highlightedKo}</div>
                    <div class="bible-search-result-text">${highlightedZh}</div>
                </div>
            `;
        }).join('');
        
        // ÂÑ≤Â≠òÁµêÊûú‰æõÈ†êË¶Ω‰ΩøÁî®
        window.currentSearchResults = results;
    }
    
    // ÈñãÂïüÊêúÂ∞ãÁµêÊûúÈ†êË¶Ω
    window.openSearchPreview = (index) => {
        const result = window.currentSearchResults[index];
        if (!result) return;
        
        const preview = document.getElementById('bibleSearchPreview');
        const title = document.getElementById('bibleSearchPreviewTitle');
        const body = document.getElementById('bibleSearchPreviewBody');
        
        const abbr = bookAbbreviations[result.bookId];
        title.textContent = currentLang === 'ko' 
            ? `${result.bookKo} ${result.chapter}:${result.verse}`
            : `${result.bookZh} ${result.chapter}:${result.verse}`;
        
        // Ê∏≤ÊüìÁ∂ìÊñáÂÖßÂÆπÔºàÂèØÈï∑ÊåâÊàñÂè≥ÈçµË§áË£ΩÔºâ
        body.innerHTML = `
            <div class="bible-search-preview-verse"
                 data-book-id="${result.bookId}"
                 data-chapter="${result.chapter}"
                 data-verse="${result.verse}"
                 data-ko="${encodeURIComponent(result.ko)}"
                 data-zh="${encodeURIComponent(result.zh)}"
                 oncontextmenu="window.handlePreviewContextMenu(event, this)"
                 ontouchstart="window.handlePreviewTouchStart(event, this)"
                 ontouchend="window.handlePreviewTouchEnd(event, this)"
                 ontouchmove="window.handlePreviewTouchMove(event, this)"
                 onmousedown="window.handlePreviewMouseDown(event, this)"
                 onmouseup="window.handlePreviewMouseUp(event, this)"
                 onmouseleave="window.handlePreviewMouseLeave(event, this)">
                <div class="verse-num" style="color: var(--primary-green); font-weight: bold; margin-bottom: 10px; font-size: 1.15rem;">
                    ${result.verse}
                </div>
                <div class="verse-text-ko" style="color: #555; font-size: 1.15rem; margin-bottom: 10px; line-height: 1.8; font-family: 'Noto Serif KR', 'Noto Serif TC', serif;">
                    ${result.ko}
                </div>
                <div class="verse-text-zh" style="font-size: 1.2rem; line-height: 1.9; font-family: 'Noto Serif TC', 'Noto Serif KR', serif;">
                    ${result.zh}
                </div>
            </div>
        `;
        
        preview.classList.add('show');
    };
    
    // ÈóúÈñâÊêúÂ∞ãÈ†êË¶Ω
    window.closeSearchPreview = () => {
        document.getElementById('bibleSearchPreview').classList.remove('show');
    };
    
    // È†êË¶ΩÈ†ÅÈï∑ÊåâÁõ∏ÈóúËÆäÊï∏
    let previewLongPressTimer = null;
    let previewLongPressElement = null;
    let previewLongPressTriggered = false;
    let previewTouchStartX = 0;
    let previewTouchStartY = 0;
    
    // Ê∏ÖÈô§È†êË¶ΩÈ†ÅÈï∑ÊåâÁãÄÊÖã
    function clearPreviewLongPressState() {
        if (previewLongPressTimer) {
            clearTimeout(previewLongPressTimer);
            previewLongPressTimer = null;
        }
        if (previewLongPressElement) {
            previewLongPressElement.classList.remove('long-press');
            previewLongPressElement = null;
        }
        previewLongPressTriggered = false;
    }
    
    // Ëß∏ÁôºÈ†êË¶ΩÈ†ÅÈï∑ÊåâÊàêÂäü
    function triggerPreviewLongPress(event, element) {
        previewLongPressTriggered = true;
        element.classList.remove('long-press');
        element.classList.add('long-press-success');
        
        if (navigator.vibrate) {
            navigator.vibrate(50);
        }
        
        setTimeout(() => {
            element.classList.remove('long-press-success');
            showPreviewCopyMenu(event, element);
        }, 100);
    }
    
    // È°ØÁ§∫È†êË¶ΩÈ†ÅË§áË£ΩÈÅ∏ÂñÆ
    function showPreviewCopyMenu(event, element) {
        selectedVerseData = {
            verse: element.dataset.verse,
            ko: decodeURIComponent(element.dataset.ko),
            zh: decodeURIComponent(element.dataset.zh),
            bookId: element.dataset.bookId,
            chapter: element.dataset.chapter
        };
        
        updateCopyMenuLanguage();
        
        const menu = document.getElementById('bibleCopyMenu');
        const overlay = document.getElementById('bibleCopyOverlay');
        
        let x, y;
        if (event.touches && event.touches.length > 0) {
            x = event.touches[0].clientX;
            y = event.touches[0].clientY;
        } else if (event.changedTouches && event.changedTouches.length > 0) {
            x = event.changedTouches[0].clientX;
            y = event.changedTouches[0].clientY;
        } else {
            x = event.clientX;
            y = event.clientY;
        }
        
        if (x < 10) x = 10;
        if (x + 150 > window.innerWidth) x = window.innerWidth - 160;
        if (y + 150 > window.innerHeight) y = window.innerHeight - 160;
        
        menu.style.left = x + 'px';
        menu.style.top = y + 'px';
        menu.classList.add('show');
        overlay.classList.add('show');
    }
    
    // È†êË¶ΩÈ†ÅËß∏ÊéßÈñãÂßã
    window.handlePreviewTouchStart = (event, element) => {
        clearPreviewLongPressState();
        previewLongPressElement = element;
        previewTouchStartX = event.touches[0].clientX;
        previewTouchStartY = event.touches[0].clientY;
        
        element.classList.add('long-press');
        
        previewLongPressTimer = setTimeout(() => {
            triggerPreviewLongPress(event, element);
        }, LONG_PRESS_DURATION);
    };
    
    // È†êË¶ΩÈ†ÅËß∏ÊéßÁµêÊùü
    window.handlePreviewTouchEnd = (event, element) => {
        if (!previewLongPressTriggered) {
            clearPreviewLongPressState();
        }
    };
    
    // È†êË¶ΩÈ†ÅËß∏ÊéßÁßªÂãï
    window.handlePreviewTouchMove = (event, element) => {
        if (previewLongPressTimer) {
            const touch = event.touches[0];
            const moveX = Math.abs(touch.clientX - previewTouchStartX);
            const moveY = Math.abs(touch.clientY - previewTouchStartY);
            
            if (moveX > 10 || moveY > 10) {
                clearPreviewLongPressState();
            }
        }
    };
    
    // È†êË¶ΩÈ†ÅÊªëÈº†Êåâ‰∏ã
    window.handlePreviewMouseDown = (event, element) => {
        if (event.button !== 0) return;
        
        clearPreviewLongPressState();
        previewLongPressElement = element;
        
        element.classList.add('long-press');
        
        previewLongPressTimer = setTimeout(() => {
            triggerPreviewLongPress(event, element);
        }, LONG_PRESS_DURATION);
    };
    
    // È†êË¶ΩÈ†ÅÊªëÈº†ÊîæÈñã
    window.handlePreviewMouseUp = (event, element) => {
        if (!previewLongPressTriggered) {
            clearPreviewLongPressState();
        }
    };
    
    // È†êË¶ΩÈ†ÅÊªëÈº†Èõ¢Èñã
    window.handlePreviewMouseLeave = (event, element) => {
        if (!previewLongPressTriggered) {
            clearPreviewLongPressState();
        }
    };
    
    // È†êË¶ΩÈ†ÅÂè≥ÈçµÈÅ∏ÂñÆ
    window.handlePreviewContextMenu = (event, element) => {
        event.preventDefault();
        event.stopPropagation();
        clearPreviewLongPressState();
        showPreviewCopyMenu(event, element);
        return false;
    };
    
    // ===== ÂäüËÉΩÊåâÈàïÁæ§ÁµÑ =====
    let fabExpanded = false;
    
    // ÂàáÊèõÂäüËÉΩÊåâÈàïÂ±ïÈñã/Êî∂Ëµ∑
    window.toggleBibleFab = () => {
        fabExpanded = !fabExpanded;
        const mainBtn = document.getElementById('bibleFabMain');
        const actions = document.getElementById('bibleFabActions');
        const icon = document.getElementById('bibleFabIcon');
        
        if (fabExpanded) {
            mainBtn.classList.add('active');
            actions.classList.add('show');
            icon.textContent = '‚úï';
        } else {
            mainBtn.classList.remove('active');
            actions.classList.remove('show');
            icon.textContent = '‚úö';
        }
    };
    
    // Êî∂Ëµ∑ÂäüËÉΩÊåâÈàï
    function collapseBibleFab() {
        fabExpanded = false;
        document.getElementById('bibleFabMain').classList.remove('active');
        document.getElementById('bibleFabActions').classList.remove('show');
        document.getElementById('bibleFabIcon').textContent = '‚úö';
    }
    
    // ===== ÁØÑÂúçË§áË£ΩÂäüËÉΩ =====
    let rangeCopyMode = 'zh';
    
    // ÈñãÂïüÁØÑÂúçË§áË£ΩÂΩàÁ™ó
    window.openRangeCopyModal = () => {
        // Ê™¢Êü•ÊòØÂê¶Âú®ËÅñÁ∂ìÂÖßÂÆπÈ†Å
        const contentView = document.getElementById('bibleContentView');
        if (!contentView.classList.contains('show') || !currentBibleBook || !currentBibleChapter) {
            const t = i18n[currentLang];
            alert(currentLang === 'ko' ? 'Î®ºÏ†Ä ÏÑ±Í≤Ω Ïû•ÏùÑ ÏÑ†ÌÉùÌïòÏÑ∏Ïöî.' : 'Ë´ãÂÖàÈÄ≤ÂÖ•ËÅñÁ∂ìÁ´†ÁØÄÂÖßÂÆπÈ†ÅÈù¢„ÄÇ');
            return;
        }
        
        collapseBibleFab();
        
        const modal = document.getElementById('bibleRangeCopyModal');
        const title = document.getElementById('rangeCopyTitle');
        const subtitle = document.getElementById('rangeCopySubtitle');
        const startInput = document.getElementById('rangeCopyStart');
        const endInput = document.getElementById('rangeCopyEnd');
        
        // Êõ¥Êñ∞Ê®ôÈ°åÂíåËº∏ÂÖ•Ê°ÜÊèêÁ§∫
        const abbr = bookAbbreviations[currentBibleBook.id];
        if (currentLang === 'ko') {
            title.textContent = 'ÏÑ±Í≤Ω Íµ¨Ï†à Î≥µÏÇ¨';
            subtitle.textContent = `${currentBibleBook.ko} ${currentBibleChapter}Ïû•`;
            startInput.placeholder = 'ÏãúÏûë';
            endInput.placeholder = 'ÎÅù';
        } else {
            title.textContent = 'Ë§áË£ΩÁ∂ìÊñáÁØÑÂúç';
            subtitle.textContent = `${currentBibleBook.zh} Á¨¨${currentBibleChapter}Á´†`;
            startInput.placeholder = 'Ëµ∑';
            endInput.placeholder = 'ËøÑ';
        }
        
        // Êõ¥Êñ∞Ê®°ÂºèÊåâÈàïÊñáÂ≠ó
        updateRangeCopyModeButtons();
        
        // Ê∏ÖÁ©∫Ëº∏ÂÖ•
        startInput.value = '';
        endInput.value = '';
        
        modal.classList.add('show');
        startInput.focus();
    };
    
    // ÈóúÈñâÁØÑÂúçË§áË£ΩÂΩàÁ™ó
    window.closeRangeCopyModal = () => {
        document.getElementById('bibleRangeCopyModal').classList.remove('show');
    };
    
    // Êõ¥Êñ∞Ê®°ÂºèÊåâÈàïÊñáÂ≠ó
    function updateRangeCopyModeButtons() {
        const buttons = document.querySelectorAll('.bible-range-copy-mode-btn');
        const confirmBtn = document.getElementById('rangeCopyConfirm');
        const cancelBtns = document.querySelectorAll('.bible-range-copy-btn.secondary');
        
        if (currentLang === 'ko') {
            buttons[0].textContent = 'Ï§ëÍµ≠Ïñ¥';
            buttons[1].textContent = 'ÌïúÍµ≠Ïñ¥';
            buttons[2].textContent = 'Îëò Îã§';
            confirmBtn.textContent = 'Î≥µÏÇ¨';
            cancelBtns.forEach(btn => btn.textContent = 'Ï∑®ÏÜå');
        } else {
            buttons[0].textContent = '‰∏≠Êñá';
            buttons[1].textContent = 'ÈüìÊñá';
            buttons[2].textContent = 'ÈõôË™û';
            confirmBtn.textContent = 'Ë§áË£Ω';
            cancelBtns.forEach(btn => btn.textContent = 'ÂèñÊ∂à');
        }
    }
    
    // ÈÅ∏ÊìáË§áË£ΩÊ®°Âºè
    window.selectRangeCopyMode = (mode) => {
        rangeCopyMode = mode;
        document.querySelectorAll('.bible-range-copy-mode-btn').forEach(btn => {
            btn.classList.toggle('active', btn.dataset.mode === mode);
        });
    };
    
    // Á¢∫Ë™çÁØÑÂúçË§áË£Ω
    window.confirmRangeCopy = () => {
        const startVerse = parseInt(document.getElementById('rangeCopyStart').value);
        const endVerse = parseInt(document.getElementById('rangeCopyEnd').value);
        
        if (!startVerse || !endVerse) {
            alert(currentLang === 'ko' ? 'ÏãúÏûëÍ≥º ÎÅù Ï†àÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî.' : 'Ë´ãËº∏ÂÖ•Ëµ∑ÂßãÂíåÁµêÊùüÁØÄÊï∏„ÄÇ');
            return;
        }
        
        if (startVerse > endVerse) {
            alert(currentLang === 'ko' ? 'ÏãúÏûë Ï†àÏù¥ ÎÅù Ï†àÎ≥¥Îã§ ÏûëÏïÑÏïº Ìï©ÎãàÎã§.' : 'Ëµ∑ÂßãÁØÄÊï∏ÊáâÂ∞èÊñºÁµêÊùüÁØÄÊï∏„ÄÇ');
            return;
        }
        
        const verses = bibleContent[currentBibleBook.id]?.[currentBibleChapter];
        if (!verses) {
            alert(currentLang === 'ko' ? 'ÏÑ±Í≤Ω ÎÇ¥Ïö©ÏùÑ Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§.' : 'Êâæ‰∏çÂà∞Á∂ìÊñáÂÖßÂÆπ„ÄÇ');
            return;
        }
        
        // ÁØ©ÈÅ∏ÊåáÂÆöÁØÑÂúçÁöÑÁ∂ìÊñá
        const selectedVerses = verses.filter(v => 
            v.verse && v.verse >= startVerse && v.verse <= endVerse
        );
        
        if (selectedVerses.length === 0) {
            alert(currentLang === 'ko' ? 'Ìï¥Îãπ Î≤îÏúÑÏóê Íµ¨Ï†àÏù¥ ÏóÜÏäµÎãàÎã§.' : 'Ë©≤ÁØÑÂúçÂÖßÊ≤íÊúâÁ∂ìÊñá„ÄÇ');
            return;
        }
        
        // ÁµÑÂêàË§áË£ΩÊñáÂ≠ó
        const abbr = bookAbbreviations[currentBibleBook.id];
        let textToCopy = '';
        
        if (rangeCopyMode === 'zh') {
            textToCopy = `${abbr.zh} ${currentBibleChapter}:${startVerse}-${endVerse}\n`;
            textToCopy += selectedVerses.map(v => `${v.verse} ${v.zh}`).join('\n');
        } else if (rangeCopyMode === 'ko') {
            textToCopy = `${abbr.ko} ${currentBibleChapter}:${startVerse}-${endVerse}\n`;
            textToCopy += selectedVerses.map(v => `${v.verse} ${v.ko}`).join('\n');
        } else {
            textToCopy = `${abbr.ko} ${currentBibleChapter}:${startVerse}-${endVerse} / ${abbr.zh} ${currentBibleChapter}:${startVerse}-${endVerse}\n`;
            textToCopy += selectedVerses.map(v => `${v.verse} ${v.ko}\n${v.verse} ${v.zh}`).join('\n\n');
        }
        
        // Ë§áË£ΩÂà∞Ââ™Ë≤ºÁ∞ø
        navigator.clipboard.writeText(textToCopy).then(() => {
            const t = i18n[currentLang];
            alert(t.msgCopied || 'Â∑≤Ë§áË£ΩÔºÅ');
            closeRangeCopyModal();
        }).catch(err => {
            const textarea = document.createElement('textarea');
            textarea.value = textToCopy;
            document.body.appendChild(textarea);
            textarea.select();
            document.execCommand('copy');
            document.body.removeChild(textarea);
            
            const t = i18n[currentLang];
            alert(t.msgCopied || 'Â∑≤Ë§áË£ΩÔºÅ');
            closeRangeCopyModal();
        });
    };
    
    // È†ÅÈù¢ËºâÂÖ•ÊôÇÂàùÂßãÂåñËÅñÁ∂ì
    initBiblePage();
    loadSearchHistory();
    
    // ÊêúÂ∞ãËº∏ÂÖ•Ê°Ü‰∫ã‰ª∂Áõ£ËÅΩÔºàËôïÁêÜËº∏ÂÖ•Ê≥ïÁµÑÂ≠óÂïèÈ°åÔºâ
    (function() {
        const searchInput = document.getElementById('bibleSearchInput');
        let isComposing = false; // ÊòØÂê¶Ê≠£Âú®ÁµÑÂ≠ó‰∏≠
        
        // ÈñãÂßãÁµÑÂ≠óÔºàËº∏ÂÖ•Ê≥ïÈñãÂßãËº∏ÂÖ•Ôºâ
        searchInput.addEventListener('compositionstart', () => {
            isComposing = true;
        });
        
        // ÁµêÊùüÁµÑÂ≠óÔºàËº∏ÂÖ•Ê≥ïÂÆåÊàêËº∏ÂÖ•Ôºâ
        searchInput.addEventListener('compositionend', (e) => {
            isComposing = false;
            // ÁµÑÂ≠óÂÆåÊàêÂæåÂü∑Ë°åÊêúÂ∞ã
            handleSearchInput(e.target.value);
        });
        
        // ‰∏ÄËà¨Ëº∏ÂÖ•‰∫ã‰ª∂
        searchInput.addEventListener('input', (e) => {
            // Â¶ÇÊûúÊ≠£Âú®ÁµÑÂ≠ó‰∏≠Ôºå‰∏çÂü∑Ë°åÊêúÂ∞ã
            if (isComposing) return;
            handleSearchInput(e.target.value);
        });
    })();

</script>
</body>
</html>
